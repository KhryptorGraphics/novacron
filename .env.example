# NovaCron Environment Configuration
# Copy this file to .env and customize the values for your environment

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
API_PORT=8090
WS_PORT=8091
FRONTEND_PORT=8092
READ_TIMEOUT=15s
WRITE_TIMEOUT=15s
IDLE_TIMEOUT=60s
SHUTDOWN_TIMEOUT=30s

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=novacron
POSTGRES_PORT=11432
DB_URL=postgresql://postgres:postgres@postgres:5432/novacron?sslmode=disable
DB_MAX_CONNECTIONS=25
DB_CONN_MAX_LIFETIME=5m

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# IMPORTANT: Change this in production - use a strong random string
AUTH_SECRET=changeme_in_production
AUTH_SESSION_EXPIRY=24h
AUTH_PASSWORD_MIN_LENGTH=8
AUTH_REQUIRE_PASSWORD_MIXED=true
AUTH_REQUIRE_PASSWORD_NUMBER=true
AUTH_REQUIRE_PASSWORD_SYMBOL=true

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_STRUCTURED=true
LOG_OUTPUT=stdout

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
CORS_ALLOWED_ORIGINS=http://localhost:8092,http://localhost:3001
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Request-ID

# =============================================================================
# VM MANAGEMENT CONFIGURATION
# =============================================================================
STORAGE_PATH=/var/lib/novacron/vms
VM_DEFAULT_CPU_SHARES=1024
VM_DEFAULT_MEMORY_MB=512
VM_MAX_PER_NODE=100
VM_HEALTH_CHECK_INTERVAL=30s

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin123

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_PORT=6379
REDIS_PASSWORD=redis123

# =============================================================================
# DEVELOPMENT/PRODUCTION FLAGS
# =============================================================================
NODE_ENV=production
NEXT_TELEMETRY_DISABLED=1
GIN_MODE=release

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST_SIZE=10
RATE_LIMIT_BLOCK_DURATION=15m

# =============================================================================
# TLS/SSL CONFIGURATION (Production)
# =============================================================================
# Uncomment and configure for production TLS
# TLS_CERT_FILE=/etc/ssl/certs/novacron.crt
# TLS_KEY_FILE=/etc/ssl/private/novacron.key
# TLS_ENABLED=true

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
# BACKUP_ENABLED=true
# BACKUP_SCHEDULE=0 2 * * *
# BACKUP_RETENTION_DAYS=30
# BACKUP_STORAGE_PATH=/var/backups/novacron