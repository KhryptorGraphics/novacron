
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for novacron/frontend/.next/static/chunks/1623-26c4d27b147758bf.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../../../index.html">All files</a> / <a href="index.html">novacron/frontend/.next/static/chunks</a> 1623-26c4d27b147758bf.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/226</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/105</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/62</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">"use strict";<span class="cstat-no" title="statement not covered" >(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1623],{57116:<span class="fstat-no" title="function not covered" >fu</span>nction(e,t,r){<span class="cstat-no" title="statement not covered" >r.d(t,{Z:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return u}</span>});v</span>ar n=<span class="cstat-no" title="statement not covered" >r(57437),</span>o=<span class="cstat-no" title="statement not covered" >r(2265),</span>s=<span class="cstat-no" title="statement not covered" >r(24033),</span>a=<span class="cstat-no" title="statement not covered" >r(16746),</span>i=<span class="cstat-no" title="statement not covered" >r(87258);</span>function <span class="fstat-no" title="function not covered" >u(</span>e){let{children:t,requireAuth:r=<span class="branch-0 cbranch-no" title="branch not covered" >!0,</span>redirectTo:u=<span class="branch-0 cbranch-no" title="branch not covered" >"/auth/login"}</span>=<span class="cstat-no" title="statement not covered" >e;</span>const{isAuthenticated:c,isLoading:d,requires2FA:l}=<span class="cstat-no" title="statement not covered" >(0,a.useAuth)(),</span>h=<span class="cstat-no" title="statement not covered" >(0,s.useRouter)(),</span>f=<span class="cstat-no" title="statement not covered" >(0,s.usePathname)();<span class="cstat-no" title="statement not covered" ></span>return(0,o.useEffect)((<span class="fstat-no" title="function not covered" >()</span>=&gt;{<span class="cstat-no" title="statement not covered" >if(d)<span class="cstat-no" title="statement not covered" >return;c</span></span>onst e=<span class="cstat-no" title="statement not covered" >["/auth/login","/auth/register","/auth/forgot-password","/auth/reset-password"].some((<span class="fstat-no" title="function not covered" >e=</span>&gt;<span class="cstat-no" title="statement not covered" >f.startsWith(e))</span>);<span class="cstat-no" title="statement not covered" ></span>!r||c||l||e?c&amp;&amp;e?h.push("/dashboard"):!l||f.startsWith("/auth/")||h.push("/auth/login"):h.push(u)}</span>),[c,d,l,f,h,r,u]),d?(0,n.jsx)("div",{className:"flex min-h-screen items-center justify-center",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(i.P.spinner,{className:"h-6 w-6 animate-spin"}),(0,n.jsx)("span",{className:"text-muted-foreground",children:"Loading..."})]})}):!r||c||l?(0,n.jsx)(n.Fragment,{children:t}):null}</span>},40150:<span class="fstat-no" title="function not covered" >fu</span>nction(e,t,r){<span class="cstat-no" title="statement not covered" >r.d(t,{C:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return i}</span>});v</span>ar n=<span class="cstat-no" title="statement not covered" >r(57437),</span>o=(<span class="cstat-no" title="statement not covered" >r(2265),r(96061))</span>,s=<span class="cstat-no" title="statement not covered" >r(60345);</span>const a=<span class="cstat-no" title="statement not covered" >(0,o.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});</span>function <span class="fstat-no" title="function not covered" >i(</span>e){let{className:t,variant:r,...o}=<span class="cstat-no" title="statement not covered" >e;<span class="cstat-no" title="statement not covered" ></span>return(0,n.jsx)("div",{className:(0,s.cn)(a({variant:r}),t),...o})}</span>},3089:<span class="fstat-no" title="function not covered" >fu</span>nction(e,t,r){<span class="cstat-no" title="statement not covered" >r.d(t,{z:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return c}</span>});v</span>ar n=<span class="cstat-no" title="statement not covered" >r(57437),</span>o=<span class="cstat-no" title="statement not covered" >r(2265),</span>s=<span class="cstat-no" title="statement not covered" >r(67256),</span>a=<span class="cstat-no" title="statement not covered" >r(96061),</span>i=<span class="cstat-no" title="statement not covered" >r(60345);</span>const u=<span class="cstat-no" title="statement not covered" >(0,a.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm hover:shadow-md",success:"bg-success text-success-foreground hover:bg-success/90 shadow-sm hover:shadow-md",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-sm hover:shadow-md",info:"bg-info text-info-foreground hover:bg-info/90 shadow-sm hover:shadow-md",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-accent-foreground/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm",ghost:"hover:bg-accent hover:text-accent-foreground hover:scale-105",link:"text-primary underline-offset-4 hover:underline hover:text-primary/80",nova:"bg-gradient-to-r from-nova-500 to-nova-600 text-white hover:from-nova-600 hover:to-nova-700 shadow-md hover:shadow-lg"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),</span>c=<span class="cstat-no" title="statement not covered" >o.forwardRef((<span class="fstat-no" title="function not covered" >(e</span>,t)=&gt;{let{className:r,variant:o,size:a,asChild:c=<span class="branch-0 cbranch-no" title="branch not covered" >!1,</span>...d}=<span class="cstat-no" title="statement not covered" >e;</span>const l=<span class="cstat-no" title="statement not covered" >c?s.g7:"button";<span class="cstat-no" title="statement not covered" ></span>return(0,n.jsx)(l,{className:(0,i.cn)(u({variant:o,size:a,className:r})),ref:t,...d})}</span>));<span class="cstat-no" title="statement not covered" ></span>c.displayName="Button"}</span>,10609:<span class="fstat-no" title="function not covered" >fu</span>nction(e,t,r){<span class="cstat-no" title="statement not covered" >r.d(t,{Ol:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return i}</span>,SZ:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return c}</span>,Zb:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return a}</span>,aY:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return d}</span>,eW:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return l}</span>,ll:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return u}</span>});v</span>ar n=<span class="cstat-no" title="statement not covered" >r(57437),</span>o=<span class="cstat-no" title="statement not covered" >r(2265),</span>s=<span class="cstat-no" title="statement not covered" >r(60345);</span>const a=<span class="cstat-no" title="statement not covered" >o.forwardRef((<span class="fstat-no" title="function not covered" >(e</span>,t)=&gt;{let{className:r,...o}=<span class="cstat-no" title="statement not covered" >e;<span class="cstat-no" title="statement not covered" ></span>return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...o})}</span>));<span class="cstat-no" title="statement not covered" ></span>a.displayName="Card";c</span>onst i=<span class="cstat-no" title="statement not covered" >o.forwardRef((<span class="fstat-no" title="function not covered" >(e</span>,t)=&gt;{let{className:r,...o}=<span class="cstat-no" title="statement not covered" >e;<span class="cstat-no" title="statement not covered" ></span>return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",r),...o})}</span>));<span class="cstat-no" title="statement not covered" ></span>i.displayName="CardHeader";c</span>onst u=<span class="cstat-no" title="statement not covered" >o.forwardRef((<span class="fstat-no" title="function not covered" >(e</span>,t)=&gt;{let{className:r,...o}=<span class="cstat-no" title="statement not covered" >e;<span class="cstat-no" title="statement not covered" ></span>return(0,n.jsx)("h3",{ref:t,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",r),...o})}</span>));<span class="cstat-no" title="statement not covered" ></span>u.displayName="CardTitle";c</span>onst c=<span class="cstat-no" title="statement not covered" >o.forwardRef((<span class="fstat-no" title="function not covered" >(e</span>,t)=&gt;{let{className:r,...o}=<span class="cstat-no" title="statement not covered" >e;<span class="cstat-no" title="statement not covered" ></span>return(0,n.jsx)("p",{ref:t,className:(0,s.cn)("text-sm text-muted-foreground",r),...o})}</span>));<span class="cstat-no" title="statement not covered" ></span>c.displayName="CardDescription";c</span>onst d=<span class="cstat-no" title="statement not covered" >o.forwardRef((<span class="fstat-no" title="function not covered" >(e</span>,t)=&gt;{let{className:r,...o}=<span class="cstat-no" title="statement not covered" >e;<span class="cstat-no" title="statement not covered" ></span>return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("p-6 pt-0",r),...o})}</span>));<span class="cstat-no" title="statement not covered" ></span>d.displayName="CardContent";c</span>onst l=<span class="cstat-no" title="statement not covered" >o.forwardRef((<span class="fstat-no" title="function not covered" >(e</span>,t)=&gt;{let{className:r,...o}=<span class="cstat-no" title="statement not covered" >e;<span class="cstat-no" title="statement not covered" ></span>return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("flex items-center p-6 pt-0",r),...o})}</span>));<span class="cstat-no" title="statement not covered" ></span>l.displayName="CardFooter"}</span>,87258:<span class="fstat-no" title="function not covered" >fu</span>nction(e,t,r){<span class="cstat-no" title="statement not covered" >r.d(t,{P:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return A}</span>});v</span>ar n=<span class="cstat-no" title="statement not covered" >r(86264),</span>o=<span class="cstat-no" title="statement not covered" >r(81291),</span>s=<span class="cstat-no" title="statement not covered" >r(17158),</span>a=<span class="cstat-no" title="statement not covered" >r(62442),</span>i=<span class="cstat-no" title="statement not covered" >r(82549),</span>u=<span class="cstat-no" title="statement not covered" >r(11981),</span>c=<span class="cstat-no" title="statement not covered" >r(74056),</span>d=<span class="cstat-no" title="statement not covered" >r(13008),</span>l=<span class="cstat-no" title="statement not covered" >r(82104),</span>h=<span class="cstat-no" title="statement not covered" >r(99670),</span>f=<span class="cstat-no" title="statement not covered" >r(77216),</span>g=<span class="cstat-no" title="statement not covered" >r(49036),</span>m=<span class="cstat-no" title="statement not covered" >r(36678),</span>p=<span class="cstat-no" title="statement not covered" >r(5589),</span>v=<span class="cstat-no" title="statement not covered" >r(1295),</span>y=<span class="cstat-no" title="statement not covered" >r(67972),</span>b=<span class="cstat-no" title="statement not covered" >r(25750),</span>w=<span class="cstat-no" title="statement not covered" >r(12741),</span>k=<span class="cstat-no" title="statement not covered" >r(22812),</span>T=<span class="cstat-no" title="statement not covered" >r(73067),</span>x=<span class="cstat-no" title="statement not covered" >r(68291),</span>_=<span class="cstat-no" title="statement not covered" >r(20173),</span>N=<span class="cstat-no" title="statement not covered" >r(28203),</span>S=<span class="cstat-no" title="statement not covered" >r(6141),</span>O=<span class="cstat-no" title="statement not covered" >r(92851);</span>const A=<span class="cstat-no" title="statement not covered" >{spinner:n.Z,chevronLeft:o.Z,chevronRight:s.Z,check:a.Z,cross:i.Z,warning:u.Z,info:c.Z,success:d.Z,error:l.Z,eye:h.Z,eyeOff:f.Z,shield:g.Z,shieldCheck:m.Z,lock:p.Z,mail:v.Z,user:y.Z,users:b.Z,phone:w.Z,building:k.Z,arrowLeft:T.Z,arrowRight:x.Z,checkCircle2:_.Z,calendar:N.Z,clock:S.Z,sparkles:O.Z}}</span>,16746:<span class="fstat-no" title="function not covered" >fu</span>nction(e,t,r){<span class="cstat-no" title="statement not covered" >r.r(t),r.d(t,{AuthProvider:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return u}</span>,useAuth:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return c}</span>});v</span>ar n=<span class="cstat-no" title="statement not covered" >r(57437),</span>o=<span class="cstat-no" title="statement not covered" >r(2265),</span>s=<span class="cstat-no" title="statement not covered" >r(24033),</span>a=<span class="cstat-no" title="statement not covered" >r(50471);</span>const i=<span class="cstat-no" title="statement not covered" >(0,o.createContext)(void 0);</span>function <span class="fstat-no" title="function not covered" >u(</span>e){let{children:t}=<span class="cstat-no" title="statement not covered" >e;</span>const[r,u]=<span class="cstat-no" title="statement not covered" >(0,o.useState)(null),</span>[c,d]=<span class="cstat-no" title="statement not covered" >(0,o.useState)(!0),</span>[l,h]=<span class="cstat-no" title="statement not covered" >(0,o.useState)(!1),</span>[f,g]=<span class="cstat-no" title="statement not covered" >(0,o.useState)(null),</span>m=<span class="cstat-no" title="statement not covered" >(0,s.useRouter)();<span class="cstat-no" title="statement not covered" ></span>(0,o.useEffect)((<span class="fstat-no" title="function not covered" >()</span>=&gt;{const e=<span class="cstat-no" title="statement not covered" >a.O.getToken(),</span>t=<span class="cstat-no" title="statement not covered" >a.O.getTempToken();<span class="cstat-no" title="statement not covered" ></span>if(e){const e=<span class="cstat-no" title="statement not covered" >a.O.getCurrentUser();<span class="cstat-no" title="statement not covered" ></span>u(e)}</span>else <span class="cstat-no" title="statement not covered" >t&amp;&amp;(g(t),h(!0));<span class="cstat-no" title="statement not covered" >d</span></span>(!1)}</span>),[]);<span class="cstat-no" title="statement not covered" >r</span>eturn(0,n.jsx)(i.Provider,{value:{user:r,isLoading:c,isAuthenticated:!!r,requires2FA:l,tempToken:f,login:<span class="fstat-no" title="function not covered" >as</span>ync(e,t)=&gt;{<span class="cstat-no" title="statement not covered" >try{const r=<span class="cstat-no" title="statement not covered" >await a.O.login({email:e,password:t});<span class="cstat-no" title="statement not covered" ></span>r.requires_2fa&amp;&amp;r.temp_token?(a.O.setTempToken(r.temp_token),g(r.temp_token),h(!0)):(a.O.setToken(r.token,r.user),u(r.user),h(!1),g(null))}</span>catch(r){<span class="cstat-no" title="statement not covered" >throw console.error("Login failed:",r),r}</span>}</span>,logout:<span class="fstat-no" title="function not covered" >()</span>=&gt;{<span class="cstat-no" title="statement not covered" >a.O.logout(),u(null),h(!1),g(null),m.push("/auth/login")}</span>,verify2FA:<span class="fstat-no" title="function not covered" >as</span>ync e=&gt;{<span class="cstat-no" title="statement not covered" >if(!f)<span class="cstat-no" title="statement not covered" >throw new Error("No temporary token available");<span class="cstat-no" title="statement not covered" >t</span></span>ry{const t=<span class="cstat-no" title="statement not covered" >await a.O.verify2FALogin({code:e,temp_token:f});<span class="cstat-no" title="statement not covered" ></span>a.O.setToken(t.token,t.user),a.O.removeTempToken(),u(t.user),h(!1),g(null)}</span>catch(t){<span class="cstat-no" title="statement not covered" >throw console.error("2FA verification failed:",t),t}</span>}</span>},children:t})}</span>function <span class="fstat-no" title="function not covered" >c(</span>){const e=<span class="cstat-no" title="statement not covered" >(0,o.useContext)(i);<span class="cstat-no" title="statement not covered" ></span>if(void 0===e)<span class="cstat-no" title="statement not covered" >throw new Error("useAuth must be used within an AuthProvider");<span class="cstat-no" title="statement not covered" >r</span></span>eturn e}</span>},50471:<span class="fstat-no" title="function not covered" >fu</span>nction(e,t,r){<span class="cstat-no" title="statement not covered" >r.d(t,{O:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return o}</span>});c</span>onst n=<span class="cstat-no" title="statement not covered" >r(62601).env.NEXT_PUBLIC_API_URL||"http://localhost:8090";</span>const o=<span class="cstat-no" title="statement not covered" >new class{<span class="fstat-no" title="function not covered" >as</span>ync request(e){let t=<span class="cstat-no" title="statement not covered" >arguments.length&gt;1&amp;&amp;void 0!==arguments[1]?arguments[1]:{};</span>const r=<span class="cstat-no" title="statement not covered" >"".concat(n).concat(e),</span>o=<span class="cstat-no" title="statement not covered" >{headers:{"Content-Type":"application/json",...t.headers},...t};<span class="cstat-no" title="statement not covered" ></span>try{const e=<span class="cstat-no" title="statement not covered" >await fetch(r,o);<span class="cstat-no" title="statement not covered" ></span>if(!e.ok)<span class="cstat-no" title="statement not covered" >throw new Error("HTTP error! status: ".concat(e.status));<span class="cstat-no" title="statement not covered" >r</span></span>eturn await e.json()}</span>catch(s){<span class="cstat-no" title="statement not covered" >throw console.error("API request failed for ".concat(e,":"),s),s}</span>}<span class="fstat-no" title="function not covered" ></span>as</span>ync login(e){<span class="cstat-no" title="statement not covered" >return this.request("/api/auth/login",{method:"POST",body:JSON.stringify(e)})}<span class="fstat-no" title="function not covered" ></span>as</span>ync register(e){<span class="cstat-no" title="statement not covered" >return this.request("/api/auth/register",{method:"POST",body:JSON.stringify(e)})}<span class="fstat-no" title="function not covered" ></span>as</span>ync forgotPassword(e){<span class="cstat-no" title="statement not covered" >return this.request("/api/auth/forgot-password",{method:"POST",body:JSON.stringify(e)})}<span class="fstat-no" title="function not covered" ></span>as</span>ync resetPassword(e){<span class="cstat-no" title="statement not covered" >return this.request("/api/auth/reset-password",{method:"POST",body:JSON.stringify(e)})}<span class="fstat-no" title="function not covered" ></span>de</span>codeJWT(e){<span class="cstat-no" title="statement not covered" >try{const t=<span class="cstat-no" title="statement not covered" >e.split(".");<span class="cstat-no" title="statement not covered" ></span>if(3!==t.length)<span class="cstat-no" title="statement not covered" >throw new Error("Invalid JWT format");c</span></span>onst r=<span class="cstat-no" title="statement not covered" >t[1],</span>n=<span class="cstat-no" title="statement not covered" >atob(r.replace(/-/g,"+").replace(/_/g,"/"));<span class="cstat-no" title="statement not covered" ></span>return JSON.parse(n)}</span>catch(t){<span class="cstat-no" title="statement not covered" >return console.error("Failed to decode JWT:",t),null}</span>}<span class="fstat-no" title="function not covered" ></span>ge</span>tCurrentUser(){const e=<span class="cstat-no" title="statement not covered" >this.getToken();<span class="cstat-no" title="statement not covered" ></span>if(!e)<span class="cstat-no" title="statement not covered" >return null;<span class="cstat-no" title="statement not covered" >t</span></span>ry{const t=<span class="cstat-no" title="statement not covered" >this.decodeJWT(e);<span class="cstat-no" title="statement not covered" ></span>if(!t)<span class="cstat-no" title="statement not covered" >return this.removeToken(),null;<span class="cstat-no" title="statement not covered" >i</span></span>f(t.exp&amp;&amp;1e3*t.exp&lt;Date.now())<span class="cstat-no" title="statement not covered" >return this.removeToken(),null;c</span></span>onst r=<span class="cstat-no" title="statement not covered" >{id:t.sub||t.user_id||t.id,email:t.email||"",firstName:t.firstName||t.first_name||t.given_name||"",lastName:t.lastName||t.last_name||t.family_name||"",tenantId:t.tenantId||t.tenant_id,status:t.status||"active",two_factor_enabled:t.two_factor_enabled||t["2fa_enabled"]||!1};<span class="cstat-no" title="statement not covered" ></span>return localStorage.setItem("authUser",JSON.stringify(r)),r}</span>catch(t){<span class="cstat-no" title="statement not covered" >return console.error("Error getting current user:",t),this.removeToken(),null}</span>}<span class="fstat-no" title="function not covered" ></span>is</span>Authenticated(){<span class="cstat-no" title="statement not covered" >return!!this.getToken()}<span class="fstat-no" title="function not covered" ></span>ge</span>tToken(){<span class="cstat-no" title="statement not covered" >return localStorage.getItem("novacron_token")}<span class="fstat-no" title="function not covered" ></span>se</span>tToken(e,t){<span class="cstat-no" title="statement not covered" >localStorage.setItem("novacron_token",e),t&amp;&amp;localStorage.setItem("authUser",JSON.stringify(t))}<span class="fstat-no" title="function not covered" ></span>re</span>moveToken(){<span class="cstat-no" title="statement not covered" >localStorage.removeItem("novacron_token"),localStorage.removeItem("authUser"),localStorage.removeItem("tempToken")}<span class="fstat-no" title="function not covered" ></span>lo</span>gout(){<span class="cstat-no" title="statement not covered" >this.removeToken()}<span class="fstat-no" title="function not covered" ></span>as</span>ync setup2FA(){const e=<span class="cstat-no" title="statement not covered" >this.getToken(),</span>t=<span class="cstat-no" title="statement not covered" >this.getCurrentUser();<span class="cstat-no" title="statement not covered" ></span>if(!t)<span class="cstat-no" title="statement not covered" >throw new Error("User not authenticated");<span class="cstat-no" title="statement not covered" >r</span></span>eturn this.request("/api/auth/2fa/setup",{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:JSON.stringify({user_id:t.id,account_name:t.email})})}<span class="fstat-no" title="function not covered" ></span>as</span>ync verify2FASetup(e){const t=<span class="cstat-no" title="statement not covered" >this.getToken(),</span>r=<span class="cstat-no" title="statement not covered" >this.getCurrentUser();<span class="cstat-no" title="statement not covered" ></span>if(!r&amp;&amp;!e.user_id)<span class="cstat-no" title="statement not covered" >throw new Error("User ID required for 2FA verification");<span class="cstat-no" title="statement not covered" >r</span></span>eturn this.request("/api/auth/2fa/verify",{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:JSON.stringify({user_id:e.user_id||(null===r||void 0===r?void 0:r.id),code:e.code,is_backup_code:e.is_backup_code||!1})})}<span class="fstat-no" title="function not covered" ></span>as</span>ync verify2FALogin(e){<span class="cstat-no" title="statement not covered" >return this.request("/api/auth/2fa/verify-login",{method:"POST",body:JSON.stringify({user_id:e.user_id,code:e.code,is_backup_code:e.is_backup_code||!1,temp_token:e.temp_token})})}<span class="fstat-no" title="function not covered" ></span>as</span>ync enable2FA(e){const t=<span class="cstat-no" title="statement not covered" >this.getCurrentUser();<span class="cstat-no" title="statement not covered" ></span>if(!t)<span class="cstat-no" title="statement not covered" >throw new Error("User not authenticated");c</span></span>onst r=<span class="cstat-no" title="statement not covered" >this.getToken();<span class="cstat-no" title="statement not covered" ></span>return this.request("/api/auth/2fa/enable",{method:"POST",headers:{Authorization:"Bearer ".concat(r)},body:JSON.stringify({user_id:t.id,code:e})})}<span class="fstat-no" title="function not covered" ></span>as</span>ync disable2FA(){const e=<span class="cstat-no" title="statement not covered" >this.getCurrentUser();<span class="cstat-no" title="statement not covered" ></span>if(!e)<span class="cstat-no" title="statement not covered" >throw new Error("User not authenticated");c</span></span>onst t=<span class="cstat-no" title="statement not covered" >this.getToken();<span class="cstat-no" title="statement not covered" ></span>return this.request("/api/auth/2fa/disable",{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:JSON.stringify({user_id:e.id})})}<span class="fstat-no" title="function not covered" ></span>as</span>ync get2FAStatus(){const e=<span class="cstat-no" title="statement not covered" >this.getCurrentUser();<span class="cstat-no" title="statement not covered" ></span>if(!e)<span class="cstat-no" title="statement not covered" >throw new Error("User not authenticated");c</span></span>onst t=<span class="cstat-no" title="statement not covered" >this.getToken(),</span>r=<span class="cstat-no" title="statement not covered" >await this.request("/api/auth/2fa/status?user_id="+e.id,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});<span class="cstat-no" title="statement not covered" ></span>return{enabled:r.enabled,backup_codes_remaining:0,setup:r.setup,setup_at:r.setup_at,last_used:r.last_used}}<span class="fstat-no" title="function not covered" ></span>as</span>ync generateBackupCodes(){const e=<span class="cstat-no" title="statement not covered" >this.getCurrentUser();<span class="cstat-no" title="statement not covered" ></span>if(!e)<span class="cstat-no" title="statement not covered" >throw new Error("User not authenticated");c</span></span>onst t=<span class="cstat-no" title="statement not covered" >this.getToken();<span class="cstat-no" title="statement not covered" ></span>return this.request("/api/auth/2fa/backup-codes",{method:"POST",headers:{Authorization:"Bearer ".concat(t)},body:JSON.stringify({user_id:e.id})})}<span class="fstat-no" title="function not covered" ></span>se</span>tTempToken(e){<span class="cstat-no" title="statement not covered" >localStorage.setItem("tempToken",e)}<span class="fstat-no" title="function not covered" ></span>ge</span>tTempToken(){<span class="cstat-no" title="statement not covered" >return localStorage.getItem("tempToken")}<span class="fstat-no" title="function not covered" ></span>re</span>moveTempToken(){<span class="cstat-no" title="statement not covered" >localStorage.removeItem("tempToken")}</span>}}</span>,60345:<span class="fstat-no" title="function not covered" >fu</span>nction(e,t,r){<span class="cstat-no" title="statement not covered" >r.d(t,{cn:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return s}</span>});v</span>ar n=<span class="cstat-no" title="statement not covered" >r(50348),</span>o=<span class="cstat-no" title="statement not covered" >r(23986);</span>function <span class="fstat-no" title="function not covered" >s(</span>){<span class="cstat-no" title="statement not covered" >for(var e=<span class="cstat-no" title="statement not covered" >arguments.length,</span>t=<span class="cstat-no" title="statement not covered" >new Array(e),</span>r=<span class="cstat-no" title="statement not covered" >0;</span>r&lt;e;r++)<span class="cstat-no" title="statement not covered" >t[r]=arguments[r];<span class="cstat-no" title="statement not covered" >r</span></span>eturn(0,o.m)((0,n.W)(t))}</span>}}]);</span></pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-11-10T08:05:28.828Z
            </div>
        <script src="../../../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../../../sorter.js"></script>
        <script src="../../../../../block-navigation.js"></script>
    </body>
</html>
    