
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for novacron/frontend/.next/server/app/core/vms/[id]/page.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../../../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../../../../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../../../../../../index.html">All files</a> / <a href="index.html">novacron/frontend/.next/server/app/core/vms/[id]</a> page.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/110</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/67</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/52</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" >(<span class="fstat-no" title="function not covered" >()</span>=&gt;{var e=<span class="cstat-no" title="statement not covered" >{id:6964,ids:[6964]};<span class="cstat-no" title="statement not covered" ></span>e.modules={72934:<span class="fstat-no" title="function not covered" >e=</span>&gt;{"use strict";<span class="cstat-no" title="statement not covered" >e.exports=require("next/dist/client/components/action-async-storage.external.js")}</span>,55403:<span class="fstat-no" title="function not covered" >e=</span>&gt;{"use strict";<span class="cstat-no" title="statement not covered" >e.exports=require("next/dist/client/components/request-async-storage.external")}</span>,54580:<span class="fstat-no" title="function not covered" >e=</span>&gt;{"use strict";<span class="cstat-no" title="statement not covered" >e.exports=require("next/dist/client/components/request-async-storage.external.js")}</span>,94749:<span class="fstat-no" title="function not covered" >e=</span>&gt;{"use strict";<span class="cstat-no" title="statement not covered" >e.exports=require("next/dist/client/components/static-generation-async-storage.external")}</span>,45869:<span class="fstat-no" title="function not covered" >e=</span>&gt;{"use strict";<span class="cstat-no" title="statement not covered" >e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")}</span>,20399:<span class="fstat-no" title="function not covered" >e=</span>&gt;{"use strict";<span class="cstat-no" title="statement not covered" >e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")}</span>,77506:<span class="fstat-no" title="function not covered" >(e</span>,r,s)=&gt;{"use strict";<span class="cstat-no" title="statement not covered" >s.r(r),s.d(r,{GlobalError:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >a.ZP,</span>__next_app__:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >u,</span>originalPathname:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >l,</span>pages:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >c,</span>routeModule:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >m,</span>tree:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >o}</span>);v</span>ar t=<span class="cstat-no" title="statement not covered" >s(67096),</span>i=<span class="cstat-no" title="statement not covered" >s(16132),</span>a=<span class="cstat-no" title="statement not covered" >s(78658),</span>n=<span class="cstat-no" title="statement not covered" >s(32564),</span>d=<span class="cstat-no" title="statement not covered" >{};<span class="cstat-no" title="statement not covered" ></span>for(const v in n)<span class="cstat-no" title="statement not covered" >["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(v)&lt;0&amp;&amp;(d[v]=<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >n[v])</span>;<span class="cstat-no" title="statement not covered" >s</span></span>.d(r,d);c</span>onst o=<span class="cstat-no" title="statement not covered" >["",{children:["core",{children:["vms",{children:["[id]",{children:["__PAGE__",{},{page:[<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >Promise.resolve().then(s.bind(s,15933)),</span>"/home/kp/novacron/frontend/src/app/core/vms/[id]/page.tsx"]}]},{}]},{}]},{}]},{layout:[<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >Promise.resolve().then(s.bind(s,89200)),</span>"/home/kp/novacron/frontend/src/app/layout.tsx"],"not-found":[<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >Promise.resolve().then(s.t.bind(s,9291,23)),</span>"next/dist/client/components/not-found-error"]}],</span>c=<span class="cstat-no" title="statement not covered" >["/home/kp/novacron/frontend/src/app/core/vms/[id]/page.tsx"],</span>l=<span class="cstat-no" title="statement not covered" >"/core/vms/[id]/page",</span>u=<span class="cstat-no" title="statement not covered" >{require:s,loadChunk:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >Promise.resolve()}</span>,</span>m=<span class="cstat-no" title="statement not covered" >new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/core/vms/[id]/page",pathname:"/core/vms/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})}</span>,47142:<span class="fstat-no" title="function not covered" >(e</span>,r,s)=&gt;{<span class="cstat-no" title="statement not covered" >Promise.resolve().then(s.bind(s,95367))}</span>,95367:<span class="fstat-no" title="function not covered" >(e</span>,r,s)=&gt;{"use strict";<span class="cstat-no" title="statement not covered" >s.r(r),s.d(r,{default:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >y,</span>dynamic:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >g}</span>);v</span>ar t=<span class="cstat-no" title="statement not covered" >s(30784),</span>i=<span class="cstat-no" title="statement not covered" >s(11440),</span>a=<span class="cstat-no" title="statement not covered" >s.n(i),</span>n=<span class="cstat-no" title="statement not covered" >s(9885),</span>d=<span class="cstat-no" title="statement not covered" >s(57114),</span>o=<span class="cstat-no" title="statement not covered" >s(212),</span>c=<span class="cstat-no" title="statement not covered" >s(53993),</span>l=<span class="cstat-no" title="statement not covered" >s(67397);</span>var u=<span class="cstat-no" title="statement not covered" >s(30012);</span>function <span class="fstat-no" title="function not covered" >m(</span>e,r,s){const t=<span class="cstat-no" title="statement not covered" >(0,o.NL)();<span class="cstat-no" title="statement not covered" ></span>return(0,u.D)({mutationKey:["vm-action",e,r,s?.role],mutationFn:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >(0,l.cD)(e,r,{role:s?.role}),</span>onMutate:<span class="fstat-no" title="function not covered" >as</span>ync()=&gt;{},onSuccess:<span class="fstat-no" title="function not covered" >as</span>ync()=&gt;{<span class="cstat-no" title="statement not covered" >await Promise.all([t.invalidateQueries({queryKey:["vm",e]}),t.invalidateQueries({queryKey:["vms"]})])}</span>})}</span>var v=<span class="cstat-no" title="statement not covered" >s(99748),</span>x=<span class="cstat-no" title="statement not covered" >s(17133),</span>p=<span class="cstat-no" title="statement not covered" >s(45304),</span>h=<span class="cstat-no" title="statement not covered" >s(97040);</span>const g=<span class="cstat-no" title="statement not covered" >"force-dynamic";</span>function <span class="fstat-no" title="function not covered" >y(</span>){const e=<span class="cstat-no" title="statement not covered" >(0,d.useParams)(),</span>r=<span class="cstat-no" title="statement not covered" >"string"===typeof e?.id?e.id:Array.isArray(e?.id)?e?.id?.[0]:"",</span>{vm:s,isLoading:i,error:u}=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){const{data:r,isLoading:s,error:t}=<span class="cstat-no" title="statement not covered" >(0,c.a)({queryKey:["vm",e],queryFn:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >(0,l.OC)(e),</span>enabled:Boolean(e)});<span class="cstat-no" title="statement not covered" ></span>return{vm:r?.data??null,isLoading:s,error:t}}</span>(r),</span>{toast:g}=<span class="cstat-no" title="statement not covered" >(0,v.p)(),</span>y=<span class="cstat-no" title="statement not covered" >(0,o.NL)(),</span>[j,f]=<span class="cstat-no" title="statement not covered" >(0,n.useState)("viewer");<span class="cstat-no" title="statement not covered" ></span>(0,n.useEffect)((<span class="fstat-no" title="function not covered" >()</span>=&gt;{<span class="cstat-no" title="statement not covered" >try{const e=<span class="cstat-no" title="statement not covered" >localStorage.getItem("coreRole");<span class="cstat-no" title="statement not covered" ></span>"viewer"!==e&amp;&amp;"operator"!==e||f(e)}</span>catch{}}</span>),[]);c</span>onst q=<span class="cstat-no" title="statement not covered" >"operator"!==j,</span>S=<span class="cstat-no" title="statement not covered" >m(r,"start",{role:j}),</span>P=<span class="cstat-no" title="statement not covered" >m(r,"stop",{role:j}),</span>_=<span class="cstat-no" title="statement not covered" >m(r,"restart",{role:j}),</span>N=<span class="cstat-no" title="statement not covered" >m(r,"pause",{role:j}),</span>b=<span class="cstat-no" title="statement not covered" >m(r,"resume",{role:j});<span class="cstat-no" title="statement not covered" ></span>return(0,n.useEffect)((<span class="fstat-no" title="function not covered" >()</span>=&gt;{<span class="cstat-no" title="statement not covered" >S.isSuccess&amp;&amp;(g({title:"Start requested"}),y.invalidateQueries({queryKey:["vm",r]}),y.invalidateQueries({queryKey:["vms"]})),P.isSuccess&amp;&amp;(g({title:"Stop requested"}),y.invalidateQueries({queryKey:["vm",r]}),y.invalidateQueries({queryKey:["vms"]})),_.isSuccess&amp;&amp;(g({title:"Restart requested"}),y.invalidateQueries({queryKey:["vm",r]}),y.invalidateQueries({queryKey:["vms"]})),N.isSuccess&amp;&amp;(g({title:"Pause requested"}),y.invalidateQueries({queryKey:["vm",r]}),y.invalidateQueries({queryKey:["vms"]})),b.isSuccess&amp;&amp;(g({title:"Resume requested"}),y.invalidateQueries({queryKey:["vm",r]}),y.invalidateQueries({queryKey:["vms"]}))}</span>),[S.isSuccess,P.isSuccess,_.isSuccess,N.isSuccess,b.isSuccess,r,g,y]),(0,n.useEffect)((<span class="fstat-no" title="function not covered" >()</span>=&gt;{<span class="cstat-no" title="statement not covered" >S.isError&amp;&amp;g({title:"Start failed",description:String(S.error?.message??S.error),variant:"destructive"}),P.isError&amp;&amp;g({title:"Stop failed",description:String(P.error?.message??P.error),variant:"destructive"}),_.isError&amp;&amp;g({title:"Restart failed",description:String(_.error?.message??_.error),variant:"destructive"}),N.isError&amp;&amp;g({title:"Pause failed",description:String(N.error?.message??N.error),variant:"destructive"}),b.isError&amp;&amp;g({title:"Resume failed",description:String(b.error?.message??b.error),variant:"destructive"})}</span>),[S.isError,P.isError,_.isError,N.isError,b.isError,S.error,P.error,_.error,N.error,b.error,g]),t.jsx("div",{className:"container mx-auto p-6 space-y-6",children:(0,t.jsxs)(h.Zb,{children:[(0,t.jsxs)(h.Ol,{children:[t.jsx(h.ll,{children:"VM Detail"}),t.jsx(h.SZ,{children:t.jsx(a(),{href:"/core/vms",className:"underline",children:"Back to list"})})]}),t.jsx(h.aY,{children:i?t.jsx("div",{children:"Loading VM..."}):u?(0,t.jsxs)("div",{className:"text-red-500",children:["Failed to load VM: ",String(u?.message??u)]}):s?(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"ID"}),t.jsx("div",{className:"font-mono text-xs break-all",children:s.id}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Name"}),t.jsx("div",{children:s.name})]}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"State"}),t.jsx("div",{children:t.jsx(x.C,{children:s.state})})]}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Node"}),t.jsx("div",{children:s.node_id??"-"})]}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Created"}),t.jsx("div",{children:s.created_at})]}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Updated"}),t.jsx("div",{children:s.updated_at})]})]}),"tags"in s&amp;&amp;s.tags?(0,t.jsxs)("div",{children:[t.jsx("div",{className:"text-sm text-muted-foreground",children:"Tags"}),t.jsx("ul",{className:"list-disc ml-6",children:Object.entries(s.tags).map((<span class="fstat-no" title="function not covered" >([</span>e,r])=&gt;<span class="cstat-no" title="statement not covered" >(0,t.jsxs)("li",{children:[(0,t.jsxs)("span",{className:"font-medium",children:[e,":"]})," ",r]},e))</span>)})]}):null,(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx(p.z,{size:"sm",variant:"secondary",onClick:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >S.mutate(),</span>disabled:q||S.isPending,children:"Start"}),t.jsx(p.z,{size:"sm",variant:"secondary",onClick:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >P.mutate(),</span>disabled:q||P.isPending,children:"Stop"}),t.jsx(p.z,{size:"sm",variant:"secondary",onClick:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >_.mutate(),</span>disabled:q||_.isPending,children:"Restart"}),t.jsx(p.z,{size:"sm",variant:"secondary",onClick:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >N.mutate(),</span>disabled:q||N.isPending,children:"Pause"}),t.jsx(p.z,{size:"sm",variant:"secondary",onClick:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >b.mutate(),</span>disabled:q||b.isPending,children:"Resume"}),q&amp;&amp;t.jsx("div",{className:"text-xs text-muted-foreground self-center",children:"Switch to operator on the list page to enable actions"})]})]}):t.jsx("div",{children:"VM not found."})})]})})}</span>},67397:<span class="fstat-no" title="function not covered" >(e</span>,r,s)=&gt;{"use strict";<span class="cstat-no" title="statement not covered" >s.d(r,{OC:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >a,</span>cD:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >n,</span>tq:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >i}</span>);v</span>ar t=<span class="cstat-no" title="statement not covered" >s(91904);</span>const i=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >e=</span>&gt;<span class="cstat-no" title="statement not covered" >(0,t.R1)("/vms",e),</span></span>a=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >e=</span>&gt;<span class="cstat-no" title="statement not covered" >(0,t.R1)(`/vms/${e}`),</span></span>n=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >(e</span>,r,s)=&gt;<span class="cstat-no" title="statement not covered" >(0,t.sg)(`/vms/${e}/${r}`,void 0,s)}</span></span>,15933:<span class="fstat-no" title="function not covered" >(e</span>,r,s)=&gt;{"use strict";<span class="cstat-no" title="statement not covered" >s.r(r),s.d(r,{$$typeof:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >a,</span>__esModule:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >i,</span>default:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >o,</span>dynamic:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >d}</span>);c</span>onst t=<span class="cstat-no" title="statement not covered" >(0,s(95153).createProxy)(String.raw`/home/kp/novacron/frontend/src/app/core/vms/[id]/page.tsx`),</span>{__esModule:i,$$typeof:a}=<span class="cstat-no" title="statement not covered" >t,</span>n=<span class="cstat-no" title="statement not covered" >t.default,</span>d=<span class="cstat-no" title="statement not covered" >t.dynamic,</span>o=<span class="cstat-no" title="statement not covered" >n}</span>};v</span>ar r=<span class="cstat-no" title="statement not covered" >require("../../../../webpack-runtime.js");<span class="cstat-no" title="statement not covered" ></span>r.C(e);v</span>ar s=<span class="cstat-no" title="statement not covered" >r.X(0,[6723,3606,3993,12,1440,1730,7040,7133,9748,4975,1904],(<span class="fstat-no" title="function not covered" >()</span>=&gt;{<span class="cstat-no" title="statement not covered" >return e=77506,r(r.s=e);v</span>ar e}));<span class="cstat-no" title="statement not covered" ></span>module.exports=s}</span>)();</span></pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-11-10T08:07:38.115Z
            </div>
        <script src="../../../../../../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../../../../../../sorter.js"></script>
        <script src="../../../../../../../../block-navigation.js"></script>
    </body>
</html>
    