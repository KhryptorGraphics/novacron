
<!doctype html>
<html lang="en">

<head>
    <title>Code coverage report for novacron/frontend/.next/static/chunks/app/core/vms/page-70465ec2ead1ba50.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../../../../../base.css" />
    <link rel="shortcut icon" type="image/x-icon" href="../../../../../../../../favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
    
<body>
<div class='wrapper'>
    <div class='pad1'>
        <h1><a href="../../../../../../../../index.html">All files</a> / <a href="index.html">novacron/frontend/.next/static/chunks/app/core/vms</a> page-70465ec2ead1ba50.js</h1>
        <div class='clearfix'>
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Statements</span>
                <span class='fraction'>0/213</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Branches</span>
                <span class='fraction'>0/244</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Functions</span>
                <span class='fraction'>0/109</span>
            </div>
        
            
            <div class='fl pad1y space-right2'>
                <span class="strong">0% </span>
                <span class="quiet">Lines</span>
                <span class='fraction'>0/1</span>
            </div>
        
            
        </div>
        <p class="quiet">
            Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
        </p>
        <template id="filterTemplate">
            <div class="quiet">
                Filter:
                <input type="search" id="fileSearch">
            </div>
        </template>
    </div>
    <div class='status-line low'></div>
    <pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" >(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8465],{62898:<span class="fstat-no" title="function not covered" >fu</span>nction(t,e,s){"use strict";<span class="cstat-no" title="statement not covered" >s.d(e,{Z:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return r}</span>});v</span>ar i=<span class="cstat-no" title="statement not covered" >s(2265),</span>a=<span class="cstat-no" title="statement not covered" >{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};</span>const r=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >(t</span>,e)=&gt;{const s=<span class="cstat-no" title="statement not covered" >(0,i.forwardRef)((<span class="fstat-no" title="function not covered" >({</span>color:s=<span class="branch-0 cbranch-no" title="branch not covered" >"currentColor",</span>size:r=<span class="branch-0 cbranch-no" title="branch not covered" >24,</span>strokeWidth:n=<span class="branch-0 cbranch-no" title="branch not covered" >2,</span>absoluteStrokeWidth:o,children:l,...u},c)=&gt;{<span class="cstat-no" title="statement not covered" >return(0,i.createElement)("svg",{ref:c,...a,width:r,height:r,stroke:s,strokeWidth:o?24*Number(n)/Number(r):n,className:`lucide lucide-${d=t,d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,...u},[...e.map((<span class="fstat-no" title="function not covered" >([</span>t,e])=&gt;<span class="cstat-no" title="statement not covered" >(0,i.createElement)(t,e))</span>),...(Array.isArray(l)?l:[l])||[]]);v</span>ar d}));<span class="cstat-no" title="statement not covered" ></span>return s.displayName=`${t}`,s}</span>}</span>,62442:<span class="fstat-no" title="function not covered" >fu</span>nction(t,e,s){"use strict";<span class="cstat-no" title="statement not covered" >s.d(e,{Z:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return i}</span>});c</span>onst i=<span class="cstat-no" title="statement not covered" >(0,s(62898).Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])}</span>,56111:<span class="fstat-no" title="function not covered" >fu</span>nction(t,e,s){<span class="cstat-no" title="statement not covered" >Promise.resolve().then(s.bind(s,93825))}</span>,93825:<span class="fstat-no" title="function not covered" >fu</span>nction(t,e,s){"use strict";<span class="cstat-no" title="statement not covered" >s.r(e),s.d(e,{default:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return j}</span>,dynamic:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return y}</span>});v</span>ar i=<span class="cstat-no" title="statement not covered" >s(57437),</span>a=<span class="cstat-no" title="statement not covered" >s(2265),</span>r=<span class="cstat-no" title="statement not covered" >s(80651),</span>n=<span class="cstat-no" title="statement not covered" >s(58100);</span>async function <span class="fstat-no" title="function not covered" >o(</span>t,e,s){<span class="cstat-no" title="statement not covered" >return(0,n.cD)(t,e,{role:s})}</span>var l=<span class="cstat-no" title="statement not covered" >s(70165),</span>u=<span class="cstat-no" title="statement not covered" >s(55764),</span>c=<span class="cstat-no" title="statement not covered" >s(37177),</span>d=<span class="cstat-no" title="statement not covered" >s(86582),</span>h=<span class="cstat-no" title="statement not covered" >s(41735),</span>v=<span class="cstat-no" title="statement not covered" >s(45271),</span>m=<span class="cstat-no" title="statement not covered" >s(61396),</span>p=<span class="cstat-no" title="statement not covered" >s.n(m),</span>x=<span class="cstat-no" title="statement not covered" >s(40150),</span>f=<span class="cstat-no" title="statement not covered" >s(3089),</span>g=<span class="cstat-no" title="statement not covered" >s(10609),</span>b=<span class="cstat-no" title="statement not covered" >s(59404);</span>const y=<span class="cstat-no" title="statement not covered" >"force-dynamic";</span>function <span class="fstat-no" title="function not covered" >j(</span>){const[t,e]=<span class="cstat-no" title="statement not covered" >(0,a.useState)(""),</span>[s,n]=<span class="cstat-no" title="statement not covered" >(0,a.useState)(""),</span>[m,y]=<span class="cstat-no" title="statement not covered" >(0,a.useState)(null),</span>[j,w]=<span class="cstat-no" title="statement not covered" >(0,a.useState)("viewer"),</span>[S,C]=<span class="cstat-no" title="statement not covered" >(0,a.useState)(1),</span>[R,N]=<span class="cstat-no" title="statement not covered" >(0,a.useState)(10);<span class="cstat-no" title="statement not covered" ></span>(0,a.useEffect)((<span class="fstat-no" title="function not covered" >()</span>=&gt;{<span class="cstat-no" title="statement not covered" >C(1)}</span>),[t,s]);c</span>onst{items:k,pagination:M,isLoading:P,error:O}=<span class="cstat-no" title="statement not covered" >(0,r.v)({page:S,pageSize:R,q:t,state:s||void 0}),</span>{toast:E}=<span class="cstat-no" title="statement not covered" >(0,b.p)();<span class="cstat-no" title="statement not covered" ></span>(0,a.useEffect)((<span class="fstat-no" title="function not covered" >()</span>=&gt;{const t=<span class="cstat-no" title="statement not covered" >(0,c.c)((<span class="fstat-no" title="function not covered" >t=</span>&gt;<span class="cstat-no" title="statement not covered" >y(t))</span>);<span class="cstat-no" title="statement not covered" ></span>return<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >t.close()}</span></span>),[]),(0,a.useEffect)((<span class="fstat-no" title="function not covered" >()</span>=&gt;{<span class="cstat-no" title="statement not covered" >try{const t=<span class="cstat-no" title="statement not covered" >localStorage.getItem("coreRole");<span class="cstat-no" title="statement not covered" ></span>"viewer"!==t&amp;&amp;"operator"!==t||w(t)}</span>catch(t){}}</span>),[]),(0,a.useEffect)((<span class="fstat-no" title="function not covered" >()</span>=&gt;{<span class="cstat-no" title="statement not covered" >try{<span class="cstat-no" title="statement not covered" >localStorage.setItem("coreRole",j)}</span>catch(t){}}</span>),[j]);c</span>onst z=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >t=</span>&gt;{<span class="cstat-no" title="statement not covered" >switch(t){case"running":<span class="cstat-no" title="statement not covered" >return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";c</span>ase"stopped":default:<span class="cstat-no" title="statement not covered" >return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400";c</span>ase"paused":<span class="cstat-no" title="statement not covered" >return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400"}</span>}</span>,</span>V=<span class="cstat-no" title="statement not covered" >(0,l.NL)(),</span>T=<span class="cstat-no" title="statement not covered" >(0,u.D)({mutationFn:<span class="fstat-no" title="function not covered" >t=</span>&gt;<span class="cstat-no" title="statement not covered" >o(t,"start",j),</span>onSuccess:<span class="fstat-no" title="function not covered" >as</span>ync()=&gt;{<span class="cstat-no" title="statement not covered" >E({title:"Start requested",description:"VM start action submitted"}),await Promise.all([V.invalidateQueries({queryKey:["vms"]})])}</span>,onError:<span class="fstat-no" title="function not covered" >t=</span>&gt;{var e;<span class="cstat-no" title="statement not covered" >E({title:"Start failed",description:String(null!==(e=null===t||void 0===t?void 0:t.message)&amp;&amp;void 0!==e?e:t),variant:"destructive"})}</span>}),</span>q=<span class="cstat-no" title="statement not covered" >(0,u.D)({mutationFn:<span class="fstat-no" title="function not covered" >t=</span>&gt;<span class="cstat-no" title="statement not covered" >o(t,"stop",j),</span>onSuccess:<span class="fstat-no" title="function not covered" >as</span>ync()=&gt;{<span class="cstat-no" title="statement not covered" >E({title:"Stop requested",description:"VM stop action submitted"}),await Promise.all([V.invalidateQueries({queryKey:["vms"]})])}</span>,onError:<span class="fstat-no" title="function not covered" >t=</span>&gt;{var e;<span class="cstat-no" title="statement not covered" >E({title:"Stop failed",description:String(null!==(e=null===t||void 0===t?void 0:t.message)&amp;&amp;void 0!==e?e:t),variant:"destructive"})}</span>}),</span>A=<span class="cstat-no" title="statement not covered" >(0,u.D)({mutationFn:<span class="fstat-no" title="function not covered" >t=</span>&gt;<span class="cstat-no" title="statement not covered" >o(t,"restart",j),</span>onSuccess:<span class="fstat-no" title="function not covered" >as</span>ync()=&gt;{<span class="cstat-no" title="statement not covered" >E({title:"Restart requested",description:"VM restart action submitted"}),await Promise.all([V.invalidateQueries({queryKey:["vms"]})])}</span>,onError:<span class="fstat-no" title="function not covered" >t=</span>&gt;{var e;<span class="cstat-no" title="statement not covered" >E({title:"Restart failed",description:String(null!==(e=null===t||void 0===t?void 0:t.message)&amp;&amp;void 0!==e?e:t),variant:"destructive"})}</span>}),</span>F=<span class="cstat-no" title="statement not covered" >(0,u.D)({mutationFn:<span class="fstat-no" title="function not covered" >t=</span>&gt;<span class="cstat-no" title="statement not covered" >o(t,"pause",j),</span>onSuccess:<span class="fstat-no" title="function not covered" >as</span>ync()=&gt;{<span class="cstat-no" title="statement not covered" >E({title:"Pause requested",description:"VM pause action submitted"}),await Promise.all([V.invalidateQueries({queryKey:["vms"]})])}</span>,onError:<span class="fstat-no" title="function not covered" >t=</span>&gt;{var e;<span class="cstat-no" title="statement not covered" >E({title:"Pause failed",description:String(null!==(e=null===t||void 0===t?void 0:t.message)&amp;&amp;void 0!==e?e:t),variant:"destructive"})}</span>}),</span>Q=<span class="cstat-no" title="statement not covered" >(0,u.D)({mutationFn:<span class="fstat-no" title="function not covered" >t=</span>&gt;<span class="cstat-no" title="statement not covered" >o(t,"resume",j),</span>onSuccess:<span class="fstat-no" title="function not covered" >as</span>ync()=&gt;{<span class="cstat-no" title="statement not covered" >E({title:"Resume requested",description:"VM resume action submitted"}),await Promise.all([V.invalidateQueries({queryKey:["vms"]})])}</span>,onError:<span class="fstat-no" title="function not covered" >t=</span>&gt;{var e;<span class="cstat-no" title="statement not covered" >E({title:"Resume failed",description:String(null!==(e=null===t||void 0===t?void 0:t.message)&amp;&amp;void 0!==e?e:t),variant:"destructive"})}</span>}),</span>D=<span class="cstat-no" title="statement not covered" >"operator"!==j;</span>var L,_,G,I,K;<span class="cstat-no" title="statement not covered" >return(0,i.jsx)("div",{className:"container mx-auto p-6 space-y-6",children:(0,i.jsxs)(g.Zb,{children:[(0,i.jsxs)(g.Ol,{children:[(0,i.jsx)(g.ll,{children:"Core VMs"}),(0,i.jsxs)(g.SZ,{children:[P?"Loading...":O?"Error loading":"".concat(Array.isArray(k)?k.length:0," items")," "," ",m?"\u2014 WS welcome: ".concat(JSON.stringify(m)):null]})]}),(0,i.jsxs)(g.aY,{children:[(0,i.jsxs)("div",{className:"flex flex-wrap gap-3 mb-3 items-center",children:[(0,i.jsx)(d.I,{placeholder:"Search (q)",value:t,onChange:<span class="fstat-no" title="function not covered" >t=</span>&gt;<span class="cstat-no" title="statement not covered" >e(t.target.value),</span>className:"w-64"}),(0,i.jsxs)(h.Ph,{value:s,onValueChange:n,children:[(0,i.jsx)(h.i4,{className:"w-40",children:(0,i.jsx)(h.ki,{placeholder:"State"})}),(0,i.jsxs)(h.Bw,{children:[(0,i.jsx)(h.Ql,{value:"",children:"All"}),(0,i.jsx)(h.Ql,{value:"running",children:"Running"}),(0,i.jsx)(h.Ql,{value:"stopped",children:"Stopped"}),(0,i.jsx)(h.Ql,{value:"paused",children:"Paused"})]})]}),(0,i.jsxs)(h.Ph,{value:String(R),onValueChange:<span class="fstat-no" title="function not covered" >t=</span>&gt;<span class="cstat-no" title="statement not covered" >N(Number(t)),</span>children:[(0,i.jsx)(h.i4,{className:"w-32",children:(0,i.jsx)(h.ki,{placeholder:"Page size"})}),(0,i.jsx)(h.Bw,{children:[10,20,50,100].map((<span class="fstat-no" title="function not covered" >t=</span>&gt;<span class="cstat-no" title="statement not covered" >(0,i.jsxs)(h.Ql,{value:String(t),children:[t," / page"]},t))</span>)})]}),(0,i.jsxs)(h.Ph,{value:j,onValueChange:<span class="fstat-no" title="function not covered" >t=</span>&gt;<span class="cstat-no" title="statement not covered" >w(t),</span>children:[(0,i.jsx)(h.i4,{className:"w-40",children:(0,i.jsx)(h.ki,{placeholder:"Role"})}),(0,i.jsxs)(h.Bw,{children:[(0,i.jsx)(h.Ql,{value:"viewer",children:"viewer"}),(0,i.jsx)(h.Ql,{value:"operator",children:"operator"})]})]})]}),O?(0,i.jsx)("div",{className:"text-sm text-red-500",children:"Failed to load VMs"}):!k||0===k.length&amp;&amp;!P?(0,i.jsx)("div",{className:"text-sm text-muted-foreground",children:"No VMs found."}):(0,i.jsxs)(v.iA,{children:[(0,i.jsx)(v.xD,{children:(0,i.jsxs)(v.SC,{children:[(0,i.jsx)(v.ss,{children:"ID"}),(0,i.jsx)(v.ss,{children:"Name"}),(0,i.jsx)(v.ss,{children:"State"}),(0,i.jsx)(v.ss,{children:"Node"}),(0,i.jsx)(v.ss,{children:"Created"}),(0,i.jsx)(v.ss,{children:"Updated"}),(0,i.jsx)(v.ss,{className:"text-right",children:"Actions"})]})}),(0,i.jsx)(v.RM,{children:Array.isArray(k)&amp;&amp;k.map((<span class="fstat-no" title="function not covered" >t=</span>&gt;{var e;<span class="cstat-no" title="statement not covered" >return(0,i.jsxs)(v.SC,{children:[(0,i.jsx)(v.pj,{className:"font-mono text-xs",children:(0,i.jsx)(p(),{href:"/core/vms/".concat(t.id),"aria-label":"View ".concat(t.name," details"),className:"underline underline-offset-4",children:t.id})}),(0,i.jsx)(v.pj,{children:(0,i.jsx)(p(),{href:"/core/vms/".concat(t.id),"aria-label":"View ".concat(t.name," details"),className:"hover:underline",children:t.name})}),(0,i.jsx)(v.pj,{children:(0,i.jsx)(x.C,{className:z(t.state),children:t.state})}),(0,i.jsx)(v.pj,{children:null!==(e=t.node_id)&amp;&amp;void 0!==e?e:"-"}),(0,i.jsx)(v.pj,{children:t.created_at}),(0,i.jsx)(v.pj,{children:t.updated_at}),(0,i.jsxs)(v.pj,{className:"text-right space-x-2",children:[(0,i.jsx)(f.z,{size:"sm",variant:"secondary",onClick:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >T.mutate(t.id),</span>disabled:D||T.isPending,children:"Start"}),(0,i.jsx)(f.z,{size:"sm",variant:"secondary",onClick:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >q.mutate(t.id),</span>disabled:D||q.isPending,children:"Stop"}),(0,i.jsx)(f.z,{size:"sm",variant:"secondary",onClick:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >A.mutate(t.id),</span>disabled:D||A.isPending,children:"Restart"}),(0,i.jsx)(f.z,{size:"sm",variant:"secondary",onClick:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >F.mutate(t.id),</span>disabled:D||F.isPending,children:"Pause"}),(0,i.jsx)(f.z,{size:"sm",variant:"secondary",onClick:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >Q.mutate(t.id),</span>disabled:D||Q.isPending,children:"Resume"})]})]},t.id)}</span>))})]}),(0,i.jsxs)("div",{className:"flex items-center justify-between mt-3",children:[(0,i.jsxs)("div",{className:"text-sm text-muted-foreground",children:["page=",null!==(L=null===M||void 0===M?void 0:M.page)&amp;&amp;void 0!==L?L:S," pageSize=",null!==(_=null===M||void 0===M?void 0:M.pageSize)&amp;&amp;void 0!==_?_:R," total=",null!==(G=null===M||void 0===M?void 0:M.total)&amp;&amp;void 0!==G?G:"-"," totalPages=",null!==(I=null===M||void 0===M?void 0:M.totalPages)&amp;&amp;void 0!==I?I:"-"]}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)(f.z,{size:"sm",variant:"outline",onClick:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >C((<span class="fstat-no" title="function not covered" >t=</span>&gt;<span class="cstat-no" title="statement not covered" >Math.max(1,t-1))</span>),</span>disabled:P||(null!==(K=null===M||void 0===M?void 0:M.page)&amp;&amp;void 0!==K?K:S)&lt;=1,children:"Prev"}),(0,i.jsx)(f.z,{size:"sm",variant:"outline",onClick:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >C((<span class="fstat-no" title="function not covered" >t=</span>&gt;<span class="cstat-no" title="statement not covered" >t+1)</span>),</span>disabled:P||!(!M||!M.totalPages)&amp;&amp;M.page&gt;=M.totalPages,children:"Next"})]})]})]})]})})}</span>},59404:<span class="fstat-no" title="function not covered" >fu</span>nction(t,e,s){"use strict";<span class="cstat-no" title="statement not covered" >s.d(e,{p:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return r}</span>});v</span>ar i=<span class="cstat-no" title="statement not covered" >s(57437),</span>a=<span class="cstat-no" title="statement not covered" >s(5925);</span>function <span class="fstat-no" title="function not covered" >r(</span>){<span class="cstat-no" title="statement not covered" >return{toast:<span class="fstat-no" title="function not covered" >t=</span>&gt;{const{title:e,description:s,variant:r=<span class="branch-0 cbranch-no" title="branch not covered" >"default",</span>duration:n=<span class="branch-0 cbranch-no" title="branch not covered" >4e3}</span>=<span class="cstat-no" title="statement not covered" >t,</span>o=<span class="cstat-no" title="statement not covered" >(0,i.jsxs)("div",{className:"grid gap-1",children:[e&amp;&amp;(0,i.jsx)("div",{className:"text-sm font-semibold",children:e}),s&amp;&amp;(0,i.jsx)("div",{className:"text-sm opacity-90",children:s})]});<span class="cstat-no" title="statement not covered" ></span>"destructive"===r?a.toast.error(o,{duration:n}):a.toast.success(o,{duration:n})}</span>}}</span>},58810:<span class="fstat-no" title="function not covered" >fu</span>nction(t,e,s){"use strict";<span class="cstat-no" title="statement not covered" >s.d(e,{_:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return i}</span>});c</span>onst i=<span class="cstat-no" title="statement not covered" >console}</span>,20172:<span class="fstat-no" title="function not covered" >fu</span>nction(t,e,s){"use strict";<span class="cstat-no" title="statement not covered" >s.d(e,{R:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return l}</span>,m:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return o}</span>});v</span>ar i=<span class="cstat-no" title="statement not covered" >s(58810),</span>a=<span class="cstat-no" title="statement not covered" >s(17156),</span>r=<span class="cstat-no" title="statement not covered" >s(11909),</span>n=<span class="cstat-no" title="statement not covered" >s(43238);</span>class o extends r.F{<span class="fstat-no" title="function not covered" >co</span>nstructor(t){<span class="cstat-no" title="statement not covered" >super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||i._,this.observers=[],this.state=t.state||l(),this.setOptions(t.options),this.scheduleGc()}<span class="fstat-no" title="function not covered" ></span>se</span>tOptions(t){<span class="cstat-no" title="statement not covered" >this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}<span class="fstat-no" title="function not covered" ></span>ge</span>t meta(){<span class="cstat-no" title="statement not covered" >return this.options.meta}<span class="fstat-no" title="function not covered" ></span>se</span>tState(t){<span class="cstat-no" title="statement not covered" >this.dispatch({type:"setState",state:t})}<span class="fstat-no" title="function not covered" ></span>ad</span>dObserver(t){<span class="cstat-no" title="statement not covered" >this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}<span class="fstat-no" title="function not covered" ></span>re</span>moveObserver(t){<span class="cstat-no" title="statement not covered" >this.observers=this.observers.filter((<span class="fstat-no" title="function not covered" >e=</span>&gt;<span class="cstat-no" title="statement not covered" >e!==t)</span>),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}<span class="fstat-no" title="function not covered" ></span>op</span>tionalRemove(){<span class="cstat-no" title="statement not covered" >this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}<span class="fstat-no" title="function not covered" ></span>co</span>ntinue(){var t,e;<span class="cstat-no" title="statement not covered" >return null!=(t=null==(e=this.retryer)?void 0:e.continue())?t:this.execute()}<span class="fstat-no" title="function not covered" ></span>as</span>ync execute(){const t=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >()</span>=&gt;{var t;<span class="cstat-no" title="statement not covered" >return this.retryer=(0,n.Mz)({fn:<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),</span>onFail:<span class="fstat-no" title="function not covered" >(t</span>,e)=&gt;{<span class="cstat-no" title="statement not covered" >this.dispatch({type:"failed",failureCount:t,error:e})}</span>,onPause:<span class="fstat-no" title="function not covered" >()</span>=&gt;{<span class="cstat-no" title="statement not covered" >this.dispatch({type:"pause"})}</span>,onContinue:<span class="fstat-no" title="function not covered" >()</span>=&gt;{<span class="cstat-no" title="statement not covered" >this.dispatch({type:"continue"})}</span>,retry:null!=(t=this.options.retry)?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise}</span>,</span>e=<span class="cstat-no" title="statement not covered" >"loading"===this.state.status;<span class="cstat-no" title="statement not covered" ></span>try{var s,i,a,r,o,l,u,c;<span class="cstat-no" title="statement not covered" >if(!e){var d,h,v,m;<span class="cstat-no" title="statement not covered" >this.dispatch({type:"loading",variables:this.options.variables}),await(null==(d=(h=this.mutationCache.config).onMutate)?void 0:d.call(h,this.state.variables,this));c</span>onst t=<span class="cstat-no" title="statement not covered" >await(null==(v=(m=this.options).onMutate)?void 0:v.call(m,this.state.variables));<span class="cstat-no" title="statement not covered" ></span>t!==this.state.context&amp;&amp;this.dispatch({type:"loading",context:t,variables:this.state.variables})}</span>c</span>onst n=<span class="cstat-no" title="statement not covered" >await t();<span class="cstat-no" title="statement not covered" ></span>return await(null==(s=(i=this.mutationCache.config).onSuccess)?void 0:s.call(i,n,this.state.variables,this.state.context,this)),await(null==(a=(r=this.options).onSuccess)?void 0:a.call(r,n,this.state.variables,this.state.context)),await(null==(o=(l=this.mutationCache.config).onSettled)?void 0:o.call(l,n,null,this.state.variables,this.state.context,this)),await(null==(u=(c=this.options).onSettled)?void 0:u.call(c,n,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:n}),n}</span>catch(S){<span class="cstat-no" title="statement not covered" >try{var p,x,f,g,b,y,j,w;<span class="cstat-no" title="statement not covered" >throw await(null==(p=(x=this.mutationCache.config).onError)?void 0:p.call(x,S,this.state.variables,this.state.context,this)),await(null==(f=(g=this.options).onError)?void 0:f.call(g,S,this.state.variables,this.state.context)),await(null==(b=(y=this.mutationCache.config).onSettled)?void 0:b.call(y,void 0,S,this.state.variables,this.state.context,this)),await(null==(j=(w=this.options).onSettled)?void 0:j.call(w,void 0,S,this.state.variables,this.state.context)),S}</span>finally{<span class="cstat-no" title="statement not covered" >this.dispatch({type:"error",error:S})}</span>}</span>}<span class="fstat-no" title="function not covered" ></span>di</span>spatch(t){<span class="cstat-no" title="statement not covered" >this.state=(<span class="fstat-no" title="function not covered" >e=</span>&gt;{<span class="cstat-no" title="statement not covered" >switch(t.type){case"failed":<span class="cstat-no" title="statement not covered" >return{...e,failureCount:t.failureCount,failureReason:t.error};c</span>ase"pause":<span class="cstat-no" title="statement not covered" >return{...e,isPaused:!0};c</span>ase"continue":<span class="cstat-no" title="statement not covered" >return{...e,isPaused:!1};c</span>ase"loading":<span class="cstat-no" title="statement not covered" >return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!(0,n.Kw)(this.options.networkMode),status:"loading",variables:t.variables};c</span>ase"success":<span class="cstat-no" title="statement not covered" >return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};c</span>ase"error":<span class="cstat-no" title="statement not covered" >return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};c</span>ase"setState":<span class="cstat-no" title="statement not covered" >return{...e,...t.state}}</span>}</span>)(this.state),a.V.batch((<span class="fstat-no" title="function not covered" >()</span>=&gt;{<span class="cstat-no" title="statement not covered" >this.observers.forEach((<span class="fstat-no" title="function not covered" >e=</span>&gt;{<span class="cstat-no" title="statement not covered" >e.onMutationUpdate(t)}</span>)),this.mutationCache.notify({mutation:this,type:"updated",action:t})}</span>))}</span>}function <span class="fstat-no" title="function not covered" >l(</span>){<span class="cstat-no" title="statement not covered" >return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}</span>},11909:<span class="fstat-no" title="function not covered" >fu</span>nction(t,e,s){"use strict";<span class="cstat-no" title="statement not covered" >s.d(e,{F:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return a}</span>});v</span>ar i=<span class="cstat-no" title="statement not covered" >s(46504);</span>class a{<span class="fstat-no" title="function not covered" >de</span>stroy(){<span class="cstat-no" title="statement not covered" >this.clearGcTimeout()}<span class="fstat-no" title="function not covered" ></span>sc</span>heduleGc(){<span class="cstat-no" title="statement not covered" >this.clearGcTimeout(),(0,i.PN)(this.cacheTime)&amp;&amp;(this.gcTimeout=setTimeout((<span class="fstat-no" title="function not covered" >()</span>=&gt;{<span class="cstat-no" title="statement not covered" >this.optionalRemove()}</span>),this.cacheTime))}<span class="fstat-no" title="function not covered" ></span>up</span>dateCacheTime(t){<span class="cstat-no" title="statement not covered" >this.cacheTime=Math.max(this.cacheTime||0,null!=t?t:i.sk?1/0:3e5)}<span class="fstat-no" title="function not covered" ></span>cl</span>earGcTimeout(){<span class="cstat-no" title="statement not covered" >this.gcTimeout&amp;&amp;(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}</span>}},55764:<span class="fstat-no" title="function not covered" >fu</span>nction(t,e,s){"use strict";<span class="cstat-no" title="statement not covered" >s.d(e,{D:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return h}</span>});v</span>ar i=<span class="cstat-no" title="statement not covered" >s(2265),</span>a=<span class="cstat-no" title="statement not covered" >s(46504),</span>r=<span class="cstat-no" title="statement not covered" >s(20172),</span>n=<span class="cstat-no" title="statement not covered" >s(17156),</span>o=<span class="cstat-no" title="statement not covered" >s(29492);</span>class l extends o.l{<span class="fstat-no" title="function not covered" >co</span>nstructor(t,e){<span class="cstat-no" title="statement not covered" >super(),this.client=t,this.setOptions(e),this.bindMethods(),this.updateResult()}<span class="fstat-no" title="function not covered" ></span>bi</span>ndMethods(){<span class="cstat-no" title="statement not covered" >this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}<span class="fstat-no" title="function not covered" ></span>se</span>tOptions(t){var e;const s=<span class="cstat-no" title="statement not covered" >this.options;<span class="cstat-no" title="statement not covered" ></span>this.options=this.client.defaultMutationOptions(t),(0,a.VS)(s,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(e=this.currentMutation)||e.setOptions(this.options)}<span class="fstat-no" title="function not covered" ></span>on</span>Unsubscribe(){var t;<span class="cstat-no" title="statement not covered" >this.hasListeners()||(null==(t=this.currentMutation)||t.removeObserver(this))}<span class="fstat-no" title="function not covered" ></span>on</span>MutationUpdate(t){<span class="cstat-no" title="statement not covered" >this.updateResult();c</span>onst e=<span class="cstat-no" title="statement not covered" >{listeners:!0};<span class="cstat-no" title="statement not covered" ></span>"success"===t.type?e.onSuccess=!0:"error"===t.type&amp;&amp;(e.onError=!0),this.notify(e)}<span class="fstat-no" title="function not covered" ></span>ge</span>tCurrentResult(){<span class="cstat-no" title="statement not covered" >return this.currentResult}<span class="fstat-no" title="function not covered" ></span>re</span>set(){<span class="cstat-no" title="statement not covered" >this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}<span class="fstat-no" title="function not covered" ></span>mu</span>tate(t,e){<span class="cstat-no" title="statement not covered" >return this.mutateOptions=e,this.currentMutation&amp;&amp;this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:"undefined"!==typeof t?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}<span class="fstat-no" title="function not covered" ></span>up</span>dateResult(){const t=<span class="cstat-no" title="statement not covered" >this.currentMutation?this.currentMutation.state:(0,r.R)(),</span>e=<span class="cstat-no" title="statement not covered" >"loading"===t.status,</span>s=<span class="cstat-no" title="statement not covered" >{...t,isLoading:e,isPending:e,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset};<span class="cstat-no" title="statement not covered" ></span>this.currentResult=s}<span class="fstat-no" title="function not covered" ></span>no</span>tify(t){<span class="cstat-no" title="statement not covered" >n.V.batch((<span class="fstat-no" title="function not covered" >()</span>=&gt;{var e,s,i,a;<span class="cstat-no" title="statement not covered" >if(this.mutateOptions&amp;&amp;this.hasListeners())<span class="cstat-no" title="statement not covered" >if(t.onSuccess)<span class="cstat-no" title="statement not covered" >null==(e=(s=this.mutateOptions).onSuccess)||e.call(s,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(i=(a=this.mutateOptions).onSettled)||i.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context);e</span>lse <span class="cstat-no" title="statement not covered" >if(t.onError){var r,n,o,l;<span class="cstat-no" title="statement not covered" >null==(r=(n=this.mutateOptions).onError)||r.call(n,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(o=(l=this.mutateOptions).onSettled)||o.call(l,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}<span class="cstat-no" title="statement not covered" ></span>t</span></span></span>.listeners&amp;&amp;this.listeners.forEach((<span class="fstat-no" title="function not covered" >({</span>listener:t})=&gt;{<span class="cstat-no" title="statement not covered" >t(this.currentResult)}</span>))}</span>))}</span>}var u=<span class="cstat-no" title="statement not covered" >s(45321),</span>c=<span class="cstat-no" title="statement not covered" >s(70165),</span>d=<span class="cstat-no" title="statement not covered" >s(57798);</span>function <span class="fstat-no" title="function not covered" >h(</span>t,e,s){const r=<span class="cstat-no" title="statement not covered" >(0,a.lV)(t,e,s),</span>o=<span class="cstat-no" title="statement not covered" >(0,c.NL)({context:r.context}),</span>[h]=<span class="cstat-no" title="statement not covered" >i.useState((<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >new l(o,r))</span>);<span class="cstat-no" title="statement not covered" ></span>i.useEffect((<span class="fstat-no" title="function not covered" >()</span>=&gt;{<span class="cstat-no" title="statement not covered" >h.setOptions(r)}</span>),[h,r]);c</span>onst m=<span class="cstat-no" title="statement not covered" >(0,u.$)(i.useCallback((<span class="fstat-no" title="function not covered" >t=</span>&gt;<span class="cstat-no" title="statement not covered" >h.subscribe(n.V.batchCalls(t)))</span>,[h]),(<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >h.getCurrentResult())</span>,(<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >h.getCurrentResult())</span>),</span>p=<span class="cstat-no" title="statement not covered" >i.useCallback((<span class="fstat-no" title="function not covered" >(t</span>,e)=&gt;{<span class="cstat-no" title="statement not covered" >h.mutate(t,e).catch(v)}</span>),[h]);<span class="cstat-no" title="statement not covered" ></span>if(m.error&amp;&amp;(0,d.L)(h.options.useErrorBoundary,[m.error]))<span class="cstat-no" title="statement not covered" >throw m.error;<span class="cstat-no" title="statement not covered" >r</span></span>eturn{...m,mutate:p,mutateAsync:m.mutate}}</span>function <span class="fstat-no" title="function not covered" >v(</span>){}}},<span class="fstat-no" title="function not covered" >fu</span>nction(t){<span class="cstat-no" title="statement not covered" >t.O(0,[6991,3354,2649,3010,4874,6892,1703,2971,2472,1744],(<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return e=56111,t(t.s=e);v</span>ar e}));v</span>ar e=<span class="cstat-no" title="statement not covered" >t.O();<span class="cstat-no" title="statement not covered" ></span>_N_E=e}</span>]);</span></pre></td></tr></table></pre>

                <div class='push'></div><!-- for sticky footer -->
            </div><!-- /wrapper -->
            <div class='footer quiet pad2 space-top1 center small'>
                Code coverage generated by
                <a href="https://istanbul.js.org/" target="_blank" rel="noopener noreferrer">istanbul</a>
                at 2025-11-10T08:07:38.115Z
            </div>
        <script src="../../../../../../../../prettify.js"></script>
        <script>
            window.onload = function () {
                prettyPrint();
            };
        </script>
        <script src="../../../../../../../../sorter.js"></script>
        <script src="../../../../../../../../block-navigation.js"></script>
    </body>
</html>
    