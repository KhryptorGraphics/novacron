exports.id=5319,exports.ids=[5319],exports.modules={73968:(e,t,r)=>{Promise.resolve().then(r.bind(r,4588)),Promise.resolve().then(r.bind(r,10345)),Promise.resolve().then(r.bind(r,24510)),Promise.resolve().then(r.bind(r,22813)),Promise.resolve().then(r.bind(r,81362))},24510:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ThemeProvider:()=>n});var s=r(30784),o=(r(9885),r(71072));function n({children:e,...t}){return s.jsx(o.f,{...t,children:e})}},22813:(e,t,r)=>{"use strict";r.r(t),r.d(t,{RBACProvider:()=>d,useRBAC:()=>u});var s=r(30784),o=r(9885),n=r(43560);const i=(0,o.createContext)(void 0),a=[{id:"super-admin",name:"Super Administrator",description:"Full system access with all permissions",isSystemRole:!0,permissions:[{resource:"*",actions:["*"]}]},{id:"admin",name:"Administrator",description:"System administration with most permissions",isSystemRole:!0,permissions:[{resource:"users",actions:["create","read","update","delete"]},{resource:"vms",actions:["create","read","update","delete","migrate"]},{resource:"monitoring",actions:["read","configure"]},{resource:"security",actions:["read","configure"]},{resource:"backups",actions:["create","read","restore"]},{resource:"settings",actions:["read","update"]}]},{id:"operator",name:"Operator",description:"VM operations and monitoring access",isSystemRole:!0,permissions:[{resource:"vms",actions:["read","update","migrate"]},{resource:"monitoring",actions:["read"]},{resource:"backups",actions:["create","read"]}]},{id:"viewer",name:"Viewer",description:"Read-only access to system resources",isSystemRole:!0,permissions:[{resource:"vms",actions:["read"]},{resource:"monitoring",actions:["read"]},{resource:"backups",actions:["read"]}]}];function d({children:e}){const{user:t}=(0,n.a)(),r=(()=>{if(!t)return[];const e=t.roles||["viewer"];return a.filter((t=>e.includes(t.id)))})(),o=r.flatMap((e=>e.permissions)),d=(e,r)=>{if(!t)return!1;return!!o.some((e=>"*"===e.resource&&e.actions.includes("*")))||o.some((t=>{const s=t.resource===e||"*"===t.resource,o=t.actions.includes(r)||t.actions.includes("*");return s&&o}))},u=e=>r.some((t=>t.id===e||t.name===e));return s.jsx(i.Provider,{value:{userRoles:r,permissions:o,hasPermission:d,hasRole:u,canAccess:(e,r)=>{if(!t)return!1;if(e&&e.length>0){if(!e.some((e=>u(e))))return!1}if(r&&r.length>0){if(!r.every((e=>d(e.resource,e.action))))return!1}return!0}},children:e})}function u(){const e=(0,o.useContext)(i);if(void 0===e)throw new Error("useRBAC must be used within an RBACProvider");return e}},43560:(e,t,r)=>{"use strict";r.d(t,{a:()=>n});r(30784);var s=r(9885);r(57114),r(7803);const o=(0,s.createContext)(void 0);function n(){const e=(0,s.useContext)(o);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e}},7803:(e,t,r)=>{"use strict";r.d(t,{O:()=>o});const s=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8090";const o=new class{async request(e,t={}){const r=`${s}${e}`,o={headers:{"Content-Type":"application/json",...t.headers},...t};try{const e=await fetch(r,o);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(n){throw n}}async login(e){return this.request("/api/auth/login",{method:"POST",body:JSON.stringify(e)})}async register(e){return this.request("/api/auth/register",{method:"POST",body:JSON.stringify(e)})}async forgotPassword(e){return this.request("/api/auth/forgot-password",{method:"POST",body:JSON.stringify(e)})}async resetPassword(e){return this.request("/api/auth/reset-password",{method:"POST",body:JSON.stringify(e)})}getCurrentUser(){if(!this.getToken())return null;try{return{id:"user-123",email:"user@example.com",firstName:"Demo",lastName:"User",status:"active"}}catch(e){return null}}isAuthenticated(){return!!this.getToken()}getToken(){return null}setToken(e,t){0}removeToken(){0}logout(){this.removeToken()}async setup2FA(){const e=this.getToken(),t=this.getCurrentUser();if(!t)throw new Error("User not authenticated");return this.request("/api/auth/2fa/setup",{method:"POST",headers:{Authorization:`Bearer ${e}`},body:JSON.stringify({user_id:t.id,account_name:t.email})})}async verify2FASetup(e){const t=this.getToken(),r=this.getCurrentUser();if(!r&&!e.user_id)throw new Error("User ID required for 2FA verification");return this.request("/api/auth/2fa/verify",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify({user_id:e.user_id||r?.id,code:e.code,is_backup_code:e.is_backup_code||!1})})}async verify2FALogin(e){return this.request("/api/auth/2fa/verify-login",{method:"POST",body:JSON.stringify({user_id:e.user_id,code:e.code,is_backup_code:e.is_backup_code||!1,temp_token:e.temp_token})})}async enable2FA(e){const t=this.getCurrentUser();if(!t)throw new Error("User not authenticated");const r=this.getToken();return this.request("/api/auth/2fa/enable",{method:"POST",headers:{Authorization:`Bearer ${r}`},body:JSON.stringify({user_id:t.id,code:e})})}async disable2FA(){const e=this.getCurrentUser();if(!e)throw new Error("User not authenticated");const t=this.getToken();return this.request("/api/auth/2fa/disable",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify({user_id:e.id})})}async get2FAStatus(){const e=this.getCurrentUser();if(!e)throw new Error("User not authenticated");const t=this.getToken(),r=await this.request("/api/auth/2fa/status?user_id="+e.id,{method:"GET",headers:{Authorization:`Bearer ${t}`}});return{enabled:r.enabled,backup_codes_remaining:0,setup:r.setup,setup_at:r.setup_at,last_used:r.last_used}}async generateBackupCodes(){const e=this.getCurrentUser();if(!e)throw new Error("User not authenticated");const t=this.getToken();return this.request("/api/auth/2fa/backup-codes",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify({user_id:e.id})})}setTempToken(e){0}getTempToken(){return null}removeTempToken(){0}}},81362:(e,t,r)=>{"use strict";r.r(t),r.d(t,{QueryProvider:()=>d});var s=r(30784),o=r(85167),n=r(212),i=r(5570),a=r(9885);function d({children:e}){const[t]=(0,a.useState)((()=>new o.S({defaultOptions:{queries:{staleTime:6e4,retry:1,refetchOnWindowFocus:!1}}})));return(0,s.jsxs)(n.aH,{client:t,children:[e,s.jsx(i.t,{initialIsOpen:!1})]})}},35519:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>q,metadata:()=>U});var s=r(4656),o=(r(5023),r(95153));const n=(0,o.createProxy)(String.raw`/home/kp/novacron/frontend/src/components/theme-provider.tsx`),{__esModule:i,$$typeof:a}=n,d=(n.default,n.ThemeProvider);var u=r(3542),c=r(98139),m=r(98858),l=r(87662),h=r(92822),f=r(30882);function p(...e){return(0,f.m)((0,h.clsx)(e))}const v=c.zt,g=u.forwardRef((({className:e,...t},r)=>s.jsx(c.l_,{ref:r,className:p("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t})));g.displayName=c.l_.displayName;const x=(0,m.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),y=u.forwardRef((({className:e,variant:t,...r},o)=>s.jsx(c.fC,{ref:o,className:p(x({variant:t}),e),...r})));y.displayName=c.fC.displayName;u.forwardRef((({className:e,...t},r)=>s.jsx(c.aU,{ref:r,className:p("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}))).displayName=c.aU.displayName;const b=u.forwardRef((({className:e,...t},r)=>s.jsx(c.x8,{ref:r,className:p("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(l.Z,{className:"h-4 w-4"})})));b.displayName=c.x8.displayName;const w=u.forwardRef((({className:e,...t},r)=>s.jsx(c.Dx,{ref:r,className:p("text-sm font-semibold",e),...t})));w.displayName=c.Dx.displayName;const N=u.forwardRef((({className:e,...t},r)=>s.jsx(c.dk,{ref:r,className:p("text-sm opacity-90",e),...t})));N.displayName=c.dk.displayName;var _=r(98204);function S(){const{toasts:e}={toast:e=>{const{title:t,description:r,variant:o="default",duration:n=4e3}=e,i=(0,s.jsxs)("div",{className:"grid gap-1",children:[t&&s.jsx("div",{className:"text-sm font-semibold",children:t}),r&&s.jsx("div",{className:"text-sm opacity-90",children:r})]});"destructive"===o?_.Am.error(i,{duration:n}):_.Am.success(i,{duration:n})}};return(0,s.jsxs)(v,{children:[e.map((function({id:e,title:t,description:r,action:o,...n}){return(0,s.jsxs)(y,{...n,children:[(0,s.jsxs)("div",{className:"grid gap-1",children:[t&&s.jsx(w,{children:t}),r&&s.jsx(N,{children:r})]}),o,s.jsx(b,{})]},e)})),s.jsx(g,{})]})}const k=(0,o.createProxy)(String.raw`/home/kp/novacron/frontend/src/providers/query-provider.tsx`),{__esModule:T,$$typeof:R}=k,A=(k.default,k.QueryProvider);var C=r(2247);const P=(0,o.createProxy)(String.raw`/home/kp/novacron/frontend/src/contexts/RBACContext.tsx`),{__esModule:j,$$typeof:E}=P,O=(P.default,P.RBACProvider),U=(P.useRBAC,{title:"NovaCron - Distributed Cloud Hypervisor",description:"Next-generation distributed cloud hypervisor with advanced monitoring and management"});function q({children:e}){return s.jsx("html",{lang:"en",suppressHydrationWarning:!0,children:s.jsx("body",{className:"font-sans antialiased",children:s.jsx(C.AuthProvider,{children:s.jsx(O,{children:s.jsx(A,{children:(0,s.jsxs)(d,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:[e,s.jsx(S,{})]})})})})})})}},2247:()=>{throw new Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError: \n  \x1b[31mx\x1b[0m NEXT_RSC_ERR_REACT_API: useState\n   ,-[\x1b[36;1;4m/home/kp/novacron/frontend/src/hooks/useAuth.tsx\x1b[0m:1:1]\n \x1b[2m1\x1b[0m | import { useState, useEffect, useContext, createContext, ReactNode } from 'react';\n   : \x1b[31;1m         ^^^^^^^^\x1b[0m\n \x1b[2m2\x1b[0m | import { useRouter } from 'next/navigation';\n \x1b[2m3\x1b[0m | import { authService, UserResponse } from '@/lib/auth';\n   `----\n\n  \x1b[31mx\x1b[0m NEXT_RSC_ERR_REACT_API: useEffect\n   ,-[\x1b[36;1;4m/home/kp/novacron/frontend/src/hooks/useAuth.tsx\x1b[0m:1:1]\n \x1b[2m1\x1b[0m | import { useState, useEffect, useContext, createContext, ReactNode } from 'react';\n   : \x1b[31;1m                   ^^^^^^^^^\x1b[0m\n \x1b[2m2\x1b[0m | import { useRouter } from 'next/navigation';\n \x1b[2m3\x1b[0m | import { authService, UserResponse } from '@/lib/auth';\n   `----\n\n  \x1b[31mx\x1b[0m NEXT_RSC_ERR_REACT_API: createContext\n   ,-[\x1b[36;1;4m/home/kp/novacron/frontend/src/hooks/useAuth.tsx\x1b[0m:1:1]\n \x1b[2m1\x1b[0m | import { useState, useEffect, useContext, createContext, ReactNode } from 'react';\n   : \x1b[31;1m                                          ^^^^^^^^^^^^^\x1b[0m\n \x1b[2m2\x1b[0m | import { useRouter } from 'next/navigation';\n \x1b[2m3\x1b[0m | import { authService, UserResponse } from '@/lib/auth';\n   `----\n")},5023:()=>{}};