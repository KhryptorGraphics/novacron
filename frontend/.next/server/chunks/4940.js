"use strict";exports.id=4940,exports.ids=[4940],exports.modules={81171:(e,s,t)=>{t.d(s,{Z:()=>a});const a=(0,t(3528).Z)("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]])},71817:(e,s,t)=>{t.d(s,{Z:()=>a});const a=(0,t(3528).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},4940:(e,s,t)=>{t.r(s),t.d(s,{BandwidthMonitoringDashboard:()=>y,default:()=>S});var a=t(30784),i=t(9885),l=t(97040),d=t(63342),n=t(17133),c=t(45304),r=t(86847),x=t(42915),m=t(7950),h=t(14172),o=t(50257),j=t(88012),u=t(50007),p=t(71817),f=t(81171),N=t(89815);const v=(0,t(3528).Z)("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);var g=t(51831),b=t(7478),w=t(63712);const y=({clusterId:e,timeRange:s="1hr",autoRefresh:t=!0})=>{const[y,S]=(0,i.useState)(s),[C,k]=(0,i.useState)(null),[Z,R]=(0,i.useState)(!0),{data:U,isConnected:B}=(0,w.bc)(),D={timestamp:(new Date).toISOString(),totalBandwidth:1e4,usedBandwidth:6800,availableBandwidth:3200,utilizationPercent:68,uploadRate:3200,downloadRate:3600,peakUsage:8500,averageUsage:5200},O={latency:12.5,jitter:2.3,packetLoss:.02,throughput:6500,qosCompliance:98.5,priorityQueues:{high:{usage:45,latency:5.2},medium:{usage:30,latency:12.8},low:{usage:25,latency:22.4}}},z=[{id:"1",source:"cluster-us-east",destination:"cluster-us-west",protocol:"TCP",port:443,bandwidth:1200,packets:98765432,bytes:123456789e4,startTime:new Date(Date.now()-36e5).toISOString()},{id:"2",source:"vm-web-001",destination:"vm-db-001",protocol:"TCP",port:3306,bandwidth:450,packets:45678901,bytes:567890123e3,startTime:new Date(Date.now()-18e5).toISOString()},{id:"3",source:"cluster-eu-central",destination:"cluster-us-east",protocol:"UDP",port:4789,bandwidth:890,packets:67890123,bytes:890123456e3,startTime:new Date(Date.now()-9e5).toISOString()}],M=(0,i.useMemo)((()=>U||D),[U]),P=(0,i.useMemo)((()=>{const e=Date.now(),s={"5min":3e3,"1hr":36e3,"24hr":864e3,"7days":6048e3}[y];return Array.from({length:100},((t,a)=>({timestamp:new Date(e-(100-a)*s).toISOString(),bandwidth:8e3*Math.random()+2e3,upload:4e3*Math.random()+1e3,download:4e3*Math.random()+1e3,utilization:30*Math.random()+50})))}),[y]),T=e=>{const s=["B","KB","MB","GB","TB"];let t=0,a=e;for(;a>=1024&&t<s.length-1;)a/=1024,t++;return`${a.toFixed(2)} ${s[t]}`},E=e=>e>=1e3?`${(e/1e3).toFixed(1)} Gbps`:`${e.toFixed(0)} Mbps`;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Bandwidth Monitoring"}),a.jsx("p",{className:"text-muted-foreground",children:"Real-time network bandwidth analysis and QoS monitoring"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(m.Ph,{value:y,onValueChange:e=>S(e),children:[a.jsx(m.i4,{className:"w-[120px]",children:a.jsx(m.ki,{})}),(0,a.jsxs)(m.Bw,{children:[a.jsx(m.Ql,{value:"5min",children:"5 Minutes"}),a.jsx(m.Ql,{value:"1hr",children:"1 Hour"}),a.jsx(m.Ql,{value:"24hr",children:"24 Hours"}),a.jsx(m.Ql,{value:"7days",children:"7 Days"})]})]}),B?(0,a.jsxs)(n.C,{variant:"outline",children:[a.jsx(h.Z,{className:"h-3 w-3 mr-1 text-green-500"}),"Live"]}):(0,a.jsxs)(n.C,{variant:"outline",children:[a.jsx(o.Z,{className:"h-3 w-3 mr-1 text-red-500"}),"Offline"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(l.ll,{className:"text-sm font-medium",children:"Total Bandwidth"}),a.jsx(j.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:E(M.totalBandwidth)}),a.jsx(r.E,{value:M.utilizationPercent,className:"mt-2"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:[M.utilizationPercent,"% utilized"]})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(l.ll,{className:"text-sm font-medium",children:"Upload Rate"}),a.jsx(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:E(M.uploadRate)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["Peak: ",E(.45*M.peakUsage)]})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(l.ll,{className:"text-sm font-medium",children:"Download Rate"}),a.jsx(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:E(M.downloadRate)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["Peak: ",E(.55*M.peakUsage)]})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(l.ll,{className:"text-sm font-medium",children:"Available"}),a.jsx(f.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:E(M.availableBandwidth)}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:[(M.availableBandwidth/M.totalBandwidth*100).toFixed(0),"% free"]})]})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[a.jsx(l.ll,{children:"Quality of Service (QoS)"}),a.jsx(l.SZ,{children:"Network performance and reliability metrics"})]}),(0,a.jsxs)(l.aY,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Latency"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[O.latency.toFixed(1),"ms"]}),a.jsx(n.C,{variant:O.latency<20?"default":"destructive",className:"mt-1",children:O.latency<20?"Good":"High"})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Jitter"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[O.jitter.toFixed(1),"ms"]}),a.jsx(n.C,{variant:O.jitter<5?"default":"secondary",className:"mt-1",children:O.jitter<5?"Stable":"Variable"})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Packet Loss"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[O.packetLoss.toFixed(3),"%"]}),a.jsx(n.C,{variant:O.packetLoss<.1?"default":"destructive",className:"mt-1",children:O.packetLoss<.1?"Minimal":"High"})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"Throughput"}),a.jsx("p",{className:"text-2xl font-bold",children:E(O.throughput)}),a.jsx(r.E,{value:O.throughput/M.totalBandwidth*100,className:"mt-2"})]}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"QoS Compliance"}),(0,a.jsxs)("p",{className:"text-2xl font-bold",children:[O.qosCompliance.toFixed(1),"%"]}),a.jsx(n.C,{variant:O.qosCompliance>95?"default":"secondary",className:"mt-1",children:O.qosCompliance>95?"Compliant":"Review"})]})]}),(0,a.jsxs)("div",{className:"mt-6",children:[a.jsx("h4",{className:"text-sm font-medium mb-3",children:"Priority Queue Distribution"}),a.jsx("div",{className:"space-y-2",children:Object.entries(O.priorityQueues).map((([e,s])=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(n.C,{variant:"high"===e?"default":"medium"===e?"secondary":"outline",children:e.toUpperCase()}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:["Latency: ",s.latency.toFixed(1),"ms"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-sm",children:[s.usage,"%"]}),a.jsx(r.E,{value:s.usage,className:"w-24"})]})]},e)))})]})]})]}),(0,a.jsxs)(d.mQ,{defaultValue:"bandwidth",className:"space-y-4",children:[(0,a.jsxs)(d.dr,{children:[a.jsx(d.SP,{value:"bandwidth",children:"Bandwidth Usage"}),a.jsx(d.SP,{value:"interfaces",children:"Network Interfaces"}),a.jsx(d.SP,{value:"traffic",children:"Traffic Analysis"}),a.jsx(d.SP,{value:"crosscluster",children:"Cross-Cluster"})]}),(0,a.jsxs)(d.nU,{value:"bandwidth",className:"space-y-4",children:[(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[a.jsx(l.ll,{children:"Bandwidth Trends"}),a.jsx(l.SZ,{children:"Historical bandwidth usage and predictions"})]}),a.jsx(l.aY,{children:a.jsx(b.q,{data:P.map((e=>({timestamp:e.timestamp,actual:e.bandwidth,predicted:e.bandwidth*(1+.2*Math.random()-.1),confidence:{lower:.8*e.bandwidth,upper:1.2*e.bandwidth}}))),title:"Network Bandwidth Usage",yAxisLabel:"Bandwidth (Mbps)",showConfidence:!0,height:300})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{children:"Upload vs Download"})}),a.jsx(l.aY,{children:a.jsx(b.q,{data:P.map((e=>({timestamp:e.timestamp,actual:e.upload,predicted:e.download}))),title:"",yAxisLabel:"Rate (Mbps)",actualLabel:"Upload",predictedLabel:"Download",height:200})})]}),(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{children:"Utilization Rate"})}),a.jsx(l.aY,{children:a.jsx(b.q,{data:P.map((e=>({timestamp:e.timestamp,actual:e.utilization,predicted:Math.min(100,e.utilization+10*Math.random())}))),title:"",yAxisLabel:"Utilization (%)",height:200})})]})]})]}),a.jsx(d.nU,{value:"interfaces",className:"space-y-4",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{id:"eth0",name:"eth0",type:"ethernet",status:"up",speed:1e4,duplex:"full",mtu:1500,utilization:72,errorRate:.001,packetsSent:1234567890,packetsReceived:987654321,bytesSent:987654321e4,bytesReceived:87654321e5},{id:"eth1",name:"eth1",type:"ethernet",status:"up",speed:1e4,duplex:"full",mtu:9e3,utilization:54,errorRate:5e-4,packetsSent:987654321,packetsReceived:876543210,bytesSent:7654321e6,bytesReceived:654321e7},{id:"wg0",name:"wg0",type:"vpn",status:"up",speed:1e3,duplex:"full",mtu:1420,utilization:35,errorRate:.002,packetsSent:123456789,packetsReceived:98765432,bytesSent:987654321e3,bytesReceived:87654321e4}].map((e=>(0,a.jsxs)(l.Zb,{className:C===e.id?"ring-2 ring-primary":"",children:[a.jsx(l.Ol,{className:"cursor-pointer",onClick:()=>k(e.id),children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(l.ll,{className:"text-sm",children:e.name}),a.jsx(n.C,{variant:"up"===e.status?"default":"destructive",children:e.status.toUpperCase()})]})}),a.jsx(l.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Speed"}),a.jsx("span",{children:E(e.speed)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Utilization"}),(0,a.jsxs)("span",{children:[e.utilization,"%"]})]}),a.jsx(r.E,{value:e.utilization,className:"h-2"}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Error Rate"}),(0,a.jsxs)("span",{className:e.errorRate>.01?"text-red-500":"",children:[(100*e.errorRate).toFixed(3),"%"]})]}),(0,a.jsxs)("div",{className:"pt-2 border-t",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:"TX"}),a.jsx("span",{children:T(e.bytesSent)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:"RX"}),a.jsx("span",{children:T(e.bytesReceived)})]})]}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,a.jsxs)("span",{children:["Duplex: ",e.duplex]}),(0,a.jsxs)("span",{children:["MTU: ",e.mtu]})]})]})})]},e.id)))})}),(0,a.jsxs)(d.nU,{value:"traffic",className:"space-y-4",children:[(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[a.jsx(l.ll,{children:"Top Traffic Flows"}),a.jsx(l.SZ,{children:"Real-time traffic analysis by source and destination"})]}),a.jsx(l.aY,{children:a.jsx("div",{className:"space-y-4",children:z.map((e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-accent/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:e.source}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Source"})]}),a.jsx(N.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:e.destination}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Destination"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium",children:E(e.bandwidth)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Bandwidth"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"text-sm",children:[e.protocol,":",e.port]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Protocol"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm",children:T(e.bytes)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Transfer"})]})]})]},e.id)))})})]}),(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{children:"Protocol Distribution"})}),a.jsx(l.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"TCP"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(r.E,{value:65,className:"w-32"}),a.jsx("span",{className:"text-sm w-12 text-right",children:"65%"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"UDP"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(r.E,{value:25,className:"w-32"}),a.jsx("span",{className:"text-sm w-12 text-right",children:"25%"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"ICMP"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(r.E,{value:5,className:"w-32"}),a.jsx("span",{className:"text-sm w-12 text-right",children:"5%"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm",children:"Other"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(r.E,{value:5,className:"w-32"}),a.jsx("span",{className:"text-sm w-12 text-right",children:"5%"})]})]})]})})]})]}),a.jsx(d.nU,{value:"crosscluster",className:"space-y-4",children:(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{children:[a.jsx(l.ll,{children:"Cross-Cluster Bandwidth"}),a.jsx(l.SZ,{children:"WAN optimization and inter-cluster traffic"})]}),a.jsx(l.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-medium mb-3",children:"Federation Links"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded bg-accent/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(v,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:"US-East \u2194 US-West"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium",children:"2.4 Gbps"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"45ms latency"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded bg-accent/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(v,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:"US-East \u2194 EU-Central"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium",children:"1.8 Gbps"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"95ms latency"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded bg-accent/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(v,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:"EU-Central \u2194 AP-South"})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium",children:"1.2 Gbps"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"140ms latency"})]})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-medium mb-3",children:"WAN Optimization"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{children:"Compression Ratio"}),a.jsx("span",{children:"2.8:1"})]}),a.jsx(r.E,{value:65})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{children:"Deduplication Rate"}),a.jsx("span",{children:"42%"})]}),a.jsx(r.E,{value:42})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{children:"Cache Hit Rate"}),a.jsx("span",{children:"78%"})]}),a.jsx(r.E,{value:78})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm mb-1",children:[a.jsx("span",{children:"Transfer Efficiency"}),a.jsx("span",{children:"89%"})]}),a.jsx(r.E,{value:89})]})]})]})]})})]})})]}),Z&&(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(l.ll,{children:"Bandwidth Alerts"}),a.jsx(c.z,{size:"sm",variant:"ghost",onClick:()=>R(!1),children:"Dismiss All"})]})}),a.jsx(l.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(x.bZ,{children:[a.jsx(g.Z,{className:"h-4 w-4"}),a.jsx(x.Cd,{children:"High Bandwidth Utilization"}),a.jsx(x.X,{children:"Interface eth0 is at 92% capacity. Consider load balancing or capacity upgrade."})]}),(0,a.jsxs)(x.bZ,{variant:"destructive",children:[a.jsx(g.Z,{className:"h-4 w-4"}),a.jsx(x.Cd,{children:"QoS Violation Detected"}),a.jsx(x.X,{children:"High-priority queue experiencing 28ms latency (threshold: 20ms)."})]})]})})]})]})},S=y}};