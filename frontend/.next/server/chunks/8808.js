"use strict";exports.id=8808,exports.ids=[8808],exports.modules={8808:(e,s,a)=>{a.r(s),a.d(s,{default:()=>$});var t=a(30784),r=a(9885),l=a(97040),i=a(45304),n=a(17133),d=a(42915),c=a(63342),h=a(7950),o=a(58013),m=a(37565),x=a(64536),u=a(53780),j=a(92032),v=a(94409),g=a(51831),p=a(34253),y=a(50007),w=a(71817),f=a(89815),N=a(14172),b=a(50257),k=a(20644),M=a(5987),S=a(83475),C=a(49859),Z=a(3514),D=a(65735),I=a(34707),O=a(24300),A=a(35522),P=a(14839),Q=a(40086),V=a(7501),R=a(75398),K=a(68244),U=a(73632),z=a(45418),F=a(20589),B=a(84753),T=a(53937),W=a(63712);const $=()=>{const[e,s]=(0,r.useState)([]),[a,$]=(0,r.useState)([]),[E,L]=(0,r.useState)([]),[Y,_]=(0,r.useState)(5e3),[H,G]=(0,r.useState)(!0),[q,X]=(0,r.useState)("1h"),[J,ee]=(0,r.useState)("grid"),[se,ae]=(0,r.useState)("all"),{data:te,isConnected:re}=((0,r.useRef)({}),(0,W.sO)("/api/ws/monitoring"));(0,r.useEffect)((()=>{const e=()=>{const e=Date.now();return[{id:"cpu-usage",name:"CPU Usage",value:45+20*Math.random(),unit:"%",trend:Math.random()>.5?"up":"down",trendValue:5*Math.random(),status:"healthy",threshold:{warning:70,critical:90},history:Array.from({length:20},((s,a)=>({timestamp:e-6e4*(19-a),value:40+30*Math.random()})))},{id:"memory-usage",name:"Memory Usage",value:65+15*Math.random(),unit:"%",trend:"stable",trendValue:.5,status:"warning",threshold:{warning:60,critical:85},history:Array.from({length:20},((s,a)=>({timestamp:e-6e4*(19-a),value:60+20*Math.random()})))},{id:"disk-io",name:"Disk I/O",value:120+80*Math.random(),unit:"MB/s",trend:"up",trendValue:12,status:"healthy",threshold:{warning:300,critical:400},history:Array.from({length:20},((s,a)=>({timestamp:e-6e4*(19-a),value:100+100*Math.random()})))},{id:"network-throughput",name:"Network Throughput",value:850+300*Math.random(),unit:"Mbps",trend:"up",trendValue:8,status:"healthy",threshold:{warning:1500,critical:1800},history:Array.from({length:20},((s,a)=>({timestamp:e-6e4*(19-a),value:800+400*Math.random()})))},{id:"response-time",name:"API Response Time",value:45+30*Math.random(),unit:"ms",trend:"down",trendValue:-5,status:"healthy",threshold:{warning:100,critical:200},history:Array.from({length:20},((s,a)=>({timestamp:e-6e4*(19-a),value:40+40*Math.random()})))},{id:"error-rate",name:"Error Rate",value:2*Math.random(),unit:"%",trend:"down",trendValue:-.3,status:"healthy",threshold:{warning:2,critical:5},history:Array.from({length:20},((s,a)=>({timestamp:e-6e4*(19-a),value:3*Math.random()})))}]},a=()=>[{severity:"warning",title:"High Memory Usage",description:"Memory usage on host-02 has exceeded 75%",source:"host-02"},{severity:"info",title:"Backup Completed",description:"Daily backup completed successfully",source:"backup-service"},{severity:"error",title:"API Endpoint Down",description:"Health check failed for /api/v2/users",source:"api-gateway"}].slice(0,Math.floor(3*Math.random())+1).map(((e,s)=>({...e,id:`alert-${Date.now()}-${s}`,timestamp:new Date(Date.now()-36e5*Math.random()).toISOString(),acknowledged:!1,actions:"error"===e.severity?[{label:"Restart Service",action:"restart"},{label:"View Logs",action:"logs"}]:void 0}))),t=()=>[{service:"API Gateway",status:"healthy",latency:12+8*Math.random(),lastCheck:(new Date).toISOString(),uptime:99.99},{service:"Database",status:"healthy",latency:5+5*Math.random(),lastCheck:(new Date).toISOString(),uptime:99.95},{service:"Cache Service",status:Math.random()>.8?"degraded":"healthy",latency:2+3*Math.random(),lastCheck:(new Date).toISOString(),uptime:99.9},{service:"Message Queue",status:"healthy",latency:8+7*Math.random(),lastCheck:(new Date).toISOString(),uptime:99.97},{service:"Storage Backend",status:"healthy",latency:15+10*Math.random(),lastCheck:(new Date).toISOString(),uptime:99.99}];let r;return s(e()),$(a()),L(t()),H&&(r=setInterval((()=>{s(e()),Math.random()>.7&&$((e=>[...a(),...e].slice(0,10))),L(t())}),Y)),()=>{r&&clearInterval(r)}}),[H,Y]);const le=e=>{switch(e){case"healthy":return"text-green-500";case"warning":case"degraded":return"text-yellow-500";case"critical":case"error":case"down":return"text-red-500";case"info":return"text-blue-500";default:return"text-gray-500"}},ie=e=>{switch(e){case"healthy":return t.jsx(j.Z,{className:"h-4 w-4"});case"warning":case"degraded":return t.jsx(v.Z,{className:"h-4 w-4"});case"critical":case"error":case"down":return t.jsx(g.Z,{className:"h-4 w-4"});case"info":return t.jsx(p.Z,{className:"h-4 w-4"});default:return null}},ne=e=>{switch(e){case"up":return t.jsx(y.Z,{className:"h-4 w-4 text-green-500"});case"down":return t.jsx(w.Z,{className:"h-4 w-4 text-red-500"});default:return t.jsx(f.Z,{className:"h-4 w-4 text-gray-500"})}},de=a.filter((e=>"all"===se||("unacknowledged"===se?!e.acknowledged:e.severity===se))),ce=e[0]?.history.map(((s,a)=>({time:new Date(s.timestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),cpu:e[0]?.history[a]?.value||0,memory:e[1]?.history[a]?.value||0,disk:(e[2]?.history[a]?.value||0)/5,network:(e[3]?.history[a]?.value||0)/20})))||[],he=[{metric:"CPU",value:e[0]?.value||0},{metric:"Memory",value:e[1]?.value||0},{metric:"Disk",value:Math.min((e[2]?.value||0)/4,100)},{metric:"Network",value:Math.min((e[3]?.value||0)/18,100)},{metric:"Response",value:100-Math.min(e[4]?.value||0,100)},{metric:"Errors",value:100-20*(e[5]?.value||0)}];return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("h1",{className:"text-2xl font-bold",children:"System Monitoring"}),(0,t.jsxs)(n.C,{variant:"outline",className:re?"bg-green-50":"bg-red-50",children:[re?t.jsx(N.Z,{className:"h-3 w-3 mr-1"}):t.jsx(b.Z,{className:"h-3 w-3 mr-1"}),re?"Live":"Disconnected"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(h.Ph,{value:q,onValueChange:X,children:[t.jsx(h.i4,{className:"w-[100px]",children:t.jsx(h.ki,{})}),(0,t.jsxs)(h.Bw,{children:[t.jsx(h.Ql,{value:"5m",children:"5 min"}),t.jsx(h.Ql,{value:"15m",children:"15 min"}),t.jsx(h.Ql,{value:"1h",children:"1 hour"}),t.jsx(h.Ql,{value:"6h",children:"6 hours"}),t.jsx(h.Ql,{value:"24h",children:"24 hours"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(o.r,{checked:H,onCheckedChange:G,id:"auto-refresh"}),t.jsx(m._,{htmlFor:"auto-refresh",className:"text-sm",children:"Auto-refresh"})]}),t.jsx(i.z,{variant:"outline",size:"icon",onClick:()=>window.location.reload(),children:t.jsx(k.Z,{className:"h-4 w-4"})}),t.jsx(i.z,{variant:"outline",size:"icon",children:t.jsx(M.Z,{className:"h-4 w-4"})})]})]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:e.map((e=>t.jsx(l.Zb,{children:(0,t.jsxs)(l.aY,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm text-muted-foreground",children:e.name}),ne(e.trend)]}),(0,t.jsxs)("div",{className:"flex items-baseline gap-1",children:[t.jsx("span",{className:"text-2xl font-bold",children:e.value.toFixed("%"===e.unit?0:1)}),t.jsx("span",{className:"text-sm text-muted-foreground",children:e.unit})]}),(0,t.jsxs)("div",{className:"text-xs mt-1 "+("up"===e.trend?"text-green-500":"down"===e.trend?"text-red-500":"text-gray-500"),children:["up"===e.trend?"+":"down"===e.trend?"-":"\xb1",Math.abs(e.trendValue).toFixed(1),"%"]}),t.jsx("div",{className:"mt-2 h-1 bg-gray-200 rounded overflow-hidden",children:t.jsx("div",{className:"h-full "+(e.value>e.threshold.critical?"bg-red-500":e.value>e.threshold.warning?"bg-yellow-500":"bg-green-500"),style:{width:`${Math.min(e.value/e.threshold.critical*100,100)}%`}})})]})},e.id)))}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)(l.Zb,{children:[t.jsx(l.Ol,{children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[t.jsx(l.ll,{children:"Performance Metrics"}),t.jsx(l.SZ,{children:"Real-time system performance"})]}),t.jsx(c.mQ,{value:J,onValueChange:ee,children:(0,t.jsxs)(c.dr,{children:[t.jsx(c.SP,{value:"grid",children:"Grid"}),t.jsx(c.SP,{value:"chart",children:"Chart"}),t.jsx(c.SP,{value:"radar",children:"Radar"})]})})]})}),(0,t.jsxs)(l.aY,{children:["chart"===J&&t.jsx(D.h,{width:"100%",height:300,children:(0,t.jsxs)(I.w,{data:ce,children:[t.jsx(O.q,{strokeDasharray:"3 3"}),t.jsx(A.K,{dataKey:"time"}),t.jsx(P.B,{}),t.jsx(Q.u,{}),t.jsx(V.x,{type:"monotone",dataKey:"cpu",stroke:"#3b82f6",name:"CPU %",strokeWidth:2}),t.jsx(V.x,{type:"monotone",dataKey:"memory",stroke:"#10b981",name:"Memory %",strokeWidth:2}),t.jsx(V.x,{type:"monotone",dataKey:"disk",stroke:"#f59e0b",name:"Disk (scaled)",strokeWidth:2}),t.jsx(V.x,{type:"monotone",dataKey:"network",stroke:"#8b5cf6",name:"Network (scaled)",strokeWidth:2})]})}),"radar"===J&&t.jsx(D.h,{width:"100%",height:300,children:(0,t.jsxs)(R.H,{data:he,children:[t.jsx(K.n,{}),t.jsx(U.I,{dataKey:"metric"}),t.jsx(z.S,{angle:90,domain:[0,100]}),t.jsx(F.F,{name:"Current",dataKey:"value",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6})]})}),"grid"===J&&t.jsx("div",{className:"grid grid-cols-2 gap-4",children:e.slice(0,4).map((e=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm font-medium",children:e.name}),t.jsx("span",{className:`text-sm ${le(e.status)}`,children:ie(e.status)})]}),t.jsx(D.h,{width:"100%",height:80,children:t.jsx(B.T,{data:e.history.slice(-10),children:t.jsx(T.uN,{type:"monotone",dataKey:"value",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.2,strokeWidth:2})})})]},e.id)))})]})]}),(0,t.jsxs)(l.Zb,{children:[(0,t.jsxs)(l.Ol,{children:[t.jsx(l.ll,{children:"Service Health"}),t.jsx(l.SZ,{children:"Real-time service status and uptime"})]}),t.jsx(l.aY,{children:t.jsx("div",{className:"space-y-3",children:E.map((e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"p-2 rounded-full "+("healthy"===e.status?"bg-green-100":"degraded"===e.status?"bg-yellow-100":"bg-red-100"),children:t.jsx(S.Z,{className:`h-4 w-4 ${le(e.status)}`})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium",children:e.service}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Uptime: ",e.uptime,"%"]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-sm font-medium",children:[e.latency.toFixed(1),"ms"]}),t.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(e.lastCheck).toLocaleTimeString()})]})]},e.service)))})})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(l.Zb,{children:[t.jsx(l.Ol,{children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[t.jsx(l.ll,{children:"Alerts"}),(0,t.jsxs)(h.Ph,{value:se,onValueChange:ae,children:[t.jsx(h.i4,{className:"w-[140px]",children:t.jsx(h.ki,{})}),(0,t.jsxs)(h.Bw,{children:[t.jsx(h.Ql,{value:"all",children:"All"}),t.jsx(h.Ql,{value:"critical",children:"Critical"}),t.jsx(h.Ql,{value:"error",children:"Errors"}),t.jsx(h.Ql,{value:"warning",children:"Warnings"}),t.jsx(h.Ql,{value:"info",children:"Info"}),t.jsx(h.Ql,{value:"unacknowledged",children:"Unread"})]})]})]})}),t.jsx(l.aY,{children:t.jsx(u.x,{className:"h-[400px] pr-4",children:t.jsx("div",{className:"space-y-3",children:de.length>0?de.map((e=>t.jsx(d.bZ,{className:""+("critical"===e.severity||"error"===e.severity?"border-red-200":"warning"===e.severity?"border-yellow-200":""),children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`mt-0.5 ${le(e.severity)}`,children:ie(e.severity)}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx(d.Cd,{className:"text-sm font-medium",children:e.title}),t.jsx(d.X,{className:"mt-1 text-xs",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(n.C,{variant:"outline",className:"text-xs",children:e.source}),t.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(e.timestamp).toLocaleTimeString()})]}),e.actions&&t.jsx("div",{className:"flex gap-2 mt-2",children:e.actions.map((e=>t.jsx(i.z,{size:"sm",variant:"outline",className:"h-6 text-xs",children:e.label},e.action)))})]}),t.jsx(i.z,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>{$((s=>s.map((s=>s.id===e.id?{...s,acknowledged:!0}:s))))},children:e.acknowledged?t.jsx(C.Z,{className:"h-3 w-3"}):t.jsx(Z.Z,{className:"h-3 w-3"})})]})},e.id))):t.jsx("div",{className:"text-center text-muted-foreground py-8",children:"No alerts to display"})})})})]}),(0,t.jsxs)(l.Zb,{children:[t.jsx(l.Ol,{children:t.jsx(l.ll,{children:"Refresh Settings"})}),(0,t.jsxs)(l.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m._,{children:"Refresh Interval"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(x.i,{value:[Y/1e3],onValueChange:e=>_(1e3*e[0]),min:1,max:60,step:1,className:"flex-1"}),(0,t.jsxs)("span",{className:"text-sm font-medium w-12",children:[Y/1e3,"s"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(m._,{htmlFor:"notifications",children:"Push Notifications"}),t.jsx(o.r,{id:"notifications"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(m._,{htmlFor:"sound",children:"Alert Sounds"}),t.jsx(o.r,{id:"sound"})]})]})]})]})]})]})}},37565:(e,s,a)=>{a.d(s,{_:()=>c});var t=a(30784),r=a(9885),l=a(43618),i=a(91971),n=a(80467);const d=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((({className:e,...s},a)=>t.jsx(l.f,{ref:a,className:(0,n.cn)(d(),e),...s})));c.displayName=l.f.displayName}};