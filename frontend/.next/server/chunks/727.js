"use strict";exports.id=727,exports.ids=[727],exports.modules={70884:(e,t,s)=>{s.d(t,{O:()=>a});var l=s(30784),r=(s(9885),s(97040)),i=s(18381);const n=["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],a=({data:e,title:t,description:s,colorScale:a=n,xAxisLabel:c="Time",yAxisLabel:d="Resource"})=>{const o=Array.from(new Set(e.map((e=>e.resourceId)))).sort(),x=Array.from(new Set(e.map((e=>e.timestamp)))).sort(),h=e.map((e=>e.value)),f=Math.min(...h),m=Math.max(...h),u=e=>{const t=(e-f)/(m-f),s=Math.min(Math.floor(t*a.length),a.length-1);return a[s]},v=e=>(0,i.Z)(new Date(e),"HH:mm"),j=100/x.length;return(0,l.jsxs)(r.Zb,{children:[(0,l.jsxs)(r.Ol,{children:[l.jsx(r.ll,{children:t}),s&&l.jsx("p",{className:"text-sm text-muted-foreground",children:s})]}),l.jsx(r.aY,{children:l.jsx("div",{className:"overflow-x-auto",children:(0,l.jsxs)("div",{className:"min-w-max",children:[(0,l.jsxs)("div",{className:"flex mb-2",children:[l.jsx("div",{className:"w-24 flex-shrink-0"}),l.jsx("div",{className:"flex-grow text-center text-sm font-medium text-muted-foreground",children:c})]}),(0,l.jsxs)("div",{className:"flex mb-2",children:[l.jsx("div",{className:"w-24 flex-shrink-0 text-right pr-2 text-sm font-medium text-muted-foreground",children:d}),l.jsx("div",{className:"flex-grow flex",children:x.map(((e,t)=>l.jsx("div",{className:"text-xs text-center",style:{width:`${j}%`},children:v(e)},`timestamp-${t}`)))})]}),l.jsx("div",{children:o.map(((t,s)=>(0,l.jsxs)("div",{className:"flex mb-1",children:[l.jsx("div",{className:"w-24 flex-shrink-0 text-right pr-2 text-xs truncate",title:t,children:t}),l.jsx("div",{className:"flex-grow flex",children:x.map(((r,i)=>{const n=e.find((e=>e.resourceId===t&&e.timestamp===r)),a=n?n.value:0;return l.jsx("div",{className:"border border-gray-100 dark:border-gray-800 rounded-sm",style:{width:`${j}%`,height:"30px",backgroundColor:u(a),cursor:"pointer"},title:`${t}: ${a.toFixed(2)} at ${v(r)}`},`cell-${s}-${i}`)}))})]},`resource-${s}`)))}),(0,l.jsxs)("div",{className:"mt-4 flex items-center",children:[l.jsx("span",{className:"text-xs mr-2",children:"Low"}),l.jsx("div",{className:"flex h-2",children:a.map(((e,t)=>l.jsx("div",{style:{backgroundColor:e,width:"20px",height:"100%"}},`legend-${t}`)))}),l.jsx("span",{className:"text-xs ml-2",children:"High"})]})]})})})]})}},60589:(e,t,s)=>{s.d(t,{z:()=>c});var l=s(30784),r=s(9885),i=s.n(r),n=s(97040),a=s(7950);const c=({data:e,title:t="Resource Utilization",description:s,height:c=400,colorMode:d="value",valueFormat:o=(e=>`${e.toFixed(1)}%`),onNodeClick:x})=>{const h=(0,r.useRef)(null),[f,m]=i().useState("usage"),u=["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],v={vm:"#4f46e5",host:"#0891b2",storage:"#7c3aed",network:"#2563eb",service:"#059669",default:"#6b7280"},j=(e,t,s)=>{const l=s>t?(e-t)/(s-t):.5,r=Math.min(Math.floor(l*u.length),u.length-1);return u[r]},g=e=>{const t=(e.id+e.name).toLowerCase();for(const[s,l]of Object.entries(v))if(t.includes(s))return l;return v.default},p=e=>{const t=[e];return e.children&&e.children.forEach((e=>{t.push(...p(e))})),t},y=(e,t,s,l,r,i,n)=>{if(!e.children||0===e.children.length)return{...e,x0:t,y0:s,x1:l,y1:r,color:e.color||("value"===d?j(e.value,i,n):g(e)),children:void 0};const a=e.children.reduce(((e,t)=>e+t.value),0),c=[...e.children].sort(((e,t)=>t.value-e.value));let o=t,x=s;const h=l-t,f=r-s,m=h>f,u=c.map((e=>{const c=e.value/a*(m?h:f);let d,u,v,j;return m?(d=o,u=s,v=o+c,j=r,o+=c):(d=t,u=x,v=l,j=x+c,x+=c),y(e,d,u,v,j,i,n)}));return{...e,x0:t,y0:s,x1:l,y1:r,children:u,color:e.color||("value"===d?j(e.value,i,n):g(e))}};return(0,r.useEffect)((()=>{if(!h.current||!e)return;const t=h.current,s=t.getContext("2d");if(!s)return;t.width=t.clientWidth,t.height=t.clientHeight;const l=p(e).map((e=>e.value)),r=Math.min(...l),i=Math.max(...l),n=y(e,0,0,t.width,t.height,r,i),a=(e,t=0)=>{s.fillStyle=e.color,s.fillRect(e.x0+2,e.y0+2,e.x1-e.x0-4,e.y1-e.y0-4),s.strokeStyle="#ffffff",s.lineWidth=1,s.strokeRect(e.x0+2,e.y0+2,e.x1-e.x0-4,e.y1-e.y0-4);const l=e.x1-e.x0,r=e.y1-e.y0;if(l>60&&r>30){const t=Math.min(14,Math.max(10,Math.floor(l/10)));s.font=`${t}px sans-serif`,s.fillStyle="#ffffff",s.textAlign="center",s.textBaseline="middle";const r=(e.x0+e.x1)/2,i=(e.y0+e.y1)/2-t/2;s.fillText(e.name,r,i,l-8),s.font=t-2+"px sans-serif",s.fillText(o(e.value),r,i+t,l-8)}e.children&&e.children.forEach((e=>{a(e,t+1)}))};s.clearRect(0,0,t.width,t.height),a(n);const c=e=>{const s=t.getBoundingClientRect(),l=e.clientX-s.left,r=e.clientY-s.top,i=e=>{if(l>=e.x0&&l<=e.x1&&r>=e.y0&&r<=e.y1){if(e.children)for(const t of e.children){const e=i(t);if(e)return e}return e}return null},a=i(n);if(a&&x){const e={id:a.id,name:a.name,value:a.value,children:a.children?.map((e=>({id:e.id,name:e.name,value:e.value})))};x(e)}};return t.addEventListener("click",c),()=>{t.removeEventListener("click",c)}}),[e,d,o,x]),(0,l.jsxs)(n.Zb,{children:[(0,l.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsxs)("div",{children:[l.jsx(n.ll,{children:t}),s&&l.jsx("p",{className:"text-sm text-muted-foreground",children:s})]}),(0,l.jsxs)(a.Ph,{value:f,onValueChange:m,children:[l.jsx(a.i4,{className:"w-[180px]",children:l.jsx(a.ki,{placeholder:"Metric"})}),(0,l.jsxs)(a.Bw,{children:[l.jsx(a.Ql,{value:"usage",children:"Usage %"}),l.jsx(a.Ql,{value:"iops",children:"IOPS"}),l.jsx(a.Ql,{value:"latency",children:"Latency"})]})]})]}),(0,l.jsxs)(n.aY,{children:[l.jsx("div",{className:"relative",style:{height:`${c}px`},children:l.jsx("canvas",{ref:h,className:"w-full h-full"})}),(0,l.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-full h-2 bg-gradient-to-r from-[#f7fbff] to-[#084594] rounded mr-2",style:{width:"100px"}}),l.jsx("span",{className:"text-xs",children:"Resource Utilization"})]}),l.jsx("div",{className:"text-xs text-muted-foreground",children:"Click on a section to view details"})]})]})]})}}};