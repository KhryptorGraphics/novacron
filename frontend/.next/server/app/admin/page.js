(()=>{var e={id:3,ids:[3,7950,7040,7133,9748,6589,3712,1904,8013,6715,4536,7202]};e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},95866:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});const a=(0,t(3528).Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]])},35256:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});const a=(0,t(3528).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},3514:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});const a=(0,t(3528).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},39546:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});const a=(0,t(3528).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},7382:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});const a=(0,t(3528).Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]])},76733:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});const a=(0,t(3528).Z)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]])},71063:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});const a=(0,t(3528).Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},52995:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});const a=(0,t(3528).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},83475:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});const a=(0,t(3528).Z)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},26303:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});const a=(0,t(3528).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},71817:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});const a=(0,t(3528).Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])},50007:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});const a=(0,t(3528).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},55642:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});const a=(0,t(3528).Z)("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]])},54102:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>d});var a=t(67096),i=t(16132),r=t(37284),n=t.n(r),l=t(32564),c={};for(const h in l)["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(h)<0&&(c[h]=()=>l[h]);t.d(s,c);const d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,90881)),"/home/kp/novacron/frontend/src/app/admin/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,39862)),"/home/kp/novacron/frontend/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,89200)),"/home/kp/novacron/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],o=["/home/kp/novacron/frontend/src/app/admin/page.tsx"],m="/admin/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},50998:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,13724,23)),Promise.resolve().then(t.t.bind(t,35365,23)),Promise.resolve().then(t.t.bind(t,44900,23)),Promise.resolve().then(t.t.bind(t,44714,23)),Promise.resolve().then(t.t.bind(t,45392,23)),Promise.resolve().then(t.t.bind(t,8898,23))},37939:(e,s,t)=>{Promise.resolve().then(t.bind(t,82159))},35303:()=>{},82159:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ws,dynamic:()=>bs});var a=t(30784),i=t(9885),r=t(57114),n=t(99748),l=t(86256),c=t(80467);function d(){return a.jsx("a",{href:"#main-content",className:"sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-blue-600 focus:text-white focus:rounded-md focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2",children:"Skip to main content"})}var o=t(3528);const m=(0,o.Z)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),x=(0,o.Z)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);var u=t(76733),h=t(71072),p=t(45304),g=t(55794),j=t(30569),y=t(94571);function f(){const{theme:e,setTheme:s}=(0,h.F)(),[t,r]=i.useState(!1);return i.useEffect((()=>{r(!0)}),[]),t?(0,a.jsxs)(g.h_,{children:[a.jsx(g.$F,{asChild:!0,children:(0,a.jsxs)(p.z,{variant:"ghost",size:"icon",className:"relative",children:[(0,a.jsxs)(j.M,{mode:"wait",children:["light"===e&&a.jsx(y.E.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:a.jsx(m,{className:"h-5 w-5"})},"light"),"dark"===e&&a.jsx(y.E.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:a.jsx(x,{className:"h-5 w-5"})},"dark"),"system"===e&&a.jsx(y.E.div,{initial:{rotate:-90,opacity:0},animate:{rotate:0,opacity:1},exit:{rotate:90,opacity:0},transition:{duration:.2},children:a.jsx(u.Z,{className:"h-5 w-5"})},"system")]}),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,a.jsxs)(g.AW,{align:"end",children:[(0,a.jsxs)(g.Xi,{onClick:()=>s("light"),children:[a.jsx(m,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Light"})]}),(0,a.jsxs)(g.Xi,{onClick:()=>s("dark"),children:[a.jsx(x,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Dark"})]}),(0,a.jsxs)(g.Xi,{onClick:()=>s("system"),children:[a.jsx(u.Z,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"System"})]})]})]}):a.jsx(p.z,{variant:"ghost",size:"icon",disabled:!0,children:a.jsx(m,{className:"h-5 w-5"})})}var v=t(11440),N=t.n(v),b=t(11210),w=t(83475),k=t(89815),S=t(82875),C=t(88012),Z=t(44901),_=t(35256),M=t(91672),A=t(5987),E=t(56206),T=t(7382),R=t(11922);const U=(0,o.Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),z=[{name:"Dashboard",href:"/dashboard",icon:b.Z,description:"Overview and metrics"},{name:"VMs",href:"/vms",icon:w.Z,description:"Virtual machine management"},{name:"Core VMs",href:"/core/vms",icon:w.Z,description:"Core-mode VM list"},{name:"Monitoring",href:"/monitoring",icon:k.Z,description:"Real-time system monitoring"},{name:"Storage",href:"/storage",icon:S.Z,description:"Storage management"},{name:"Network",href:"/network",icon:C.Z,description:"Network configuration"},{name:"Security",href:"/security",icon:Z.Z,description:"Security settings"},{name:"Analytics",href:"/analytics",icon:_.Z,description:"Performance analytics"},{name:"Users",href:"/users",icon:M.Z,description:"User management"},{name:"Settings",href:"/settings",icon:A.Z,description:"System settings"},{name:"Admin",href:"/admin",icon:Z.Z,description:"Admin panel"}];function L({user:e,onLogout:s}){const[t,n]=(0,i.useState)(!1),[l,d]=(0,i.useState)(!1),o=(0,r.usePathname)();(0,i.useEffect)((()=>{n(!1)}),[o]),(0,i.useEffect)((()=>(document.body.style.overflow=t?"hidden":"unset",()=>{document.body.style.overflow="unset"})),[t]);const u=()=>{d(!l),document.documentElement.setAttribute("data-theme",l?"light":"dark")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"sticky top-0 z-40 flex h-16 items-center gap-4 border-b bg-white px-4 dark:bg-gray-900 dark:border-gray-800 lg:hidden",children:[a.jsx(p.z,{variant:"ghost",size:"icon",onClick:()=>n(!t),className:"lg:hidden","aria-label":"Toggle menu",children:t?a.jsx(E.Z,{className:"h-6 w-6"}):a.jsx(T.Z,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{className:"flex flex-1 items-center justify-between",children:[(0,a.jsxs)(N(),{href:"/",className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"N"})}),a.jsx("span",{className:"font-semibold text-lg",children:"NovaCron"})]}),a.jsx(p.z,{variant:"ghost",size:"icon",onClick:u,"aria-label":"Toggle dark mode",children:l?a.jsx(m,{className:"h-5 w-5"}):a.jsx(x,{className:"h-5 w-5"})})]})]}),a.jsx(j.M,{children:t&&(0,a.jsxs)(a.Fragment,{children:[a.jsx(y.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>n(!1)}),a.jsx(y.E.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-y-0 left-0 z-50 w-72 bg-white dark:bg-gray-900 shadow-xl lg:hidden",children:(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[(0,a.jsxs)("div",{className:"flex h-16 items-center gap-4 border-b px-4 dark:border-gray-800",children:[(0,a.jsxs)(N(),{href:"/",className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"N"})}),a.jsx("span",{className:"font-semibold text-lg",children:"NovaCron"})]}),a.jsx(p.z,{variant:"ghost",size:"icon",onClick:()=>n(!1),className:"ml-auto","aria-label":"Close menu",children:a.jsx(E.Z,{className:"h-5 w-5"})})]}),e&&a.jsx("div",{className:"border-b px-4 py-4 dark:border-gray-800",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold",children:e.name.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:e.name}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.email})]})]})}),a.jsx("nav",{className:"flex-1 overflow-y-auto px-2 py-4",children:a.jsx("div",{className:"space-y-1",children:z.map((e=>{const s=e.icon,t=o===e.href;return(0,a.jsxs)(N(),{href:e.href,className:(0,c.cn)("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-all","hover:bg-gray-100 dark:hover:bg-gray-800",t?"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"text-gray-700 dark:text-gray-300"),children:[a.jsx(s,{className:"h-5 w-5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:e.name}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.description})]}),t&&a.jsx(R.Z,{className:"h-4 w-4 flex-shrink-0"})]},e.name)}))})}),a.jsx("div",{className:"border-t px-4 py-4 dark:border-gray-800",children:(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx(p.z,{variant:"outline",className:"w-full justify-start",onClick:u,children:l?(0,a.jsxs)(a.Fragment,{children:[a.jsx(m,{className:"mr-2 h-4 w-4"}),"Light Mode"]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(x,{className:"mr-2 h-4 w-4"}),"Dark Mode"]})}),s&&(0,a.jsxs)(p.z,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",onClick:s,children:[a.jsx(U,{className:"mr-2 h-4 w-4"}),"Sign Out"]})]})})]})})]})}),a.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-30 flex h-16 items-center justify-around border-t bg-white px-2 dark:bg-gray-900 dark:border-gray-800 sm:hidden",children:z.slice(0,5).map((e=>{const s=e.icon,t=o===e.href;return(0,a.jsxs)(N(),{href:e.href,className:(0,c.cn)("flex flex-col items-center justify-center gap-1 p-2 rounded-lg transition-colors","hover:bg-gray-100 dark:hover:bg-gray-800",t?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"),children:[a.jsx(s,{className:"h-5 w-5"}),a.jsx("span",{className:"text-xs font-medium",children:e.name})]},e.name)}))})]})}function P({user:e,collapsed:s=!1,onCollapse:t}){const i=(0,r.usePathname)();return(0,a.jsxs)("aside",{className:(0,c.cn)("hidden lg:flex lg:flex-col","fixed inset-y-0 left-0 z-30","border-r bg-white dark:bg-gray-900 dark:border-gray-800","transition-all duration-300",s?"w-16":"w-64"),children:[(0,a.jsxs)("div",{className:"flex h-16 items-center gap-4 border-b px-4 dark:border-gray-800",children:[(0,a.jsxs)(N(),{href:"/",className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0",children:a.jsx("span",{className:"text-white font-bold text-sm",children:"N"})}),!s&&a.jsx("span",{className:"font-semibold text-lg",children:"NovaCron"})]}),a.jsx(p.z,{variant:"ghost",size:"icon",onClick:()=>t?.(!s),className:"ml-auto","aria-label":"Toggle sidebar",children:a.jsx(T.Z,{className:"h-4 w-4"})})]}),a.jsx("nav",{className:"flex-1 overflow-y-auto px-2 py-4",children:a.jsx("div",{className:"space-y-1",children:z.map((e=>{const t=e.icon,r=i===e.href;return(0,a.jsxs)(N(),{href:e.href,className:(0,c.cn)("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-all","hover:bg-gray-100 dark:hover:bg-gray-800",r?"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400":"text-gray-700 dark:text-gray-300",s&&"justify-center px-2"),title:s?e.name:void 0,children:[a.jsx(t,{className:"h-5 w-5 flex-shrink-0"}),!s&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"flex-1 font-medium",children:e.name}),r&&a.jsx(R.Z,{className:"h-4 w-4 flex-shrink-0"})]})]},e.name)}))})}),e&&!s&&a.jsx("div",{className:"border-t px-4 py-4 dark:border-gray-800",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-semibold text-sm",children:e.name.charAt(0).toUpperCase()}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:e.name}),a.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.email})]})]})})]})}var O=t(17133);function D({tabs:e,defaultTab:s,className:t,onTabChange:r}){const[n,l]=(0,i.useState)(s||e[0]?.id),[d,o]=(0,i.useState)(new Set([n])),[m,x]=(0,i.useState)({}),u=e.find((e=>e.id===n));return(0,a.jsxs)("div",{className:t,children:[a.jsx("div",{className:"flex gap-1 p-1 bg-gray-100 dark:bg-gray-800 rounded-lg",children:e.map((s=>(0,a.jsxs)("button",{onClick:()=>(async s=>{if(l(s),r?.(s),!d.has(s)){const t=e.find((e=>e.id===s));if(t&&"function"===typeof t.content){const e=await t.content();x((t=>({...t,[s]:e})))}o((e=>new Set([...e,s])))}})(s.id),className:(0,c.cn)("flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md transition-colors","focus:outline-none focus:ring-2 focus:ring-blue-500",n===s.id?"bg-white dark:bg-gray-700 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-700"),children:[s.icon,a.jsx("span",{className:"font-medium",children:s.label}),s.badge&&a.jsx(O.C,{variant:"secondary",className:"ml-1",children:s.badge})]},s.id)))}),a.jsx("div",{className:"mt-4",children:a.jsx(j.M,{mode:"wait",children:a.jsx(y.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:u&&("function"===typeof u.content?m[n]||a.jsx("div",{children:"Loading..."}):u.content)},n)})})]})}var I=t(20644),q=t(80087);function $(){return(0,a.jsxs)("div",{className:"space-y-6 animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Array.from({length:6}).map(((e,s)=>a.jsx("div",{className:"h-32 bg-gray-200 rounded"},s)))}),a.jsx("div",{className:"h-64 bg-gray-200 rounded"})]})}function V({isRefreshing:e=!1,size:s=16}){return a.jsx(I.Z,{className:"h-4 w-4 "+(e?"animate-spin":"")})}function F({state:e="loading",size:s="default"}){const t=(()=>{switch(s){case"small":return"h-4 w-4";case"large":return"h-8 w-8";default:return"h-6 w-6"}})();switch(e){case"loading":return a.jsx(q.Z,{className:`${t} animate-spin`});case"success":return a.jsx("div",{className:`${t} text-green-500 flex items-center justify-center`,children:"\u2713"});case"error":return a.jsx("div",{className:`${t} text-red-500 flex items-center justify-center`,children:"\u2717"});default:return null}}var Q=t(5171);const B=(0,o.Z)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);var Y=t(39546),W=t(94409),K=t(3514),G=t(97040),J=t(96589),H=t(7950),X=t(57505),ee=t(58013),se=t(85574),te=t(6315),ae=t(22385),ie=t(69518),re=t(52995),ne=t(24149),le=t(26303);const ce=[{name:"users",rows:1247,size:"24.3 MB",description:"User accounts and profiles"},{name:"organizations",rows:89,size:"2.1 MB",description:"Organization entities"},{name:"vms",rows:2341,size:"45.7 MB",description:"Virtual machine configurations"},{name:"schedules",rows:5432,size:"12.8 MB",description:"Scheduled job definitions"},{name:"migrations",rows:876,size:"156.2 MB",description:"VM migration history"},{name:"audit_logs",rows:98765,size:"234.5 MB",description:"System audit trail"},{name:"sessions",rows:456,size:"3.4 MB",description:"User session data"},{name:"configurations",rows:123,size:"890 KB",description:"System configuration settings"}],de=[{id:1,email:"john@example.com",name:"John Doe",role:"user",status:"active",created_at:"2024-01-15",last_login:"2024-08-20"},{id:2,email:"admin@novacron.io",name:"System Admin",role:"admin",status:"active",created_at:"2024-01-01",last_login:"2024-08-24"},{id:3,email:"jane@company.com",name:"Jane Smith",role:"moderator",status:"suspended",created_at:"2024-02-10",last_login:"2024-08-18"}];function oe(){const[e,s]=(0,i.useState)("users"),[t,r]=(0,i.useState)(de),[n,l]=(0,i.useState)(""),[d,o]=(0,i.useState)(null),[m,x]=(0,i.useState)(!1),[u,h]=(0,i.useState)(!1),g=t.filter((e=>Object.values(e).some((e=>String(e).toLowerCase().includes(n.toLowerCase()))))),j=e=>{switch(e){case"active":return"bg-green-500";case"suspended":return"bg-red-500";case"pending":return"bg-yellow-500";default:return"bg-gray-500"}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(S.Z,{className:"h-6 w-6"}),"Database Editor"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Direct database table management with CRUD operations"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(p.z,{variant:"outline",size:"sm",children:[a.jsx(se.Z,{className:"h-4 w-4 mr-2"}),"Export"]}),(0,a.jsxs)(p.z,{variant:"outline",size:"sm",children:[a.jsx(te.Z,{className:"h-4 w-4 mr-2"}),"Import"]})]})]}),a.jsx(G.Zb,{className:"border-orange-200 bg-orange-50 dark:border-orange-800 dark:bg-orange-950",children:a.jsx(G.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-orange-800 dark:text-orange-200",children:[a.jsx(W.Z,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:"Warning: Direct database editing can affect system integrity. Use with caution."})]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"lg:col-span-1",children:(0,a.jsxs)(G.Zb,{children:[(0,a.jsxs)(G.Ol,{children:[a.jsx(G.ll,{className:"text-lg",children:"Database Tables"}),a.jsx(G.SZ,{children:"Select a table to view and edit"})]}),a.jsx(G.aY,{className:"p-0",children:a.jsx("div",{className:"space-y-1",children:ce.map((t=>(0,a.jsxs)("button",{onClick:()=>s(t.name),className:(0,c.cn)("w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",e===t.name&&"bg-blue-50 dark:bg-blue-950 border-r-2 border-blue-500"),children:[a.jsx("div",{className:"font-medium",children:t.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.rows.toLocaleString()," rows \u2022 ",t.size]})]},t.name)))})})]})}),(0,a.jsxs)("div",{className:"lg:col-span-3 space-y-4",children:[(0,a.jsxs)(G.Zb,{children:[a.jsx(G.Ol,{className:"pb-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(G.ll,{className:"capitalize",children:[e," Table"]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(p.z,{onClick:()=>{o({id:null,data:{email:"",name:"",role:"user",status:"active",created_at:(new Date).toISOString().split("T")[0],last_login:""}})},disabled:!!d,size:"sm",children:[a.jsx(ae.Z,{className:"h-4 w-4 mr-2"}),"Add New"]}),(0,a.jsxs)(p.z,{variant:"outline",size:"sm",children:[a.jsx(I.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]})}),(0,a.jsxs)(G.aY,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[a.jsx(ie.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(X.I,{placeholder:"Search records...",value:n,onChange:e=>l(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(O.C,{variant:"outline",children:[g.length," records"]})]}),a.jsx("div",{className:"border rounded-md",children:(0,a.jsxs)(J.iA,{children:[a.jsx(J.xD,{children:(0,a.jsxs)(J.SC,{children:[a.jsx(J.ss,{children:"ID"}),a.jsx(J.ss,{children:"Email"}),a.jsx(J.ss,{children:"Name"}),a.jsx(J.ss,{children:"Role"}),a.jsx(J.ss,{children:"Status"}),a.jsx(J.ss,{children:"Created"}),a.jsx(J.ss,{children:"Last Login"}),a.jsx(J.ss,{children:"Actions"})]})}),(0,a.jsxs)(J.RM,{children:[d&&(0,a.jsxs)(J.SC,{className:"bg-blue-50 dark:bg-blue-950",children:[a.jsx(J.pj,{children:d.id||"New"}),a.jsx(J.pj,{children:a.jsx(X.I,{value:d.data.email,onChange:e=>o((s=>s&&{...s,data:{...s.data,email:e.target.value}})),className:"h-8"})}),a.jsx(J.pj,{children:a.jsx(X.I,{value:d.data.name,onChange:e=>o((s=>s&&{...s,data:{...s.data,name:e.target.value}})),className:"h-8"})}),a.jsx(J.pj,{children:(0,a.jsxs)(H.Ph,{value:d.data.role,onValueChange:e=>o((s=>s&&{...s,data:{...s.data,role:e}})),children:[a.jsx(H.i4,{className:"h-8",children:a.jsx(H.ki,{})}),(0,a.jsxs)(H.Bw,{children:[a.jsx(H.Ql,{value:"user",children:"User"}),a.jsx(H.Ql,{value:"moderator",children:"Moderator"}),a.jsx(H.Ql,{value:"admin",children:"Admin"})]})]})}),a.jsx(J.pj,{children:(0,a.jsxs)(H.Ph,{value:d.data.status,onValueChange:e=>o((s=>s&&{...s,data:{...s.data,status:e}})),children:[a.jsx(H.i4,{className:"h-8",children:a.jsx(H.ki,{})}),(0,a.jsxs)(H.Bw,{children:[a.jsx(H.Ql,{value:"active",children:"Active"}),a.jsx(H.Ql,{value:"suspended",children:"Suspended"}),a.jsx(H.Ql,{value:"pending",children:"Pending"})]})]})}),a.jsx(J.pj,{children:a.jsx(X.I,{type:"date",value:d.data.created_at,onChange:e=>o((s=>s&&{...s,data:{...s.data,created_at:e.target.value}})),className:"h-8"})}),a.jsx(J.pj,{children:a.jsx(X.I,{type:"date",value:d.data.last_login,onChange:e=>o((s=>s&&{...s,data:{...s.data,last_login:e.target.value}})),className:"h-8"})}),a.jsx(J.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(p.z,{size:"sm",onClick:async()=>{if(d){if(h(!0),await new Promise((e=>setTimeout(e,1e3))),d.id)r((e=>e.map((e=>e.id===d.id?{...d.data}:e))));else{const e=Math.max(...t.map((e=>e.id)))+1;r((s=>[...s,{...d.data,id:e}]))}o(null),h(!1)}},disabled:u,children:a.jsx(re.Z,{className:"h-3 w-3"})}),a.jsx(p.z,{size:"sm",variant:"outline",onClick:()=>{o(null)},children:a.jsx(E.Z,{className:"h-3 w-3"})})]})})]}),g.map((e=>(0,a.jsxs)(J.SC,{children:[a.jsx(J.pj,{className:"font-medium",children:e.id}),a.jsx(J.pj,{children:e.email}),a.jsx(J.pj,{children:e.name}),a.jsx(J.pj,{children:a.jsx(O.C,{variant:"outline",className:"capitalize",children:e.role})}),a.jsx(J.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:(0,c.cn)("h-2 w-2 rounded-full",j(e.status))}),a.jsx("span",{className:"capitalize",children:e.status})]})}),a.jsx(J.pj,{children:e.created_at}),a.jsx(J.pj,{children:e.last_login||"Never"}),a.jsx(J.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(p.z,{size:"sm",variant:"ghost",onClick:()=>(e=>{o({id:e.id,data:{...e}})})(e),disabled:!!d,children:a.jsx(ne.Z,{className:"h-3 w-3"})}),a.jsx(p.z,{size:"sm",variant:"ghost",onClick:()=>(async e=>{confirm("Are you sure you want to delete this record? This action cannot be undone.")&&(h(!0),await new Promise((e=>setTimeout(e,1e3))),r((s=>s.filter((s=>s.id!==e)))),h(!1))})(e.id),disabled:!!d||u,className:"text-red-600 hover:text-red-700",children:a.jsx(le.Z,{className:"h-3 w-3"})})]})})]},e.id)))]})]})})]})]}),(0,a.jsxs)(G.Zb,{className:"border-red-200",children:[(0,a.jsxs)(G.Ol,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-red-600",children:[a.jsx(W.Z,{className:"h-5 w-5"}),a.jsx(G.ll,{children:"Danger Zone"})]}),a.jsx(ee.r,{checked:m,onCheckedChange:x})]}),a.jsx(G.SZ,{children:"Destructive actions that cannot be undone"})]}),m&&a.jsx(G.aY,{children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(p.z,{variant:"destructive",size:"sm",children:[a.jsx(le.Z,{className:"h-4 w-4 mr-2"}),"Truncate Table"]}),(0,a.jsxs)(p.z,{variant:"destructive",size:"sm",children:[a.jsx(le.Z,{className:"h-4 w-4 mr-2"}),"Drop Table"]}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"These actions require additional confirmation"})]})})]})]})]})]})}var me=t(92032),xe=t(95866),ue=t(15441),he=t(51831),pe=t(97018),ge=t(59490),je=t(22388);const ye=[{id:1,name:"John Doe",email:"john@example.com",role:"user",status:"active",created_at:"2024-01-15T10:30:00Z",last_login:"2024-08-23T14:22:00Z",login_count:45,organization:"ACME Corp",two_factor:!0,email_verified:!0},{id:2,name:"Jane Smith",email:"jane@company.com",role:"moderator",status:"suspended",created_at:"2024-02-10T09:15:00Z",last_login:"2024-08-18T16:45:00Z",login_count:123,organization:"Tech Solutions",two_factor:!1,email_verified:!0},{id:3,name:"Bob Wilson",email:"bob@startup.io",role:"admin",status:"active",created_at:"2024-01-01T08:00:00Z",last_login:"2024-08-24T12:10:00Z",login_count:289,organization:"Startup Inc",two_factor:!0,email_verified:!0},{id:4,name:"Alice Johnson",email:"alice.johnson@email.com",role:"user",status:"pending",created_at:"2024-08-20T13:45:00Z",last_login:null,login_count:0,organization:"New Company",two_factor:!1,email_verified:!1}],fe={total:1247,active:892,suspended:23,pending:45,admins:12,moderators:34,twoFactorEnabled:756};function ve(){const[e,s]=(0,i.useState)(ye),[t,r]=(0,i.useState)(""),[n,l]=(0,i.useState)("all"),[c,d]=(0,i.useState)("all"),[o,m]=(0,i.useState)(null),[x,u]=(0,i.useState)(!1),[h,g]=(0,i.useState)(!1),j=e.filter((e=>{const s=e.name.toLowerCase().includes(t.toLowerCase())||e.email.toLowerCase().includes(t.toLowerCase())||e.organization.toLowerCase().includes(t.toLowerCase()),a="all"===n||e.status===n,i="all"===c||e.role===c;return s&&a&&i})),y=async(e,t)=>{g(!0),await new Promise((e=>setTimeout(e,1e3))),s((s=>s.map((s=>{if(s.id===e)switch(t){case"activate":return{...s,status:"active"};case"suspend":return{...s,status:"suspended"};case"approve":return{...s,status:"active",email_verified:!0};default:return s}return s})))),g(!1)},f=e=>{switch(e){case"active":return a.jsx(me.Z,{className:"h-4 w-4 text-green-600"});case"suspended":return a.jsx(xe.Z,{className:"h-4 w-4 text-red-600"});case"pending":return a.jsx(ue.Z,{className:"h-4 w-4 text-yellow-600"});default:return a.jsx(he.Z,{className:"h-4 w-4 text-gray-600"})}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(M.Z,{className:"h-6 w-6"}),"User Management"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage user accounts, roles, and permissions"})]}),(0,a.jsxs)(p.z,{children:[a.jsx(pe.Z,{className:"h-4 w-4 mr-2"}),"Add User"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Q.Uo,{delay:.1,children:a.jsx(G.Zb,{children:a.jsx(G.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Users"}),a.jsx("p",{className:"text-2xl font-bold",children:fe.total.toLocaleString()})]}),a.jsx(M.Z,{className:"h-8 w-8 text-blue-600"})]})})})}),a.jsx(Q.Uo,{delay:.2,children:a.jsx(G.Zb,{children:a.jsx(G.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Users"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:fe.active})]}),a.jsx(me.Z,{className:"h-8 w-8 text-green-600"})]})})})}),a.jsx(Q.Uo,{delay:.3,children:a.jsx(G.Zb,{children:a.jsx(G.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pending Approval"}),a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:fe.pending})]}),a.jsx(ue.Z,{className:"h-8 w-8 text-yellow-600"})]})})})}),a.jsx(Q.Uo,{delay:.4,children:a.jsx(G.Zb,{children:a.jsx(G.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"2FA Enabled"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:fe.twoFactorEnabled})]}),a.jsx(Z.Z,{className:"h-8 w-8 text-purple-600"})]})})})})]}),a.jsx(G.Zb,{children:a.jsx(G.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[a.jsx(ie.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(X.I,{placeholder:"Search users by name, email, or organization...",value:t,onChange:e=>r(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(H.Ph,{value:n,onValueChange:l,children:[a.jsx(H.i4,{className:"w-[180px]",children:a.jsx(H.ki,{placeholder:"Filter by status"})}),(0,a.jsxs)(H.Bw,{children:[a.jsx(H.Ql,{value:"all",children:"All Statuses"}),a.jsx(H.Ql,{value:"active",children:"Active"}),a.jsx(H.Ql,{value:"suspended",children:"Suspended"}),a.jsx(H.Ql,{value:"pending",children:"Pending"})]})]}),(0,a.jsxs)(H.Ph,{value:c,onValueChange:d,children:[a.jsx(H.i4,{className:"w-[180px]",children:a.jsx(H.ki,{placeholder:"Filter by role"})}),(0,a.jsxs)(H.Bw,{children:[a.jsx(H.Ql,{value:"all",children:"All Roles"}),a.jsx(H.Ql,{value:"admin",children:"Admin"}),a.jsx(H.Ql,{value:"moderator",children:"Moderator"}),a.jsx(H.Ql,{value:"user",children:"User"})]})]})]})})}),a.jsx(Q.Uo,{delay:.5,children:(0,a.jsxs)(G.Zb,{children:[(0,a.jsxs)(G.Ol,{children:[(0,a.jsxs)(G.ll,{children:["Users (",j.length,")"]}),a.jsx(G.SZ,{children:"Manage user accounts and their permissions"})]}),a.jsx(G.aY,{children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)(J.iA,{children:[a.jsx(J.xD,{children:(0,a.jsxs)(J.SC,{children:[a.jsx(J.ss,{children:"User"}),a.jsx(J.ss,{children:"Organization"}),a.jsx(J.ss,{children:"Role"}),a.jsx(J.ss,{children:"Status"}),a.jsx(J.ss,{children:"Last Login"}),a.jsx(J.ss,{children:"Security"}),a.jsx(J.ss,{children:"Actions"})]})}),a.jsx(J.RM,{children:j.map((e=>{return(0,a.jsxs)(J.SC,{children:[a.jsx(J.pj,{children:(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"font-medium",children:e.name}),a.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.email})]})}),a.jsx(J.pj,{children:e.organization}),a.jsx(J.pj,{children:a.jsx(O.C,{variant:"admin"===e.role?"destructive":"moderator"===e.role?"secondary":"outline",className:"capitalize",children:e.role})}),a.jsx(J.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[f(e.status),a.jsx("span",{className:"capitalize",children:e.status})]})}),a.jsx(J.pj,{children:(0,a.jsxs)("div",{className:"text-sm",children:[(s=e.last_login,s?new Date(s).toLocaleDateString()+" "+new Date(s).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Never"),(0,a.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:[e.login_count," total logins"]})]})}),a.jsx(J.pj,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(ge.Z,{className:"h-3 w-3"}),a.jsx("span",{className:e.email_verified?"text-green-600":"text-red-600",children:e.email_verified?"Verified":"Unverified"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-sm",children:[a.jsx(Z.Z,{className:"h-3 w-3"}),a.jsx("span",{className:e.two_factor?"text-green-600":"text-gray-600",children:e.two_factor?"2FA On":"2FA Off"})]})]})}),a.jsx(J.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:["pending"===e.status&&a.jsx(p.z,{size:"sm",onClick:()=>y(e.id,"approve"),disabled:h,className:"text-xs px-2 h-7",children:"Approve"}),"active"===e.status&&a.jsx(p.z,{size:"sm",variant:"outline",onClick:()=>y(e.id,"suspend"),disabled:h,className:"text-xs px-2 h-7",children:"Suspend"}),"suspended"===e.status&&a.jsx(p.z,{size:"sm",variant:"outline",onClick:()=>y(e.id,"activate"),disabled:h,className:"text-xs px-2 h-7",children:"Activate"}),a.jsx(p.z,{size:"sm",variant:"ghost",onClick:()=>m(e),className:"h-7 w-7 p-0",children:a.jsx(je.Z,{className:"h-3 w-3"})}),a.jsx(p.z,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0",children:a.jsx(ne.Z,{className:"h-3 w-3"})})]})})]},e.id);var s}))})]})})})]})}),(0,a.jsxs)(G.Zb,{children:[(0,a.jsxs)(G.Ol,{children:[a.jsx(G.ll,{children:"Bulk Actions"}),a.jsx(G.SZ,{children:"Perform actions on multiple users at once"})]}),a.jsx(G.aY,{children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsxs)(p.z,{variant:"outline",size:"sm",children:[a.jsx(ge.Z,{className:"h-4 w-4 mr-2"}),"Send Welcome Email"]}),(0,a.jsxs)(p.z,{variant:"outline",size:"sm",children:[a.jsx(Z.Z,{className:"h-4 w-4 mr-2"}),"Enable 2FA Reminder"]}),(0,a.jsxs)(p.z,{variant:"outline",size:"sm",children:[a.jsx(B,{className:"h-4 w-4 mr-2"}),"Bulk Role Assignment"]}),(0,a.jsxs)(p.z,{variant:"outline",size:"sm",className:"text-red-600",children:[a.jsx(xe.Z,{className:"h-4 w-4 mr-2"}),"Bulk Suspension"]})]})})]})]})}var Ne=t(64536),be=t(57550),we=t(71063);const ke=[{id:"general",title:"General Settings",description:"Basic system configuration and preferences",icon:a.jsx(A.Z,{className:"h-5 w-5"}),settings:[{key:"system_name",label:"System Name",description:"Display name for the NovaCron system",type:"string",value:"NovaCron Production"},{key:"maintenance_mode",label:"Maintenance Mode",description:"Enable maintenance mode to restrict access",type:"boolean",value:!1},{key:"debug_mode",label:"Debug Mode",description:"Enable debug logging and error details",type:"boolean",value:!1},{key:"session_timeout",label:"Session Timeout",description:"User session timeout in minutes",type:"slider",value:[30],min:5,max:480,unit:"minutes"},{key:"timezone",label:"System Timezone",description:"Default timezone for the system",type:"select",value:"UTC",options:[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"Eastern Time"},{value:"America/Chicago",label:"Central Time"},{value:"America/Denver",label:"Mountain Time"},{value:"America/Los_Angeles",label:"Pacific Time"},{value:"Europe/London",label:"London"},{value:"Europe/Paris",label:"Paris"},{value:"Asia/Tokyo",label:"Tokyo"}]}]},{id:"security",title:"Security Settings",description:"Authentication, authorization, and security policies",icon:a.jsx(Z.Z,{className:"h-5 w-5"}),settings:[{key:"require_2fa",label:"Require Two-Factor Authentication",description:"Force all users to enable 2FA",type:"boolean",value:!0},{key:"password_min_length",label:"Minimum Password Length",description:"Minimum required password length",type:"slider",value:[8],min:6,max:32,unit:"characters"},{key:"login_attempts",label:"Max Login Attempts",description:"Maximum failed login attempts before lockout",type:"slider",value:[5],min:3,max:10,unit:"attempts"},{key:"jwt_secret",label:"JWT Secret Key",description:"Secret key for JWT token signing",type:"string",value:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",sensitive:!0},{key:"api_rate_limit",label:"API Rate Limit",description:"Requests per minute per user",type:"slider",value:[1e3],min:100,max:1e4,unit:"req/min"}]},{id:"database",title:"Database Settings",description:"Database connection and performance configuration",icon:a.jsx(S.Z,{className:"h-5 w-5"}),settings:[{key:"db_pool_size",label:"Connection Pool Size",description:"Maximum database connections",type:"slider",value:[50],min:10,max:200,unit:"connections"},{key:"query_timeout",label:"Query Timeout",description:"Maximum query execution time",type:"slider",value:[30],min:5,max:300,unit:"seconds"},{key:"enable_query_logging",label:"Query Logging",description:"Log all database queries for debugging",type:"boolean",value:!1},{key:"backup_retention",label:"Backup Retention",description:"Number of days to keep backups",type:"slider",value:[30],min:7,max:365,unit:"days"}]},{id:"vm",title:"VM Management",description:"Virtual machine and resource management settings",icon:a.jsx(w.Z,{className:"h-5 w-5"}),settings:[{key:"max_concurrent_migrations",label:"Max Concurrent Migrations",description:"Maximum number of simultaneous VM migrations",type:"slider",value:[3],min:1,max:10,unit:"migrations"},{key:"migration_bandwidth_limit",label:"Migration Bandwidth Limit",description:"Bandwidth limit for VM migrations",type:"slider",value:[1e3],min:100,max:1e4,unit:"MB/s"},{key:"vm_snapshot_retention",label:"Snapshot Retention",description:"Number of VM snapshots to retain",type:"slider",value:[10],min:3,max:50,unit:"snapshots"},{key:"auto_scaling_enabled",label:"Auto Scaling",description:"Automatically scale resources based on demand",type:"boolean",value:!0}]},{id:"notifications",title:"Notifications",description:"Email and alert notification settings",icon:a.jsx(K.Z,{className:"h-5 w-5"}),settings:[{key:"smtp_server",label:"SMTP Server",description:"Email server hostname",type:"string",value:"smtp.novacron.io"},{key:"smtp_port",label:"SMTP Port",description:"Email server port",type:"number",value:587},{key:"email_notifications",label:"Email Notifications",description:"Send email notifications for system events",type:"boolean",value:!0},{key:"notification_frequency",label:"Notification Frequency",description:"How often to send digest notifications",type:"select",value:"daily",options:[{value:"immediate",label:"Immediate"},{value:"hourly",label:"Hourly"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"}]}]}];function Se(){const[e,s]=(0,i.useState)((()=>{const e={};return ke.forEach((s=>{s.settings.forEach((s=>{e[s.key]=s.value}))})),e})),[t,r]=(0,i.useState)("general"),[n,l]=(0,i.useState)(!1),[d,o]=(0,i.useState)(!1),m=(e,t)=>{s((s=>({...s,[e]:t}))),l(!0)},x=s=>{const t=e[s.key];switch(s.type){case"boolean":return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("label",{className:"text-sm font-medium",children:s.label}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:s.description})]}),a.jsx(ee.r,{checked:t,onCheckedChange:e=>m(s.key,e)})]});case"string":return(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:s.label}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 mb-2",children:s.description}),a.jsx(X.I,{type:s.sensitive?"password":"text",value:t,onChange:e=>m(s.key,e.target.value),className:"w-full"})]});case"number":return(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:s.label}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 mb-2",children:s.description}),a.jsx(X.I,{type:"number",value:t,onChange:e=>m(s.key,parseInt(e.target.value)),className:"w-full",min:s.min,max:s.max})]});case"slider":return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[a.jsx("label",{className:"text-sm font-medium",children:s.label}),(0,a.jsxs)(O.C,{variant:"outline",children:[Array.isArray(t)?t[0]:t," ",s.unit]})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:s.description}),a.jsx(Ne.i,{value:Array.isArray(t)?t:[t],onValueChange:e=>m(s.key,e),min:s.min,max:s.max,step:1,className:"w-full"})]});case"select":return(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:s.label}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 mb-2",children:s.description}),(0,a.jsxs)(H.Ph,{value:t,onValueChange:e=>m(s.key,e),children:[a.jsx(H.i4,{children:a.jsx(H.ki,{})}),a.jsx(H.Bw,{children:s.options?.map((e=>a.jsx(H.Ql,{value:e.value,children:e.label},e.value)))})]})]});case"textarea":return(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:s.label}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1 mb-2",children:s.description}),a.jsx(be.g,{value:t,onChange:e=>m(s.key,e.target.value),className:"w-full",rows:3})]});default:return null}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(A.Z,{className:"h-6 w-6"}),"System Configuration"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage system settings and preferences"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[n&&(0,a.jsxs)(O.C,{variant:"secondary",children:[a.jsx(W.Z,{className:"h-3 w-3 mr-1"}),"Unsaved Changes"]}),(0,a.jsxs)(p.z,{variant:"outline",onClick:()=>{const e={};ke.forEach((s=>{s.settings.forEach((s=>{e[s.key]=s.value}))})),s(e),l(!1)},disabled:!n||d,children:[a.jsx(we.Z,{className:"h-4 w-4 mr-2"}),"Reset"]}),(0,a.jsxs)(p.z,{onClick:async()=>{o(!0),await new Promise((e=>setTimeout(e,2e3))),l(!1),o(!1)},disabled:!n||d,children:[a.jsx(re.Z,{className:"h-4 w-4 mr-2"}),d?"Saving...":"Save Changes"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a.jsx("div",{className:"lg:col-span-1",children:(0,a.jsxs)(G.Zb,{children:[a.jsx(G.Ol,{children:a.jsx(G.ll,{className:"text-lg",children:"Settings Categories"})}),a.jsx(G.aY,{className:"p-0",children:a.jsx("div",{className:"space-y-1",children:ke.map((e=>(0,a.jsxs)("button",{onClick:()=>r(e.id),className:(0,c.cn)("w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors flex items-center gap-3",t===e.id&&"bg-blue-50 dark:bg-blue-950 border-r-2 border-blue-500"),children:[e.icon,(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-medium",children:e.title}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.description})]})]},e.id)))})})]})}),(0,a.jsxs)("div",{className:"lg:col-span-3",children:[ke.filter((e=>e.id===t)).map((e=>a.jsx(Q.Uo,{children:(0,a.jsxs)(G.Zb,{children:[(0,a.jsxs)(G.Ol,{children:[(0,a.jsxs)(G.ll,{className:"flex items-center gap-2",children:[e.icon,e.title]}),a.jsx(G.SZ,{children:e.description})]}),a.jsx(G.aY,{className:"space-y-6",children:e.settings.map((e=>a.jsx("div",{className:"p-4 border rounded-lg",children:x(e)},e.key)))})]})},e.id))),(0,a.jsxs)(G.Zb,{className:"mt-6",children:[(0,a.jsxs)(G.Ol,{children:[(0,a.jsxs)(G.ll,{className:"flex items-center gap-2",children:[a.jsx(Y.Z,{className:"h-5 w-5"}),"Configuration Management"]}),a.jsx(G.SZ,{children:"Export or import system configuration"})]}),a.jsx(G.aY,{children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)(p.z,{variant:"outline",children:[a.jsx(te.Z,{className:"h-4 w-4 mr-2"}),"Export Config"]}),(0,a.jsxs)(p.z,{variant:"outline",children:[a.jsx(te.Z,{className:"h-4 w-4 mr-2"}),"Import Config"]})]})})]})]})]})]})}var Ce=t(91904),Ze=t(63712),_e=t(86847),Me=t(81057),Ae=t(93680),Ee=t(86078),Te=t(55642);function Re(){const[e,s]=(0,i.useState)("overview"),[t,r]=(0,i.useState)(null),[n,l]=(0,i.useState)(!0),[d,o]=(0,i.useState)(null),[m,x]=(0,i.useState)({threatLevel:"low",totalAlerts:0,activeThreats:0,blockedAttacks:0,securityScore:100,vulnerabilities:{critical:0,high:0,medium:0,low:0}}),[h,g]=(0,i.useState)([]),[j,y]=(0,i.useState)([]),[f,v]=(0,i.useState)([]),{data:N,isConnected:b}=(0,Ze.sO)("/api/security/events/stream"),w=async()=>{try{l(!0),o(null);const[e,s,t,a,i]=await Promise.all([Ce.x1.get("/api/security/threats"),Ce.x1.get("/api/security/vulnerabilities"),Ce.x1.get("/api/security/compliance"),Ce.x1.get("/api/security/incidents"),Ce.x1.get("/api/security/audit/statistics")]),{threats:r=[]}=e.data||{},{vulnerabilities:n=[],summary:c={}}=s.data||{},d=t.data||{},{incidents:m=[]}=a.data||{},u=i.data||{};x({threatLevel:r.length>10?"high":r.length>5?"medium":"low",totalAlerts:r.length+m.length,activeThreats:r.filter((e=>"active"===e.status)).length,blockedAttacks:r.filter((e=>"blocked"===e.status)).length,securityScore:d.score||u.overallScore||85,vulnerabilities:{critical:c.critical||n.filter((e=>"critical"===e.severity)).length,high:c.high||n.filter((e=>"high"===e.severity)).length,medium:c.medium||n.filter((e=>"medium"===e.severity)).length,low:c.low||n.filter((e=>"low"===e.severity)).length}}),g([...r,...m].slice(0,10));const[h]=await Promise.all([Ce.x1.get("/api/security/events")]),{events:p=[]}=h.data||{},j=p.filter((e=>"session"===e.type||"login"===e.type));y(j.map((e=>({id:e.id,user:e.user||e.actor||"Unknown",ip:e.source_ip||e.ip||"Unknown",location:e.location||"Unknown",device:e.user_agent||e.device||"Unknown",started:e.timestamp||(new Date).toISOString(),lastActivity:e.timestamp||(new Date).toISOString(),risk:e.risk_level||"low"}))).slice(0,10));const f=[...r,...m].filter((e=>"blocked"===e.status));v(f.map((e=>({ip:e.source_ip||e.source||"Unknown",reason:e.description||e.title||"Security violation",blockedAt:e.timestamp||(new Date).toISOString(),attempts:e.attempt_count||1,status:e.block_type||"temporary"}))).slice(0,10))}catch(e){console.error("Failed to fetch security data:",e),o("Failed to load security data"),y([]),v([])}finally{l(!1)}};(0,i.useEffect)((()=>{w()}),[]),(0,i.useEffect)((()=>{if(N)if(void 0!==N.threats||void 0!==N.incidents)w();else if(N.type&&("threat_detected"===N.type&&(x((e=>({...e,totalAlerts:e.totalAlerts+1,activeThreats:e.activeThreats+1}))),g((e=>[N,...e].slice(0,10)))),"threat_resolved"===N.type&&x((e=>({...e,activeThreats:Math.max(0,e.activeThreats-1),blockedAttacks:e.blockedAttacks+1}))),"vulnerability_found"===N.type)){const e=N.severity||"medium";x((s=>({...s,vulnerabilities:{...s.vulnerabilities,[e]:(s.vulnerabilities[e]||0)+1}})))}}),[N]);const S=e=>{switch(e){case"critical":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";case"low":return"bg-blue-500";default:return"bg-gray-500"}},C=e=>{switch(e){case"critical":case"high":return"destructive";case"medium":return"secondary";default:return"outline"}},_=e=>{switch(e){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},M=e=>{const s=new Date,t=new Date(e),a=Math.floor((s.getTime()-t.getTime())/1e3/60);return a<60?`${a}m ago`:a<1440?`${Math.floor(a/60)}h ago`:`${Math.floor(a/1440)}d ago`};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(Z.Z,{className:"h-6 w-6"}),"Security Dashboard"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Monitor security events, threats, and system protection"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(O.C,{variant:"high"===m.threatLevel?"destructive":"secondary",className:"capitalize",children:[m.threatLevel," Threat Level"]}),(0,a.jsxs)(p.z,{variant:"outline",children:[a.jsx(Y.Z,{className:"h-4 w-4 mr-2"}),"Security Report"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Q.Uo,{delay:.1,children:a.jsx(G.Zb,{children:(0,a.jsxs)(G.aY,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Security Score"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:[m.securityScore,"%"]})]}),a.jsx(Z.Z,{className:"h-8 w-8 text-green-600"})]}),a.jsx(_e.E,{value:m.securityScore,className:"mt-3"})]})})}),a.jsx(Q.Uo,{delay:.2,children:a.jsx(G.Zb,{children:a.jsx(G.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Threats"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:m.activeThreats})]}),a.jsx(W.Z,{className:"h-8 w-8 text-red-600"})]})})})}),a.jsx(Q.Uo,{delay:.3,children:a.jsx(G.Zb,{children:a.jsx(G.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Blocked Attacks"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:m.blockedAttacks})]}),a.jsx(xe.Z,{className:"h-8 w-8 text-blue-600"})]})})})}),a.jsx(Q.Uo,{delay:.4,children:a.jsx(G.Zb,{children:a.jsx(G.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Alerts"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:m.totalAlerts})]}),a.jsx(k.Z,{className:"h-8 w-8 text-orange-600"})]})})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(Q.Uo,{delay:.5,children:(0,a.jsxs)(G.Zb,{children:[(0,a.jsxs)(G.Ol,{children:[(0,a.jsxs)(G.ll,{className:"flex items-center gap-2",children:[a.jsx(W.Z,{className:"h-5 w-5"}),"Security Alerts"]}),a.jsx(G.SZ,{children:"Recent security events requiring attention"})]}),a.jsx(G.aY,{children:a.jsx("div",{className:"space-y-4",children:h.map((e=>(0,a.jsxs)("div",{className:"flex items-start gap-4 p-4 border rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 cursor-pointer",onClick:()=>r(e),children:[a.jsx("div",{className:(0,c.cn)("h-3 w-3 rounded-full mt-2",S(e.severity))}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[a.jsx("h4",{className:"font-medium text-sm",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[a.jsx(O.C,{variant:C(e.severity),children:e.severity}),a.jsx("span",{className:"text-xs text-gray-500",children:M(e.timestamp)})]})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["Source: ",e.source]}),(0,a.jsxs)("span",{children:["User: ",e.user]}),a.jsx(O.C,{variant:"outline",className:(0,c.cn)("text-xs","active"===e.status?"text-red-600":"blocked"===e.status?"text-blue-600":"resolved"===e.status?"text-green-600":"text-gray-600"),children:e.status})]})]})]},e.id)))})})]})})}),a.jsx("div",{children:a.jsx(Q.Uo,{delay:.6,children:(0,a.jsxs)(G.Zb,{children:[(0,a.jsxs)(G.Ol,{children:[(0,a.jsxs)(G.ll,{className:"flex items-center gap-2",children:[a.jsx(Me.Z,{className:"h-5 w-5"}),"Vulnerabilities"]}),a.jsx(G.SZ,{children:"Security vulnerabilities by severity"})]}),(0,a.jsxs)(G.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 bg-red-500 rounded-full"}),a.jsx("span",{className:"text-sm",children:"Critical"})]}),a.jsx(O.C,{variant:"destructive",children:m.vulnerabilities.critical})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 bg-orange-500 rounded-full"}),a.jsx("span",{className:"text-sm",children:"High"})]}),a.jsx(O.C,{variant:"destructive",children:m.vulnerabilities.high})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 bg-yellow-500 rounded-full"}),a.jsx("span",{className:"text-sm",children:"Medium"})]}),a.jsx(O.C,{variant:"secondary",children:m.vulnerabilities.medium})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 bg-blue-500 rounded-full"}),a.jsx("span",{className:"text-sm",children:"Low"})]}),a.jsx(O.C,{variant:"outline",children:m.vulnerabilities.low})]}),(0,a.jsxs)(p.z,{className:"w-full mt-4",variant:"outline",children:[a.jsx(se.Z,{className:"h-4 w-4 mr-2"}),"Vulnerability Report"]})]})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(Q.Uo,{delay:.7,children:(0,a.jsxs)(G.Zb,{children:[(0,a.jsxs)(G.Ol,{children:[(0,a.jsxs)(G.ll,{className:"flex items-center gap-2",children:[a.jsx(Ae.Z,{className:"h-5 w-5"}),"Active Sessions"]}),a.jsx(G.SZ,{children:"Currently active user sessions"})]}),a.jsx(G.aY,{children:a.jsx("div",{className:"space-y-4",children:j.map((e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium text-sm",children:e.user}),(0,a.jsxs)(O.C,{variant:"outline",className:_(e.risk),children:[e.risk," risk"]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(Ee.Z,{className:"h-3 w-3"}),e.ip," \u2022 ",e.location]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(u.Z,{className:"h-3 w-3"}),e.device]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[a.jsx(ue.Z,{className:"h-3 w-3"}),"Active: ",M(e.lastActivity)]})]})]}),a.jsx(p.z,{size:"sm",variant:"outline",className:"ml-2",children:a.jsx(xe.Z,{className:"h-3 w-3"})})]},e.id)))})})]})}),a.jsx(Q.Uo,{delay:.8,children:(0,a.jsxs)(G.Zb,{children:[(0,a.jsxs)(G.Ol,{children:[(0,a.jsxs)(G.ll,{className:"flex items-center gap-2",children:[a.jsx(xe.Z,{className:"h-5 w-5"}),"Blocked IP Addresses"]}),a.jsx(G.SZ,{children:"Recently blocked suspicious IP addresses"})]}),a.jsx(G.aY,{children:a.jsx("div",{className:"space-y-4",children:f.map(((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-mono text-sm",children:e.ip}),a.jsx(O.C,{variant:"permanent"===e.status?"destructive":"secondary",children:e.status})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:[(0,a.jsxs)("div",{children:["Reason: ",e.reason]}),(0,a.jsxs)("div",{children:["Attempts: ",e.attempts," \u2022 Blocked: ",M(e.blockedAt)]})]})]}),a.jsx(p.z,{size:"sm",variant:"ghost",className:"ml-2",children:a.jsx(Te.Z,{className:"h-3 w-3"})})]},s)))})})]})})]})]})}var Ue=t(50007),ze=t(71817);const Le=(0,o.Z)("Minus",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]);function Pe({title:e,value:s,unit:t,change:i,changeLabel:r,status:n="neutral",icon:l,className:d}){return(0,a.jsxs)(G.Zb,{className:(0,c.cn)("relative overflow-hidden",d),children:[(0,a.jsxs)(G.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(G.ll,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:e}),l&&a.jsx("div",{className:(0,c.cn)("p-2 rounded-lg",{success:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",error:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",neutral:"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-300"}[n]),children:l})]}),(0,a.jsxs)(G.aY,{children:[(0,a.jsxs)("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-2xl font-bold",children:s}),t&&a.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:t})]}),(void 0!==i||r)&&(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[void 0!==i&&(0,a.jsxs)("div",{className:(0,c.cn)("flex items-center gap-1",i?"success"===n?i>0?"text-green-600":"text-red-600":"error"===n?i>0?"text-red-600":"text-green-600":i>0?"text-blue-600":"text-orange-600":"text-gray-500"),children:[i?i>0?a.jsx(Ue.Z,{className:"h-4 w-4"}):i<0?a.jsx(ze.Z,{className:"h-4 w-4"}):a.jsx(Le,{className:"h-4 w-4"}):null,(0,a.jsxs)("span",{className:"text-sm font-medium",children:[Math.abs(i),"%"]})]}),r&&a.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:r})]}),"neutral"!==n&&a.jsx("div",{className:(0,c.cn)("absolute bottom-0 left-0 right-0 h-1","success"===n&&"bg-green-500","warning"===n&&"bg-yellow-500","error"===n&&"bg-red-500")})]})]})}const Oe={total:1247,active:892,pending:23,suspended:12,growth:8.5},De={loginAttempts:15432,failedLogins:234,sessions:167,alerts:5},Ie={uptime:"99.97%",diskUsage:67,memoryUsage:73,cpuUsage:45,networkThroughput:2.4},qe={connections:45,maxConnections:100,queryTime:12.3,slowQueries:3},$e=[{service:"Authentication Service",status:"healthy",uptime:"99.98%",responseTime:"45ms"},{service:"Database Cluster",status:"healthy",uptime:"99.95%",responseTime:"12ms"},{service:"VM Management",status:"warning",uptime:"99.87%",responseTime:"156ms"},{service:"Storage Backend",status:"healthy",uptime:"99.99%",responseTime:"23ms"},{service:"Network Overlay",status:"healthy",uptime:"99.94%",responseTime:"8ms"}],Ve=[{id:1,type:"security",severity:"high",message:"Multiple failed login attempts detected",time:"2 min ago"},{id:2,type:"performance",severity:"medium",message:"VM migration queue exceeding threshold",time:"15 min ago"},{id:3,type:"system",severity:"low",message:"Scheduled maintenance reminder",time:"1 hour ago"},{id:4,type:"security",severity:"high",message:"Unusual API access pattern detected",time:"2 hours ago"}];function Fe(){const[e,s]=(0,i.useState)(!1),t=e=>{switch(e){case"high":return"destructive";case"medium":return"secondary";default:return"outline"}};return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"System Overview"}),a.jsx(p.z,{variant:"outline",onClick:async()=>{s(!0),await new Promise((e=>setTimeout(e,1500))),s(!1)},disabled:e,children:e?"Refreshing...":"Refresh Metrics"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Q.Uo,{delay:.1,children:a.jsx(Pe,{title:"Total Users",value:a.jsx(Q.f,{value:Oe.total}),change:Oe.growth,changeLabel:"vs last month",status:"success",icon:a.jsx(M.Z,{className:"h-5 w-5"})})}),a.jsx(Q.Uo,{delay:.2,children:a.jsx(Pe,{title:"System Uptime",value:Ie.uptime,change:.02,changeLabel:"vs last month",status:"success",icon:a.jsx(ue.Z,{className:"h-5 w-5"})})}),a.jsx(Q.Uo,{delay:.3,children:a.jsx(Pe,{title:"Security Alerts",value:a.jsx(Q.f,{value:De.alerts}),change:-15,changeLabel:"vs last week",status:"warning",icon:a.jsx(Z.Z,{className:"h-5 w-5"})})}),a.jsx(Q.Uo,{delay:.4,children:a.jsx(Pe,{title:"DB Connections",value:`${qe.connections}/${qe.maxConnections}`,change:8,changeLabel:"active sessions",status:"success",icon:a.jsx(S.Z,{className:"h-5 w-5"})})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx(Q.Uo,{delay:.5,children:(0,a.jsxs)(G.Zb,{children:[(0,a.jsxs)(G.Ol,{children:[(0,a.jsxs)(G.ll,{className:"flex items-center gap-2",children:[a.jsx(B,{className:"h-5 w-5"}),"User Statistics"]}),a.jsx(G.SZ,{children:"Active user engagement and account status"})]}),(0,a.jsxs)(G.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Active Users"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-semibold",children:Oe.active}),a.jsx(Ue.Z,{className:"h-4 w-4 text-green-600"})]})]}),a.jsx(_e.E,{value:Oe.active/Oe.total*100,className:"h-2"}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Pending Approvals"}),a.jsx(O.C,{variant:"secondary",children:Oe.pending})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:"Suspended Accounts"}),a.jsx(O.C,{variant:"destructive",children:Oe.suspended})]})]})]})}),a.jsx(Q.Uo,{delay:.6,children:(0,a.jsxs)(G.Zb,{children:[(0,a.jsxs)(G.Ol,{children:[(0,a.jsxs)(G.ll,{className:"flex items-center gap-2",children:[a.jsx(w.Z,{className:"h-5 w-5"}),"System Resources"]}),a.jsx(G.SZ,{children:"Current system resource utilization"})]}),(0,a.jsxs)(G.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{children:"CPU Usage"}),(0,a.jsxs)("span",{className:"font-semibold",children:[Ie.cpuUsage,"%"]})]}),a.jsx(_e.E,{value:Ie.cpuUsage,className:"h-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{children:"Memory Usage"}),(0,a.jsxs)("span",{className:"font-semibold",children:[Ie.memoryUsage,"%"]})]}),a.jsx(_e.E,{value:Ie.memoryUsage,className:"h-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{children:"Disk Usage"}),(0,a.jsxs)("span",{className:"font-semibold",children:[Ie.diskUsage,"%"]})]}),a.jsx(_e.E,{value:Ie.diskUsage,className:"h-2"})]})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx(Q.Uo,{delay:.7,children:(0,a.jsxs)(G.Zb,{children:[(0,a.jsxs)(G.Ol,{children:[(0,a.jsxs)(G.ll,{className:"flex items-center gap-2",children:[a.jsx(k.Z,{className:"h-5 w-5"}),"Service Health"]}),a.jsx(G.SZ,{children:"Status of critical system services"})]}),a.jsx(G.aY,{children:a.jsx("div",{className:"space-y-3",children:$e.map(((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-3 w-3 rounded-full "+("healthy"===e.status?"bg-green-500":"warning"===e.status?"bg-yellow-500":"bg-red-500")}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:e.service}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.uptime," uptime \u2022 ",e.responseTime]})]})]}),a.jsx(O.C,{variant:"healthy"===e.status?"secondary":"destructive",children:e.status})]},s)))})})]})}),a.jsx(Q.Uo,{delay:.8,children:(0,a.jsxs)(G.Zb,{children:[(0,a.jsxs)(G.Ol,{children:[(0,a.jsxs)(G.ll,{className:"flex items-center gap-2",children:[a.jsx(W.Z,{className:"h-5 w-5"}),"Recent Alerts"]}),a.jsx(G.SZ,{children:"Latest system alerts and notifications"})]}),a.jsx(G.aY,{children:a.jsx("div",{className:"space-y-3",children:Ve.map((e=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[a.jsx(O.C,{variant:t(e.severity),className:"shrink-0",children:e.severity}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:e.message}),a.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.time})]})]}),a.jsx(p.z,{variant:"ghost",size:"sm",children:a.jsx(je.Z,{className:"h-4 w-4"})})]},e.id)))})})]})})]})]})}var Qe=t(23294);const Be=(0,o.Z)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Ye=[{id:1,timestamp:"2024-08-24T14:30:15Z",user:"admin@novacron.io",action:"USER_LOGIN",resource:"Authentication System",resourceId:"session_12345",ip:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",status:"success",details:"Successful login with 2FA",category:"authentication",severity:"info"},{id:2,timestamp:"2024-08-24T14:28:42Z",user:"manager@company.com",action:"VM_CREATED",resource:"Virtual Machine",resourceId:"vm_web_server_03",ip:"203.0.113.42",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36",status:"success",details:"Created new VM: web-server-03 with 4GB RAM, 2 vCPUs",category:"vm_management",severity:"info"},{id:3,timestamp:"2024-08-24T14:25:18Z",user:"operator@startup.io",action:"CONFIG_CHANGED",resource:"System Configuration",resourceId:"config_security_settings",ip:"198.51.100.75",userAgent:"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36",status:"success",details:"Updated password policy: minimum length changed from 8 to 12 characters",category:"system_config",severity:"warning"},{id:4,timestamp:"2024-08-24T14:20:33Z",user:"hacker@malicious.com",action:"LOGIN_FAILED",resource:"Authentication System",resourceId:null,ip:"192.0.2.100",userAgent:"curl/7.68.0",status:"failed",details:"Failed login attempt: invalid credentials (attempt 15/5)",category:"authentication",severity:"critical"},{id:5,timestamp:"2024-08-24T14:18:07Z",user:"admin@novacron.io",action:"USER_SUSPENDED",resource:"User Account",resourceId:"user_suspicious_activity",ip:"192.168.1.100",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",status:"success",details:"Suspended user account due to suspicious activity patterns",category:"user_management",severity:"warning"},{id:6,timestamp:"2024-08-24T14:15:22Z",user:"data-analyst@company.com",action:"DATA_EXPORTED",resource:"Database",resourceId:"export_user_data_q3_2024",ip:"10.0.0.45",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",status:"success",details:"Exported 15,432 user records for Q3 2024 analysis",category:"data_access",severity:"info"},{id:7,timestamp:"2024-08-24T14:12:55Z",user:"vm-operator@datacenter.net",action:"VM_MIGRATED",resource:"Virtual Machine",resourceId:"vm_database_primary",ip:"172.16.0.25",userAgent:"NovaCron-CLI/2.1.0",status:"success",details:"Migrated VM from node-01 to node-03, migration time: 4m 23s",category:"vm_management",severity:"info"},{id:8,timestamp:"2024-08-24T14:10:10Z",user:"security-admin@novacron.io",action:"IP_BLOCKED",resource:"Security System",resourceId:"block_rule_automated_001",ip:"192.168.1.50",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36",status:"success",details:"Automatically blocked IP 192.0.2.100 after 25 failed login attempts",category:"security",severity:"warning"}],We=[{value:"all",label:"All Categories"},{value:"authentication",label:"Authentication"},{value:"user_management",label:"User Management"},{value:"vm_management",label:"VM Management"},{value:"system_config",label:"System Configuration"},{value:"data_access",label:"Data Access"},{value:"security",label:"Security Events"}],Ke=[{value:"all",label:"All Severities"},{value:"critical",label:"Critical"},{value:"warning",label:"Warning"},{value:"info",label:"Info"}];function Ge(){const[e,s]=(0,i.useState)(Ye),[t,r]=(0,i.useState)(""),[n,l]=(0,i.useState)("all"),[d,o]=(0,i.useState)("all"),[m,x]=(0,i.useState)("all"),[u,h]=(0,i.useState)(null),g=e.filter((e=>{const s=e.user.toLowerCase().includes(t.toLowerCase())||e.action.toLowerCase().includes(t.toLowerCase())||e.resource.toLowerCase().includes(t.toLowerCase())||e.details.toLowerCase().includes(t.toLowerCase())||e.ip.includes(t),a="all"===n||e.category===n,i="all"===d||e.severity===d,r="all"===m||e.status===m;return s&&a&&i&&r})),j=e=>{switch(e){case"USER_LOGIN":return a.jsx(Qe.Z,{className:"h-4 w-4 text-blue-600"});case"LOGIN_FAILED":return a.jsx(Me.Z,{className:"h-4 w-4 text-red-600"});case"USER_CREATED":return a.jsx(pe.Z,{className:"h-4 w-4 text-green-600"});case"USER_SUSPENDED":return a.jsx(Be,{className:"h-4 w-4 text-orange-600"});case"VM_CREATED":return a.jsx(w.Z,{className:"h-4 w-4 text-green-600"});case"VM_MIGRATED":return a.jsx(k.Z,{className:"h-4 w-4 text-blue-600"});case"CONFIG_CHANGED":return a.jsx(A.Z,{className:"h-4 w-4 text-orange-600"});case"DATA_EXPORTED":return a.jsx(se.Z,{className:"h-4 w-4 text-purple-600"});case"IP_BLOCKED":return a.jsx(Z.Z,{className:"h-4 w-4 text-red-600"});default:return a.jsx(Y.Z,{className:"h-4 w-4 text-gray-600"})}},y=e=>{switch(e){case"critical":return"destructive";case"warning":return"secondary";default:return"outline"}},f=e=>{switch(e){case"success":return a.jsx(me.Z,{className:"h-4 w-4 text-green-600"});case"failed":return a.jsx(Me.Z,{className:"h-4 w-4 text-red-600"});default:return a.jsx(ue.Z,{className:"h-4 w-4 text-gray-600"})}},v=e=>{const s=new Date(e);return{date:s.toLocaleDateString(),time:s.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(Y.Z,{className:"h-6 w-6"}),"Audit Logs"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Track system events and user activities"})]}),(0,a.jsxs)(p.z,{onClick:()=>{const e=["Timestamp,User,Action,Resource,IP,Status,Severity,Details",...g.map((e=>`"${e.timestamp}","${e.user}","${e.action}","${e.resource}","${e.ip}","${e.status}","${e.severity}","${e.details}"`))].join("\n"),s=new Blob([e],{type:"text/csv"}),t=URL.createObjectURL(s),a=document.createElement("a");a.href=t,a.download=`audit_logs_${(new Date).toISOString().split("T")[0]}.csv`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(t)},children:[a.jsx(se.Z,{className:"h-4 w-4 mr-2"}),"Export Logs"]})]}),a.jsx(G.Zb,{children:a.jsx(G.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx(ie.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(X.I,{placeholder:"Search logs...",value:t,onChange:e=>r(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(H.Ph,{value:n,onValueChange:l,children:[a.jsx(H.i4,{children:a.jsx(H.ki,{placeholder:"Category"})}),a.jsx(H.Bw,{children:We.map((e=>a.jsx(H.Ql,{value:e.value,children:e.label},e.value)))})]}),(0,a.jsxs)(H.Ph,{value:d,onValueChange:o,children:[a.jsx(H.i4,{children:a.jsx(H.ki,{placeholder:"Severity"})}),a.jsx(H.Bw,{children:Ke.map((e=>a.jsx(H.Ql,{value:e.value,children:e.label},e.value)))})]}),(0,a.jsxs)(H.Ph,{value:m,onValueChange:x,children:[a.jsx(H.i4,{children:a.jsx(H.ki,{placeholder:"Status"})}),(0,a.jsxs)(H.Bw,{children:[a.jsx(H.Ql,{value:"all",children:"All Statuses"}),a.jsx(H.Ql,{value:"success",children:"Success"}),a.jsx(H.Ql,{value:"failed",children:"Failed"})]})]}),a.jsx("div",{className:"flex items-center justify-center",children:(0,a.jsxs)(O.C,{variant:"outline",children:[g.length," entries"]})})]})})}),a.jsx(Q.Uo,{children:(0,a.jsxs)(G.Zb,{children:[(0,a.jsxs)(G.Ol,{children:[a.jsx(G.ll,{children:"System Audit Trail"}),a.jsx(G.SZ,{children:"Chronological record of all system activities and events"})]}),a.jsx(G.aY,{children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)(J.iA,{children:[a.jsx(J.xD,{children:(0,a.jsxs)(J.SC,{children:[a.jsx(J.ss,{children:"Timestamp"}),a.jsx(J.ss,{children:"User"}),a.jsx(J.ss,{children:"Action"}),a.jsx(J.ss,{children:"Resource"}),a.jsx(J.ss,{children:"Status"}),a.jsx(J.ss,{children:"Severity"}),a.jsx(J.ss,{children:"Source IP"}),a.jsx(J.ss,{children:"Actions"})]})}),a.jsx(J.RM,{children:g.map((e=>{const s=v(e.timestamp);return(0,a.jsxs)(J.SC,{className:"hover:bg-gray-50 dark:hover:bg-gray-800",children:[a.jsx(J.pj,{children:(0,a.jsxs)("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium",children:s.date}),a.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:s.time})]})}),a.jsx(J.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(Ae.Z,{className:"h-4 w-4 text-gray-400"}),a.jsx("span",{className:"font-mono text-sm",children:e.user})]})}),a.jsx(J.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[j(e.action),a.jsx("span",{className:"font-medium text-sm",children:e.action.replace(/_/g," ")})]})}),a.jsx(J.pj,{children:(0,a.jsxs)("div",{className:"text-sm",children:[a.jsx("div",{className:"font-medium",children:e.resource}),e.resourceId&&a.jsx("div",{className:"text-gray-600 dark:text-gray-400 font-mono text-xs",children:e.resourceId})]})}),a.jsx(J.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[f(e.status),a.jsx("span",{className:(0,c.cn)("capitalize text-sm font-medium","success"===e.status?"text-green-600":"text-red-600"),children:e.status})]})}),a.jsx(J.pj,{children:a.jsx(O.C,{variant:y(e.severity),children:e.severity})}),a.jsx(J.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(Ee.Z,{className:"h-3 w-3 text-gray-400"}),a.jsx("span",{className:"font-mono text-sm",children:e.ip})]})}),a.jsx(J.pj,{children:a.jsx(p.z,{size:"sm",variant:"ghost",onClick:()=>h(e),className:"h-7 w-7 p-0",children:a.jsx(je.Z,{className:"h-3 w-3"})})})]},e.id)}))})]})})})]})}),u&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)(G.Zb,{className:"w-full max-w-2xl max-h-[80vh] overflow-y-auto",children:[a.jsx(G.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(G.ll,{className:"flex items-center gap-2",children:[j(u.action),"Log Entry Details"]}),a.jsx(p.z,{variant:"ghost",size:"sm",onClick:()=>h(null),children:a.jsx(Me.Z,{className:"h-4 w-4"})})]})}),(0,a.jsxs)(G.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Timestamp:"}),(0,a.jsxs)("div",{className:"mt-1",children:[v(u.timestamp).date," ",v(u.timestamp).time]})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"User:"}),a.jsx("div",{className:"mt-1 font-mono",children:u.user})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Action:"}),a.jsx("div",{className:"mt-1",children:u.action.replace(/_/g," ")})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),(0,a.jsxs)("div",{className:"mt-1 flex items-center gap-2",children:[f(u.status),a.jsx("span",{className:"capitalize",children:u.status})]})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Resource:"}),a.jsx("div",{className:"mt-1",children:u.resource})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Severity:"}),a.jsx("div",{className:"mt-1",children:a.jsx(O.C,{variant:y(u.severity),children:u.severity})})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Source IP:"}),a.jsx("div",{className:"mt-1 font-mono",children:u.ip})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Category:"}),a.jsx("div",{className:"mt-1 capitalize",children:u.category.replace(/_/g," ")})]})]}),u.resourceId&&(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Resource ID:"}),a.jsx("div",{className:"mt-1 font-mono text-sm bg-gray-100 dark:bg-gray-800 p-2 rounded",children:u.resourceId})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"Details:"}),a.jsx("div",{className:"mt-1 text-sm bg-gray-100 dark:bg-gray-800 p-3 rounded",children:u.details})]}),(0,a.jsxs)("div",{children:[a.jsx("span",{className:"font-medium",children:"User Agent:"}),a.jsx("div",{className:"mt-1 text-xs font-mono bg-gray-100 dark:bg-gray-800 p-2 rounded break-all",children:u.userAgent})]})]})]})})]})}var Je=t(17202);const He=[{id:"user_management",name:"User Management",icon:a.jsx(M.Z,{className:"h-4 w-4"}),permissions:[{id:"users.view",name:"View Users",description:"View user profiles and information"},{id:"users.create",name:"Create Users",description:"Add new user accounts"},{id:"users.edit",name:"Edit Users",description:"Modify user profiles and settings"},{id:"users.delete",name:"Delete Users",description:"Remove user accounts"},{id:"users.suspend",name:"Suspend Users",description:"Suspend or activate user accounts"},{id:"users.roles",name:"Manage User Roles",description:"Assign and modify user roles"}]},{id:"vm_management",name:"VM Management",icon:a.jsx(w.Z,{className:"h-4 w-4"}),permissions:[{id:"vms.view",name:"View VMs",description:"View virtual machine information"},{id:"vms.create",name:"Create VMs",description:"Create new virtual machines"},{id:"vms.edit",name:"Edit VMs",description:"Modify VM configurations"},{id:"vms.delete",name:"Delete VMs",description:"Remove virtual machines"},{id:"vms.migrate",name:"Migrate VMs",description:"Perform VM migrations"},{id:"vms.snapshots",name:"Manage Snapshots",description:"Create and manage VM snapshots"}]},{id:"system_admin",name:"System Administration",icon:a.jsx(A.Z,{className:"h-4 w-4"}),permissions:[{id:"system.config",name:"System Configuration",description:"Modify system settings"},{id:"system.logs",name:"View System Logs",description:"Access system and audit logs"},{id:"system.backup",name:"Backup Management",description:"Manage system backups"},{id:"system.maintenance",name:"Maintenance Mode",description:"Enable/disable maintenance mode"},{id:"system.updates",name:"System Updates",description:"Apply system updates and patches"}]},{id:"database",name:"Database Access",icon:a.jsx(S.Z,{className:"h-4 w-4"}),permissions:[{id:"db.view",name:"View Database",description:"Read database tables and records"},{id:"db.edit",name:"Edit Database",description:"Modify database records"},{id:"db.schema",name:"Schema Management",description:"Modify database structure"},{id:"db.backup",name:"Database Backup",description:"Create and restore database backups"}]},{id:"reporting",name:"Reports & Analytics",icon:a.jsx(_.Z,{className:"h-4 w-4"}),permissions:[{id:"reports.view",name:"View Reports",description:"Access system reports and analytics"},{id:"reports.create",name:"Create Reports",description:"Generate custom reports"},{id:"reports.export",name:"Export Data",description:"Export data and reports"},{id:"reports.schedule",name:"Schedule Reports",description:"Schedule automated reports"}]}],Xe=[{id:1,name:"Super Admin",description:"Full system access with all permissions",color:"red",builtin:!0,users:2,permissions:He.flatMap((e=>e.permissions.map((e=>e.id))))},{id:2,name:"Administrator",description:"System administration with limited database access",color:"orange",builtin:!0,users:5,permissions:["users.view","users.create","users.edit","users.suspend","users.roles","vms.view","vms.create","vms.edit","vms.migrate","vms.snapshots","system.config","system.logs","system.backup","reports.view","reports.create","reports.export"]},{id:3,name:"VM Manager",description:"Virtual machine management and operations",color:"blue",builtin:!0,users:12,permissions:["users.view","vms.view","vms.create","vms.edit","vms.migrate","vms.snapshots","reports.view","reports.create"]},{id:4,name:"Read Only",description:"View-only access to system resources",color:"green",builtin:!0,users:45,permissions:["users.view","vms.view","reports.view"]}];function es(){const[e,s]=(0,i.useState)(Xe),[t,r]=(0,i.useState)(null),[n,l]=(0,i.useState)(null),[d,o]=(0,i.useState)(!1),[m,x]=(0,i.useState)("roles"),u=e=>{e.builtin||(l({...e}),o(!1))},h=e=>e.permissions.length;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(B,{className:"h-6 w-6"}),"Roles & Permissions"]}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Manage user roles and access permissions"})]}),(0,a.jsxs)(p.z,{onClick:()=>{const e={id:Date.now(),name:"New Role",description:"",color:"gray",builtin:!1,users:0,permissions:[]};l(e),o(!0)},disabled:!!n,children:[a.jsx(ae.Z,{className:"h-4 w-4 mr-2"}),"Create Role"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx("div",{className:"lg:col-span-1",children:(0,a.jsxs)(G.Zb,{children:[(0,a.jsxs)(G.Ol,{children:[(0,a.jsxs)(G.ll,{children:["Roles (",e.length,")"]}),a.jsx(G.SZ,{children:"System roles and their permissions"})]}),a.jsx(G.aY,{className:"p-0",children:a.jsx("div",{className:"space-y-2",children:e.map((i=>a.jsx("div",{onClick:()=>r(i),className:(0,c.cn)("p-4 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors border-l-4",t?.id===i.id&&"bg-blue-50 dark:bg-blue-950","red"===i.color&&"border-red-500","orange"===i.color&&"border-orange-500","blue"===i.color&&"border-blue-500","green"===i.color&&"border-green-500","purple"===i.color&&"border-purple-500","gray"===i.color&&"border-gray-500"),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-medium",children:i.name}),i.builtin&&(0,a.jsxs)(O.C,{variant:"outline",className:"text-xs",children:[a.jsx(Qe.Z,{className:"h-3 w-3 mr-1"}),"Built-in"]})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:i.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:[i.users," users"]}),(0,a.jsxs)("span",{children:[h(i)," permissions"]})]})]}),!i.builtin&&(0,a.jsxs)("div",{className:"flex items-center gap-1 ml-2",children:[a.jsx(p.z,{size:"sm",variant:"ghost",onClick:e=>{e.stopPropagation(),u(i)},className:"h-7 w-7 p-0",children:a.jsx(ne.Z,{className:"h-3 w-3"})}),a.jsx(p.z,{size:"sm",variant:"ghost",onClick:a=>{a.stopPropagation(),(a=>{const i=e.find((e=>e.id===a));i&&!i.builtin&&confirm(`Are you sure you want to delete the role "${i.name}"?`)&&(s((e=>e.filter((e=>e.id!==a)))),t?.id===a&&r(null))})(i.id)},className:"h-7 w-7 p-0 text-red-600",children:a.jsx(le.Z,{className:"h-3 w-3"})})]})]})},i.id)))})})]})}),a.jsx("div",{className:"lg:col-span-2",children:n?a.jsx(Q.Uo,{children:(0,a.jsxs)(G.Zb,{children:[a.jsx(G.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx(G.ll,{children:d?"Create New Role":"Edit Role"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(p.z,{variant:"outline",onClick:()=>{l(null),o(!1)},children:[a.jsx(E.Z,{className:"h-4 w-4 mr-2"}),"Cancel"]}),(0,a.jsxs)(p.z,{onClick:()=>{n&&(s(d?e=>[...e,n]:e=>e.map((e=>e.id===n.id?n:e))),l(null),o(!1))},children:[a.jsx(re.Z,{className:"h-4 w-4 mr-2"}),"Save"]})]})]})}),(0,a.jsxs)(G.aY,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Role Name"}),a.jsx(X.I,{value:n.name,onChange:e=>l({...n,name:e.target.value}),className:"mt-1"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Color"}),(0,a.jsxs)(H.Ph,{value:n.color,onValueChange:e=>l({...n,color:e}),children:[a.jsx(H.i4,{className:"mt-1",children:a.jsx(H.ki,{})}),(0,a.jsxs)(H.Bw,{children:[a.jsx(H.Ql,{value:"red",children:"Red"}),a.jsx(H.Ql,{value:"orange",children:"Orange"}),a.jsx(H.Ql,{value:"blue",children:"Blue"}),a.jsx(H.Ql,{value:"green",children:"Green"}),a.jsx(H.Ql,{value:"purple",children:"Purple"}),a.jsx(H.Ql,{value:"gray",children:"Gray"})]})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Description"}),a.jsx(be.g,{value:n.description,onChange:e=>l({...n,description:e.target.value}),className:"mt-1",rows:2})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium mb-4",children:"Permissions"}),a.jsx("div",{className:"space-y-6",children:He.map((e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("h5",{className:"font-medium flex items-center gap-2 mb-3",children:[e.icon,e.name]}),a.jsx("div",{className:"space-y-3",children:e.permissions.map((e=>(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[a.jsx(Je.X,{checked:n.permissions.includes(e.id),onCheckedChange:s=>((e,s)=>{if(!n)return;const t=s?[...n.permissions,e]:n.permissions.filter((s=>s!==e));l({...n,permissions:t})})(e.id,s),className:"mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-sm",children:e.name}),a.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:e.description})]})]},e.id)))})]},e.id)))})]})]})]})}):t?a.jsx(Q.Uo,{children:(0,a.jsxs)(G.Zb,{children:[a.jsx(G.Ol,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(G.ll,{className:"flex items-center gap-2",children:[t.name,t.builtin&&(0,a.jsxs)(O.C,{variant:"outline",children:[a.jsx(Qe.Z,{className:"h-3 w-3 mr-1"}),"Built-in"]})]}),a.jsx(G.SZ,{children:t.description})]}),!t.builtin&&(0,a.jsxs)(p.z,{variant:"outline",onClick:()=>u(t),children:[a.jsx(ne.Z,{className:"h-4 w-4 mr-2"}),"Edit Role"]})]})}),(0,a.jsxs)(G.aY,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:t.users}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Assigned Users"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[h(t),"/",He.reduce(((e,s)=>e+s.permissions.length),0)]}),a.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Permissions"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium mb-4",children:"Assigned Permissions"}),a.jsx("div",{className:"space-y-4",children:He.map((e=>{const s=e.permissions.filter((e=>t.permissions.includes(e.id)));return 0===s.length?null:(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("h5",{className:"font-medium flex items-center gap-2 mb-3",children:[e.icon,e.name,(0,a.jsxs)(O.C,{variant:"outline",children:[s.length,"/",e.permissions.length]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:s.map((e=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx("div",{className:"h-2 w-2 bg-green-500 rounded-full"}),e.name]},e.id)))})]},e.id)}))})]})]})]})}):a.jsx(G.Zb,{children:(0,a.jsxs)(G.aY,{className:"p-12 text-center",children:[a.jsx(Z.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Select a Role"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose a role from the list to view its details and permissions"})]})})})]})]})}var ss=t(33657),ts=t(212),as=t(74676);const is=()=>{const e=(0,ts.NL)(),{connectionState:s,subscribeToChannel:t,unsubscribeFromChannel:a}=(()=>{const{toast:e}=(0,n.p)(),s=(0,ts.NL)(),[t,a]=(0,i.useState)({isConnected:!1,connectionState:ss.kQ.UNINSTANTIATED,lastMessage:null,reconnectAttempts:0,error:null}),r=(0,i.useRef)(),l=`${process.env.NEXT_PUBLIC_WS_URL||"ws://localhost:8091"}/admin/ws`,{sendMessage:c,lastMessage:d,readyState:o,getWebSocket:m}=(0,ss.ZP)(l,{onOpen:()=>{console.log("Admin WebSocket connected"),a((e=>({...e,isConnected:!0,connectionState:o,error:null,reconnectAttempts:0})));const e=localStorage.getItem("novacron_token");e&&c(JSON.stringify({type:"auth",token:e})),c(JSON.stringify({type:"subscribe",channels:["system_metrics","security_alerts","user_activity","vm_status","audit_logs","config_changes"]}))},onClose:e=>{if(console.log("Admin WebSocket disconnected:",e),a((s=>({...s,isConnected:!1,connectionState:o,error:e.reason||"Connection closed"}))),1e3!==e.code){const e=t.reconnectAttempts+1,s=Math.min(1e3*Math.pow(2,e),3e4);a((s=>({...s,reconnectAttempts:e}))),r.current=setTimeout((()=>{console.log(`Attempting to reconnect (attempt ${e})`),m()?.close()}),s)}},onError:e=>{console.error("Admin WebSocket error:",e),a((e=>({...e,error:"Connection error occurred"})))},onMessage:e=>{try{const s=JSON.parse(e.data);x(s),a((e=>({...e,lastMessage:s})))}catch(s){console.error("Failed to parse WebSocket message:",s)}},shouldReconnect:e=>1e3!==e.code&&4001!==e.code,reconnectInterval:e=>Math.min(1e3*Math.pow(2,e),3e4),reconnectAttempts:10,heartbeat:{message:JSON.stringify({type:"ping"}),returnMessage:JSON.stringify({type:"pong"}),timeout:6e4,interval:3e4}}),x=(0,i.useCallback)((t=>{switch(t.type){case"system_metrics":s.setQueryData(as.rS.SYSTEM_METRICS,(e=>e?[...e.slice(-49),t.data]:[t.data]));break;case"security_alert":s.setQueryData(as.rS.SECURITY_ALERTS,(e=>e?{...e,alerts:[t.data,...e.alerts],total:e.total+1}:{alerts:[t.data],total:1})),["high","critical"].includes(t.data.severity)&&e({title:"Security Alert",description:t.data.title,variant:"critical"===t.data.severity?"destructive":"default"});break;case"user_activity":s.invalidateQueries({queryKey:as.rS.USERS}),"login_failed"===t.data.action&&t.data.count>5&&e({title:"Suspicious Activity",description:`Multiple failed login attempts detected for ${t.data.email}`,variant:"destructive"});break;case"vm_status":s.setQueryData(["vms"],(e=>e?{...e,vms:e.vms?.map((e=>e.id===t.data.id?{...e,...t.data}:e))}:e)),t.data.previous_status&&t.data.status!==t.data.previous_status&&e({title:"VM Status Changed",description:`${t.data.name}: ${t.data.previous_status} \u2192 ${t.data.status}`});break;case"audit_log":s.setQueryData(as.rS.AUDIT_LOGS,(e=>e?{...e,logs:[t.data,...e.logs.slice(0,99)],total:e.total+1}:{logs:[t.data],total:1}));break;case"config_change":s.invalidateQueries({queryKey:as.rS.SYSTEM_CONFIG}),e({title:"Configuration Updated",description:`${t.data.key} has been changed by ${t.data.updated_by}`});break;default:console.log("Unhandled WebSocket message type:",t.type)}}),[s,e]);(0,i.useEffect)((()=>{a((e=>({...e,connectionState:o,isConnected:o===ss.kQ.OPEN})))}),[o]),(0,i.useEffect)((()=>()=>{r.current&&clearTimeout(r.current)}),[]);const u=(0,i.useCallback)((e=>{o===ss.kQ.OPEN&&c(JSON.stringify({type:"subscribe",channel:e}))}),[o,c]),h=(0,i.useCallback)((e=>{o===ss.kQ.OPEN&&c(JSON.stringify({type:"unsubscribe",channel:e}))}),[o,c]),p=(0,i.useCallback)((()=>{o===ss.kQ.OPEN&&c(JSON.stringify({type:"request_snapshot",data_type:"system_metrics"}))}),[o,c]),g=(0,i.useCallback)(((e,s)=>{o===ss.kQ.OPEN&&c(JSON.stringify({type:"command",command:e,data:s}))}),[o,c]);return{connectionState:t,lastMessage:t.lastMessage,sendMessage:c,subscribeToChannel:u,unsubscribeFromChannel:h,requestMetricsSnapshot:p,sendCommand:g}})(),[r,l]=(0,i.useState)([]),[c,d]=(0,i.useState)([]);return(0,i.useEffect)((()=>(t("system_metrics"),t("security_alerts"),t("user_activity"),()=>{a("system_metrics"),a("security_alerts"),a("user_activity")})),[t,a]),(0,i.useEffect)((()=>e.getQueryCache().subscribe((e=>{if("updated"===e.type&&("admin"===e.query.queryKey[0]&&"system-metrics"===e.query.queryKey[1]&&l(e.query.state.data||[]),"admin"===e.query.queryKey[0]&&"security-alerts"===e.query.queryKey[1])){const s=e.query.state.data;d(s?.alerts||[])}}))),[e]),{isConnected:s.isConnected,metrics:r,alerts:c,connectionState:s.connectionState,error:s.error}};var rs=t(14172),ns=t(50257),ls=t(65735),cs=t(34707),ds=t(24300),os=t(35522),ms=t(14839),xs=t(40086),us=t(7501),hs=t(84753),ps=t(53937),gs=t(82150),js=t(26826),ys=t(8081);const fs=()=>({timestamp:(new Date).toISOString(),cpu_usage:Math.floor(30*Math.random())+40,memory_usage:Math.floor(25*Math.random())+55,disk_usage:Math.floor(15*Math.random())+60,network_in:5*Math.random()+1,network_out:3*Math.random()+.5,active_connections:Math.floor(100*Math.random())+150,response_time:Math.floor(50*Math.random())+25}),vs=["#8884d8","#82ca9d","#ffc658","#ff7300","#00ff00"],Ns=()=>{const{isConnected:e,metrics:s,alerts:t,connectionState:r,error:n}=is(),[l,d]=(0,i.useState)([]),[o,m]=(0,i.useState)(!0);(0,i.useEffect)((()=>{if(o){const e=setInterval((()=>{d((e=>[...e,fs()].slice(-20)))}),2e3);return()=>clearInterval(e)}}),[o]),(0,i.useEffect)((()=>{const e=Array.from({length:10},(()=>fs()));d(e)}),[]);const x=(e=>{switch(e){case ss.kQ.CONNECTING:return{status:"Connecting...",color:"text-yellow-600",icon:"\u26a1"};case ss.kQ.OPEN:return{status:"Connected",color:"text-green-600",icon:"\ud83d\udfe2"};case ss.kQ.CLOSING:return{status:"Disconnecting...",color:"text-yellow-600",icon:"\u26a0\ufe0f"};case ss.kQ.CLOSED:return{status:"Disconnected",color:"text-red-600",icon:"\ud83d\udd34"};default:return{status:"Unknown",color:"text-gray-600",icon:"\u2753"}}})(r),u=l[l.length-1],h=u?Math.round((100-u.cpu_usage+(100-u.memory_usage)+(100-u.disk_usage))/3):0,g=(e,s)=>e>s?a.jsx(Ue.Z,{className:"h-3 w-3 text-red-500"}):e<s?a.jsx(ze.Z,{className:"h-3 w-3 text-green-500"}):a.jsx(Le,{className:"h-3 w-3 text-gray-500"}),j=e=>new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e?a.jsx(rs.Z,{className:"h-5 w-5 text-green-600"}):a.jsx(ns.Z,{className:"h-5 w-5 text-red-600"}),a.jsx("span",{className:(0,c.cn)("text-sm font-medium",x.color),children:x.status})]}),n&&a.jsx(O.C,{variant:"destructive",className:"text-xs",children:n})]}),a.jsx("div",{className:"flex items-center gap-2",children:(0,a.jsxs)(p.z,{variant:"outline",size:"sm",onClick:()=>m(!o),className:(0,c.cn)("flex items-center gap-2",o&&"bg-green-50 border-green-200 text-green-700"),children:[a.jsx(I.Z,{className:(0,c.cn)("h-4 w-4",o&&"animate-spin")}),o?"Auto-Refresh On":"Auto-Refresh Off"]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(Q.Uo,{delay:.1,children:a.jsx(G.Zb,{children:a.jsx(G.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"System Health"}),(0,a.jsxs)("p",{className:(0,c.cn)("text-xl font-bold",(y=h,y>=80?"text-green-600":y>=60?"text-yellow-600":"text-red-600")),children:[h,"%"]}),l.length>1&&(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[g(h,75),a.jsx("span",{className:"text-xs text-gray-600",children:"vs previous"})]})]}),a.jsx(k.Z,{className:"h-6 w-6 text-blue-600"})]})})})}),a.jsx(Q.Uo,{delay:.2,children:a.jsx(G.Zb,{children:(0,a.jsxs)(G.aY,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"CPU Usage"}),(0,a.jsxs)("p",{className:"text-xl font-bold",children:[u?.cpu_usage||0,"%"]}),l.length>1&&(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[g(u?.cpu_usage||0,l[l.length-2]?.cpu_usage||0),(0,a.jsxs)("span",{className:"text-xs text-gray-600",children:[Math.abs((u?.cpu_usage||0)-(l[l.length-2]?.cpu_usage||0)).toFixed(1),"%"]})]})]}),a.jsx(w.Z,{className:"h-6 w-6 text-purple-600"})]}),a.jsx("div",{className:"mt-2",children:a.jsx(_e.E,{value:u?.cpu_usage||0,className:"h-1"})})]})})}),a.jsx(Q.Uo,{delay:.3,children:a.jsx(G.Zb,{children:(0,a.jsxs)(G.aY,{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Memory Usage"}),(0,a.jsxs)("p",{className:"text-xl font-bold",children:[u?.memory_usage||0,"%"]}),l.length>1&&(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[g(u?.memory_usage||0,l[l.length-2]?.memory_usage||0),(0,a.jsxs)("span",{className:"text-xs text-gray-600",children:[Math.abs((u?.memory_usage||0)-(l[l.length-2]?.memory_usage||0)).toFixed(1),"%"]})]})]}),a.jsx(S.Z,{className:"h-6 w-6 text-green-600"})]}),a.jsx("div",{className:"mt-2",children:a.jsx(_e.E,{value:u?.memory_usage||0,className:"h-1"})})]})})}),a.jsx(Q.Uo,{delay:.4,children:a.jsx(G.Zb,{children:a.jsx(G.aY,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:"Active Connections"}),a.jsx("p",{className:"text-xl font-bold",children:u?.active_connections||0}),l.length>1&&(0,a.jsxs)("div",{className:"flex items-center gap-1 mt-1",children:[g(u?.active_connections||0,l[l.length-2]?.active_connections||0),a.jsx("span",{className:"text-xs text-gray-600",children:Math.abs((u?.active_connections||0)-(l[l.length-2]?.active_connections||0))})]})]}),a.jsx(M.Z,{className:"h-6 w-6 text-orange-600"})]})})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(Q.Uo,{delay:.5,children:(0,a.jsxs)(G.Zb,{children:[(0,a.jsxs)(G.Ol,{children:[(0,a.jsxs)(G.ll,{className:"flex items-center gap-2 text-base",children:[a.jsx(k.Z,{className:"h-4 w-4"}),"System Resources (Live)"]}),a.jsx(G.SZ,{children:"Real-time CPU, Memory, and Disk usage"})]}),a.jsx(G.aY,{children:a.jsx("div",{className:"h-48",children:a.jsx(ls.h,{width:"100%",height:"100%",children:(0,a.jsxs)(cs.w,{data:l,children:[a.jsx(ds.q,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),a.jsx(os.K,{dataKey:"timestamp",tick:{fontSize:10},tickFormatter:j,interval:"preserveStartEnd"}),a.jsx(ms.B,{tick:{fontSize:10},domain:[0,100]}),a.jsx(xs.u,{labelFormatter:e=>j(e),formatter:(e,s)=>[`${e.toFixed(1)}%`,s.replace("_"," ").toUpperCase()]}),a.jsx(us.x,{type:"monotone",dataKey:"cpu_usage",stroke:"#8b5cf6",strokeWidth:2,dot:!1,name:"CPU"}),a.jsx(us.x,{type:"monotone",dataKey:"memory_usage",stroke:"#10b981",strokeWidth:2,dot:!1,name:"Memory"}),a.jsx(us.x,{type:"monotone",dataKey:"disk_usage",stroke:"#f59e0b",strokeWidth:2,dot:!1,name:"Disk"})]})})})})]})}),a.jsx(Q.Uo,{delay:.6,children:(0,a.jsxs)(G.Zb,{children:[(0,a.jsxs)(G.Ol,{children:[(0,a.jsxs)(G.ll,{className:"flex items-center gap-2 text-base",children:[a.jsx(C.Z,{className:"h-4 w-4"}),"Network Traffic (Live)"]}),a.jsx(G.SZ,{children:"Real-time network throughput monitoring"})]}),a.jsx(G.aY,{children:a.jsx("div",{className:"h-48",children:a.jsx(ls.h,{width:"100%",height:"100%",children:(0,a.jsxs)(hs.T,{data:l,children:[a.jsx(ds.q,{strokeDasharray:"3 3",stroke:"#374151",opacity:.3}),a.jsx(os.K,{dataKey:"timestamp",tick:{fontSize:10},tickFormatter:j,interval:"preserveStartEnd"}),a.jsx(ms.B,{tick:{fontSize:10}}),a.jsx(xs.u,{labelFormatter:e=>j(e),formatter:(e,s)=>[`${e.toFixed(2)} MB/s`,s.replace("_"," ").replace("network ","Network ").toUpperCase()]}),a.jsx(ps.uN,{type:"monotone",dataKey:"network_in",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,name:"Inbound"}),a.jsx(ps.uN,{type:"monotone",dataKey:"network_out",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Outbound"})]})})})})]})})]}),a.jsx(Q.Uo,{delay:.7,children:(0,a.jsxs)(G.Zb,{children:[(0,a.jsxs)(G.Ol,{children:[(0,a.jsxs)(G.ll,{className:"flex items-center gap-2 text-base",children:[a.jsx(W.Z,{className:"h-4 w-4"}),"Live System Alerts"]}),a.jsx(G.SZ,{children:"Real-time security and system alerts"})]}),a.jsx(G.aY,{children:0===t.length?a.jsx("div",{className:"flex items-center justify-center py-8",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx(me.Z,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-green-600 mb-2",children:"All Systems Normal"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No active alerts at this time"})]})}):(0,a.jsxs)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[t.slice(0,5).map(((e,s)=>(0,a.jsxs)("div",{className:(0,c.cn)("flex items-start gap-3 p-3 rounded-lg border","critical"===e.severity&&"bg-red-50 border-red-200 dark:bg-red-950/50 dark:border-red-800","high"===e.severity&&"bg-orange-50 border-orange-200 dark:bg-orange-950/50 dark:border-orange-800","medium"===e.severity&&"bg-yellow-50 border-yellow-200 dark:bg-yellow-950/50 dark:border-yellow-800","low"===e.severity&&"bg-blue-50 border-blue-200 dark:bg-blue-950/50 dark:border-blue-800"),children:[a.jsx(W.Z,{className:(0,c.cn)("h-4 w-4 mt-0.5","critical"===e.severity&&"text-red-600","high"===e.severity&&"text-orange-600","medium"===e.severity&&"text-yellow-600","low"===e.severity&&"text-blue-600")}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("p",{className:"font-medium text-sm",children:e.title||"System Alert"}),a.jsx(O.C,{variant:"critical"===e.severity||"high"===e.severity?"destructive":"medium"===e.severity?"secondary":"outline",className:"text-xs",children:e.severity})]}),a.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:e.description||"No description available"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e.timestamp?j(e.timestamp):"Just now"})]})]},e.id||s))),t.length>5&&a.jsx("div",{className:"text-center pt-2",children:(0,a.jsxs)(p.z,{variant:"ghost",size:"sm",children:["View All ",t.length," Alerts"]})})]})})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(Q.Uo,{delay:.8,children:(0,a.jsxs)(G.Zb,{children:[a.jsx(G.Ol,{children:a.jsx(G.ll,{className:"text-base",children:"Response Time"})}),(0,a.jsxs)(G.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold mb-2",children:[u?.response_time||0,"ms"]}),a.jsx("div",{className:"h-16",children:a.jsx(ls.h,{width:"100%",height:"100%",children:a.jsx(cs.w,{data:l.slice(-10),children:a.jsx(us.x,{type:"monotone",dataKey:"response_time",stroke:"#10b981",strokeWidth:2,dot:!1})})})})]})]})}),a.jsx(Q.Uo,{delay:.9,children:(0,a.jsxs)(G.Zb,{children:[a.jsx(G.Ol,{children:a.jsx(G.ll,{className:"text-base",children:"Resource Distribution"})}),a.jsx(G.aY,{children:a.jsx("div",{className:"h-32",children:a.jsx(ls.h,{width:"100%",height:"100%",children:(0,a.jsxs)(gs.u,{children:[a.jsx(js.b,{data:[{name:"CPU",value:u?.cpu_usage||0},{name:"Memory",value:u?.memory_usage||0},{name:"Disk",value:u?.disk_usage||0}],cx:"50%",cy:"50%",outerRadius:45,fill:"#8884d8",dataKey:"value",children:[{name:"CPU",value:u?.cpu_usage||0},{name:"Memory",value:u?.memory_usage||0},{name:"Disk",value:u?.disk_usage||0}].map(((e,s)=>a.jsx(ys.b,{fill:vs[s%vs.length]},`cell-${s}`)))}),a.jsx(xs.u,{formatter:e=>`${e.toFixed(1)}%`})]})})})})]})}),a.jsx(Q.Uo,{delay:1,children:(0,a.jsxs)(G.Zb,{children:[a.jsx(G.Ol,{children:a.jsx(G.ll,{className:"text-base",children:"System Status"})}),(0,a.jsxs)(G.aY,{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"WebSocket"}),a.jsx(O.C,{variant:e?"secondary":"destructive",children:e?"Connected":"Disconnected"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Auto-refresh"}),a.jsx(O.C,{variant:o?"secondary":"outline",children:o?"Active":"Paused"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Data points"}),a.jsx(O.C,{variant:"outline",children:l.length})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm",children:"Last update"}),a.jsx("span",{className:"text-xs text-gray-600",children:u?j(u.timestamp):"Never"})]})]})]})})]})]});var y},bs="force-dynamic";function ws(){const[e,s]=(0,i.useState)(!1),[t,o]=(0,i.useState)(5),[m,x]=(0,i.useState)(!1),[u,h]=(0,i.useState)(new Date),[g,j]=(0,i.useState)({isLoading:!0,isError:!1,isSuccess:!1,message:""}),y={name:"System Administrator",email:"admin@novacron.io",role:"admin"},v=(0,r.useRouter)(),{toast:N}=(0,n.p)();(0,i.useEffect)((()=>{const e=setTimeout((()=>{j({isLoading:!1,isError:!1,isSuccess:!0,message:""})}),1e3);return()=>clearTimeout(e)}),[]);const b=[{id:"overview",label:"Overview",icon:a.jsx(_.Z,{className:"h-4 w-4"}),content:a.jsx(Q.Uo,{children:a.jsx(Fe,{})})},{id:"realtime",label:"Real-time Monitor",icon:a.jsx(k.Z,{className:"h-4 w-4"}),content:a.jsx(Q.Uo,{delay:.1,children:a.jsx(Ns,{})})},{id:"users",label:"User Management",icon:a.jsx(M.Z,{className:"h-4 w-4"}),badge:3,content:a.jsx(Q.Uo,{delay:.1,children:a.jsx(ve,{})})},{id:"database",label:"Database Editor",icon:a.jsx(S.Z,{className:"h-4 w-4"}),content:a.jsx(Q.Uo,{delay:.2,children:a.jsx(oe,{})})},{id:"security",label:"Security",icon:a.jsx(Z.Z,{className:"h-4 w-4"}),badge:2,content:a.jsx(Q.Uo,{delay:.3,children:a.jsx(Re,{})})},{id:"permissions",label:"Roles & Permissions",icon:a.jsx(B,{className:"h-4 w-4"}),content:a.jsx(Q.Uo,{delay:.4,children:a.jsx(es,{})})},{id:"audit",label:"Audit Logs",icon:a.jsx(Y.Z,{className:"h-4 w-4"}),content:a.jsx(Q.Uo,{delay:.5,children:a.jsx(Ge,{})})},{id:"settings",label:"System Config",icon:a.jsx(A.Z,{className:"h-4 w-4"}),content:a.jsx(Q.Uo,{delay:.6,children:a.jsx(Se,{})})}];return a.jsx(l.ErrorBoundary,{children:(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a.jsx(d,{}),a.jsx(L,{user:y,onLogout:()=>{try{localStorage.removeItem("authToken")}catch{}N({title:"Logged out"}),v.push("/auth/login")}}),a.jsx(P,{user:y,collapsed:e,onCollapse:s}),(0,a.jsxs)("main",{id:"main-content",className:(0,c.cn)("transition-all duration-300","lg:ml-64",e&&"lg:ml-16","pb-16 sm:pb-0"),children:[a.jsx("header",{className:"sticky top-0 z-30 bg-white dark:bg-gray-900 border-b dark:border-gray-800",children:a.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:"Admin Dashboard"}),(0,a.jsxs)(O.C,{variant:"destructive",className:"animate-pulse",children:[a.jsx(W.Z,{className:"h-3 w-3 mr-1"}),"Elevated Access"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(V,{isRefreshing:m,onRefresh:async()=>{x(!0),await new Promise((e=>setTimeout(e,2e3))),h(new Date),x(!1)},lastUpdated:u}),(0,a.jsxs)(p.z,{variant:"ghost",size:"icon",className:"relative",children:[a.jsx(K.Z,{className:"h-5 w-5"}),t>0&&a.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-white text-xs flex items-center justify-center",children:t})]}),a.jsx(f,{})]})]})})}),a.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:a.jsx(F,{state:g,loadingComponent:a.jsx($,{}),children:a.jsx(D,{tabs:b,defaultTab:"realtime",className:"w-full"})})})]})]})})}},17133:(e,s,t)=>{"use strict";t.d(s,{C:()=>l});var a=t(30784),i=(t(9885),t(91971)),r=t(80467);const n=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l({className:e,variant:s,...t}){return a.jsx("div",{className:(0,r.cn)(n({variant:s}),e),...t})}},97040:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>l,SZ:()=>d,Zb:()=>n,aY:()=>o,eW:()=>m,ll:()=>c});var a=t(30784),i=t(9885),r=t(80467);const n=i.forwardRef((({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s})));n.displayName="Card";const l=i.forwardRef((({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...s})));l.displayName="CardHeader";const c=i.forwardRef((({className:e,...s},t)=>a.jsx("h3",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s})));c.displayName="CardTitle";const d=i.forwardRef((({className:e,...s},t)=>a.jsx("p",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",e),...s})));d.displayName="CardDescription";const o=i.forwardRef((({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,r.cn)("p-6 pt-0",e),...s})));o.displayName="CardContent";const m=i.forwardRef((({className:e,...s},t)=>a.jsx("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",e),...s})));m.displayName="CardFooter"},17202:(e,s,t)=>{"use strict";t.d(s,{X:()=>c});var a=t(30784),i=t(9885),r=t(68856),n=t(1264),l=t(80467);const c=i.forwardRef((({className:e,...s},t)=>a.jsx(r.fC,{ref:t,className:(0,l.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:a.jsx(r.z$,{className:(0,l.cn)("flex items-center justify-center text-current"),children:a.jsx(n.Z,{className:"h-4 w-4"})})})));c.displayName=r.fC.displayName},55794:(e,s,t)=>{"use strict";t.d(s,{$F:()=>m,AW:()=>x,Ju:()=>h,VD:()=>p,Xi:()=>u,h_:()=>o});var a=t(30784),i=t(9885),r=t(24742),n=t(11922),l=t(1264),c=t(74151),d=t(80467);const o=r.fC,m=r.xz;r.ZA,r.Uv,r.Tr,r.Ee;i.forwardRef((({className:e,inset:s,children:t,...i},l)=>(0,a.jsxs)(r.fF,{ref:l,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",e),...i,children:[t,a.jsx(n.Z,{className:"ml-auto h-4 w-4"})]}))).displayName=r.fF.displayName;i.forwardRef((({className:e,...s},t)=>a.jsx(r.tu,{ref:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}))).displayName=r.tu.displayName;const x=i.forwardRef((({className:e,sideOffset:s=4,...t},i)=>a.jsx(r.Uv,{children:a.jsx(r.VY,{ref:i,sideOffset:s,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})})));x.displayName=r.VY.displayName;const u=i.forwardRef((({className:e,inset:s,...t},i)=>a.jsx(r.ck,{ref:i,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",e),...t})));u.displayName=r.ck.displayName;i.forwardRef((({className:e,children:s,checked:t,...i},n)=>(0,a.jsxs)(r.oC,{ref:n,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:t,...i,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(r.wU,{children:a.jsx(l.Z,{className:"h-4 w-4"})})}),s]}))).displayName=r.oC.displayName;i.forwardRef((({className:e,children:s,...t},i)=>(0,a.jsxs)(r.Rk,{ref:i,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(r.wU,{children:a.jsx(c.Z,{className:"h-2 w-2 fill-current"})})}),s]}))).displayName=r.Rk.displayName;const h=i.forwardRef((({className:e,inset:s,...t},i)=>a.jsx(r.__,{ref:i,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",e),...t})));h.displayName=r.__.displayName;const p=i.forwardRef((({className:e,...s},t)=>a.jsx(r.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...s})));p.displayName=r.Z0.displayName},57505:(e,s,t)=>{"use strict";t.d(s,{I:()=>n});var a=t(30784),i=t(9885),r=t(80467);const n=i.forwardRef((({className:e,type:s,...t},i)=>a.jsx("input",{type:s,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...t})));n.displayName="Input"},86847:(e,s,t)=>{"use strict";t.d(s,{E:()=>l});var a=t(30784),i=t(9885),r=t(81915),n=t(80467);const l=i.forwardRef((({className:e,value:s,...t},i)=>a.jsx(r.fC,{ref:i,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...t,children:a.jsx(r.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})})));l.displayName=r.fC.displayName},7950:(e,s,t)=>{"use strict";t.d(s,{Bw:()=>x,Ph:()=>d,Ql:()=>u,i4:()=>m,ki:()=>o});var a=t(30784),i=t(9885),r=t(71806),n=t(19458),l=t(1264),c=t(80467);const d=r.fC,o=(r.ZA,r.B4),m=i.forwardRef((({className:e,children:s,...t},i)=>(0,a.jsxs)(r.xz,{ref:i,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:[s,a.jsx(r.JO,{asChild:!0,children:a.jsx(n.Z,{className:"h-4 w-4 opacity-50"})})]})));m.displayName=r.xz.displayName;const x=i.forwardRef((({className:e,children:s,position:t="popper",...i},n)=>a.jsx(r.h_,{children:a.jsx(r.VY,{ref:n,className:(0,c.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md animate-in fade-in-80","popper"===t&&"translate-y-1",e),position:t,...i,children:a.jsx(r.l_,{className:(0,c.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s})})})));x.displayName=r.VY.displayName;i.forwardRef((({className:e,...s},t)=>a.jsx(r.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s}))).displayName=r.__.displayName;const u=i.forwardRef((({className:e,children:s,...t},i)=>(0,a.jsxs)(r.ck,{ref:i,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(r.wU,{children:a.jsx(l.Z,{className:"h-4 w-4"})})}),a.jsx(r.eT,{children:s})]})));u.displayName=r.ck.displayName;i.forwardRef((({className:e,...s},t)=>a.jsx(r.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...s}))).displayName=r.Z0.displayName},64536:(e,s,t)=>{"use strict";t.d(s,{i:()=>l});var a=t(30784),i=t(9885),r=t(44408),n=t(80467);const l=i.forwardRef((({className:e,...s},t)=>(0,a.jsxs)(r.fC,{ref:t,className:(0,n.cn)("relative flex w-full touch-none select-none items-center",e),...s,children:[a.jsx(r.fQ,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(r.e6,{className:"absolute h-full bg-primary"})}),a.jsx(r.bU,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})));l.displayName=r.fC.displayName},58013:(e,s,t)=>{"use strict";t.d(s,{r:()=>l});var a=t(30784),i=t(9885),r=t(73195),n=t(80467);const l=i.forwardRef((({className:e,...s},t)=>a.jsx(r.fC,{className:(0,n.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...s,ref:t,children:a.jsx(r.bU,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})));l.displayName=r.fC.displayName},96589:(e,s,t)=>{"use strict";t.d(s,{RM:()=>c,Rn:()=>x,SC:()=>d,iA:()=>n,pj:()=>m,ss:()=>o,xD:()=>l});var a=t(30784),i=t(9885),r=t(80467);const n=i.forwardRef((({className:e,...s},t)=>a.jsx("div",{className:"w-full overflow-auto",children:a.jsx("table",{ref:t,className:(0,r.cn)("w-full caption-bottom text-sm",e),...s})})));n.displayName="Table";const l=i.forwardRef((({className:e,...s},t)=>a.jsx("thead",{ref:t,className:(0,r.cn)("[&_tr]:border-b",e),...s})));l.displayName="TableHeader";const c=i.forwardRef((({className:e,...s},t)=>a.jsx("tbody",{ref:t,className:(0,r.cn)("[&_tr:last-child]:border-0",e),...s})));c.displayName="TableBody";i.forwardRef((({className:e,...s},t)=>a.jsx("tfoot",{ref:t,className:(0,r.cn)("bg-primary font-medium text-primary-foreground",e),...s}))).displayName="TableFooter";const d=i.forwardRef((({className:e,...s},t)=>a.jsx("tr",{ref:t,className:(0,r.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s})));d.displayName="TableRow";const o=i.forwardRef((({className:e,...s},t)=>a.jsx("th",{ref:t,className:(0,r.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s})));o.displayName="TableHead";const m=i.forwardRef((({className:e,...s},t)=>a.jsx("td",{ref:t,className:(0,r.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s})));m.displayName="TableCell";const x=i.forwardRef((({className:e,...s},t)=>a.jsx("caption",{ref:t,className:(0,r.cn)("mt-4 text-sm text-muted-foreground",e),...s})));x.displayName="TableCaption"},57550:(e,s,t)=>{"use strict";t.d(s,{g:()=>n});var a=t(30784),i=t(9885),r=t(80467);const n=i.forwardRef((({className:e,...s},t)=>a.jsx("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s})));n.displayName="Textarea"},99748:(e,s,t)=>{"use strict";t.d(s,{p:()=>r});var a=t(30784),i=t(10345);function r(){return{toast:e=>{const{title:s,description:t,variant:r="default",duration:n=4e3}=e,l=(0,a.jsxs)("div",{className:"grid gap-1",children:[s&&a.jsx("div",{className:"text-sm font-semibold",children:s}),t&&a.jsx("div",{className:"text-sm opacity-90",children:t})]});"destructive"===r?i.toast.error(l,{duration:n}):i.toast.success(l,{duration:n})}}}},63712:(e,s,t)=>{"use strict";t.d(s,{LV:()=>d,bc:()=>l,lt:()=>n,sO:()=>i,wD:()=>c,zm:()=>r});var a=t(9885);function i(e,s={}){const{reconnect:t=!0,reconnectInterval:i=5e3,reconnectAttempts:r=5,heartbeat:n=!0,heartbeatInterval:l=3e4,queue:c=!1}=s,[d,m]=(0,a.useState)(null),[x,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)(null),g=(0,a.useRef)(null),j=(0,a.useRef)(0),y=(0,a.useRef)(null),f=(0,a.useRef)(null),v=(0,a.useRef)(null),N=(0,a.useCallback)((()=>{y.current&&(clearInterval(y.current),y.current=null),f.current&&(clearTimeout(f.current),f.current=null)}),[]),b=(0,a.useCallback)((()=>{n&&g.current&&(y.current=setInterval((()=>{g.current?.readyState===WebSocket.OPEN&&g.current.send(JSON.stringify({type:"ping"}))}),l))}),[n,l]),w=(0,a.useCallback)((()=>{try{const a="https:"===window.location.protocol?"wss:":"ws:",n=window.location.host,l=e.startsWith("/")?`${a}//${n}${e}`:e;g.current=new WebSocket(l),g.current.onopen=()=>{u(!0),p(null),j.current=0,b()},g.current.onmessage=e=>{try{const t=JSON.parse(e.data);"pong"!==t.type&&(s.queue?o.enqueue(t):m(t))}catch(t){const a=e.data;s.queue?o.enqueue(a):m(a)}},g.current.onerror=e=>{p(new Error("WebSocket error"))},g.current.onclose=()=>{u(!1),N(),t&&j.current<r&&(j.current++,f.current=setTimeout((()=>{w()}),i))}}catch(a){p(a)}}),[e,t,i,r,b,N]),k=(0,a.useCallback)((e=>{g.current?.readyState===WebSocket.OPEN&&g.current.send("string"===typeof e?e:JSON.stringify(e))}),[]),S=(0,a.useCallback)((()=>{N(),j.current=r,g.current?.close()}),[r,N]),C=(0,a.useCallback)((()=>{j.current=0,S(),setTimeout(w,100)}),[S,w]);return(0,a.useEffect)((()=>(w(),c&&(v.current=o.subscribe((e=>{m(e)}))),()=>{N(),g.current?.close(),v.current&&(v.current(),v.current=null)})),[w,N,c]),{data:d,isConnected:x,error:h,send:k,close:S,reconnect:C}}function r(){return i("/api/ws/monitoring",{heartbeatInterval:2e4})}function n(){return i("/api/ws/network/topology",{heartbeatInterval:15e3,reconnectAttempts:8})}function l(){return i("/api/ws/network/bandwidth",{heartbeatInterval:5e3,reconnectAttempts:12})}function c(){return i("/api/ws/ai/predictions",{heartbeatInterval:3e4,reconnectAttempts:6})}function d(){return i("/api/ws/fabric/global",{heartbeatInterval:2e4,reconnectAttempts:10})}new class{getConnection(e){if(this.connections.has(e))return this.connections.get(e)||null;if(this.connections.size>=this.maxConnections){const e=this.connections.keys().next().value,s=this.connections.get(e);s&&(s.close(),this.connections.delete(e))}try{const s=new WebSocket(e);return this.connections.set(e,s),s}catch{return null}}closeConnection(e){const s=this.connections.get(e);s&&(s.close(),this.connections.delete(e))}closeAllConnections(){this.connections.forEach((e=>e.close())),this.connections.clear()}constructor(){this.connections=new Map,this.maxConnections=10}};const o=new class{start(){this.processor||(this.processor=setInterval((()=>{this.processQueue()}),this.processingInterval))}stop(){this.processor&&(clearInterval(this.processor),this.processor=null)}enqueue(e){0!==this.subscribers.length&&(this.queue.push({timestamp:Date.now(),data:e}),this.queue.length>this.maxSize&&this.queue.shift())}processQueue(){if(0===this.queue.length||0===this.subscribers.length)return;this.queue.splice(0,Math.min(10,this.queue.length)).forEach((({data:e})=>{this.subscribers.forEach((s=>s(e)))}))}subscribe(e){return this.subscribers.push(e),1!==this.subscribers.length||this.processor||this.start(),()=>{const s=this.subscribers.indexOf(e);s>-1&&this.subscribers.splice(s,1),0===this.subscribers.length&&this.stop()}}constructor(){this.queue=[],this.maxSize=1e3,this.processingInterval=100,this.processor=null,this.subscribers=[]}}},5171:(e,s,t)=>{"use strict";t.d(s,{Uo:()=>n,f:()=>l});var a=t(30784),i=t(9885),r=t(94571);function n({children:e,delay:s=0,duration:t=.5,className:i=""}){return a.jsx(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:s,duration:t},className:i,children:e})}function l({value:e,duration:s=1e3,suffix:t=""}){const[r,n]=(0,i.useState)(0);return(0,i.useEffect)((()=>{if("number"!==typeof e||isNaN(e))return void n(0);const t=e,a=t/(s/16);let i=0;const r=setInterval((()=>{i+=a,i>=t?(n(t),clearInterval(r)):n(Math.floor(i))}),16);return()=>clearInterval(r)}),[e,s]),(0,a.jsxs)("span",{children:[r,t]})}},91904:(e,s,t)=>{"use strict";t.d(s,{R1:()=>n,sg:()=>l,x1:()=>a});const a=new class{constructor(){this.token=null,this.baseURL=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8090",this.wsURL=process.env.NEXT_PUBLIC_WS_URL||"ws://localhost:8091"}setToken(e){this.token=e}clearToken(){this.token=null}async request(e,s={}){const t=`${this.baseURL}${e}`,a={"Content-Type":"application/json",...s.headers||{}};this.token&&(a.Authorization=`Bearer ${this.token}`);const i=await fetch(t,{...s,headers:a});if(!i.ok){const e=await i.text();throw new Error(`API Error: ${i.status} - ${e}`)}return 204===i.status?{}:i.json()}async get(e){return this.request(e,{method:"GET"})}async post(e,s){return this.request(e,{method:"POST",body:s?JSON.stringify(s):null})}async put(e,s){return this.request(e,{method:"PUT",body:s?JSON.stringify(s):null})}async delete(e){return this.request(e,{method:"DELETE"})}connectWebSocket(e){try{const s=`${this.wsURL}${e}`,t=new WebSocket(s);return this.token&&t.addEventListener("open",(()=>{t.send(JSON.stringify({type:"auth",token:this.token}))})),t}catch(s){return console.error("Failed to create WebSocket connection:",s),null}}},i=process.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:8090/api/v1";class r extends Error{constructor(e,s,t,a){super(t),this.status=e,this.code=s,this.url=a}}async function n(e,s,t){try{const a=function(e,s){const t=new URL(e,i),a=new URLSearchParams;if(s)for(const[i,r]of Object.entries(s))void 0!==r&&null!==r&&""!==r&&a.set(i,String(r));return t.search=a.toString(),t.toString()}(e,s),n=t?.role??"viewer",l=await fetch(a,{method:"GET",headers:{Accept:"application/json","X-Role":n},credentials:"include"});if(!l.ok)return{data:null,error:{code:`HTTP_${l.status}`,message:l.statusText}};const c=await l.json(),d=function(e){const s=e.headers.get("X-Pagination");if(s)try{return JSON.parse(s)}catch{return}}(l);if(d&&(c.pagination=d),c.error)throw new r(l.status,c.error.code,c.error.message,a);return c}catch(a){return{data:null,error:{code:"FETCH_ERROR",message:a instanceof Error?a.message:"Unknown error"}}}}async function l(e,s,t){const a=new URL(e,i).toString(),n=t?.role??"viewer",l=await fetch(a,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Role":n},body:void 0!==s?JSON.stringify(s):void 0,credentials:"include"}),c=await l.json();if(c.error)throw new r(l.status,c.error.code,c.error.message,a);return c}},74676:(e,s,t)=>{"use strict";t.d(s,{D0:()=>C,FC:()=>w,GB:()=>S,Io:()=>y,LL:()=>M,O2:()=>j,Pr:()=>k,UV:()=>g,Yy:()=>Z,aB:()=>b,hT:()=>f,k7:()=>v,oi:()=>_,rS:()=>p,zR:()=>N});var a=t(53993),i=t(212),r=t(30012),n=t(91904);const l="/admin/users",c="/admin/audit-logs",d="/admin/system/metrics",o="/admin/security/alerts",m="/admin/system/config",x="/admin/resource-quotas",u="/admin/vm-templates",h="/admin/reports/performance",p={USERS:["admin","users"],USER_SESSIONS:e=>["admin","user-sessions",e],AUDIT_LOGS:["admin","audit-logs"],SYSTEM_METRICS:["admin","system-metrics"],SECURITY_ALERTS:["admin","security-alerts"],SYSTEM_CONFIG:["admin","system-config"],RESOURCE_QUOTAS:["admin","resource-quotas"],VM_TEMPLATES:["admin","vm-templates"],PERFORMANCE_REPORTS:["admin","performance-reports"]},g=e=>(0,a.a)({queryKey:[...p.USERS,e],queryFn:async()=>{const s=new URLSearchParams;e?.status&&s.append("status",e.status),e?.role&&s.append("role",e.role),e?.search&&s.append("search",e.search),e?.page&&s.append("page",e.page.toString()),e?.pageSize&&s.append("pageSize",e.pageSize.toString());return await n.x1.get(`${l}?${s.toString()}`)},staleTime:3e4,refetchInterval:6e4}),j=()=>{const e=(0,i.NL)();return(0,r.D)({mutationFn:async e=>n.x1.post(l,e),onSuccess:()=>{e.invalidateQueries({queryKey:p.USERS})}})},y=()=>{const e=(0,i.NL)();return(0,r.D)({mutationFn:async({id:e,...s})=>n.x1.put(`${l}/${e}`,s),onSuccess:()=>{e.invalidateQueries({queryKey:p.USERS})}})},f=e=>(0,a.a)({queryKey:[...p.AUDIT_LOGS,e],queryFn:async()=>{const s=new URLSearchParams;return e?.userId&&s.append("userId",e.userId),e?.action&&s.append("action",e.action),e?.resourceType&&s.append("resourceType",e.resourceType),e?.startDate&&s.append("startDate",e.startDate),e?.endDate&&s.append("endDate",e.endDate),e?.page&&s.append("page",e.page.toString()),e?.pageSize&&s.append("pageSize",e.pageSize.toString()),n.x1.get(`${c}?${s.toString()}`)},staleTime:6e4}),v=e=>(0,a.a)({queryKey:[...p.SYSTEM_METRICS,e],queryFn:async()=>{const s=e?`?range=${e}`:"";return n.x1.get(`${d}${s}`)},staleTime:3e4,refetchInterval:3e4}),N=e=>(0,a.a)({queryKey:[...p.SECURITY_ALERTS,e],queryFn:async()=>{const s=new URLSearchParams;return e?.status&&s.append("status",e.status),e?.severity&&s.append("severity",e.severity),e?.type&&s.append("type",e.type),e?.page&&s.append("page",e.page.toString()),e?.pageSize&&s.append("pageSize",e.pageSize.toString()),n.x1.get(`${o}?${s.toString()}`)},staleTime:3e4,refetchInterval:6e4}),b=()=>{const e=(0,i.NL)();return(0,r.D)({mutationFn:async({id:e,...s})=>n.x1.put(`${o}/${e}`,s),onSuccess:()=>{e.invalidateQueries({queryKey:p.SECURITY_ALERTS})}})},w=()=>{const e=(0,i.NL)();return(0,r.D)({mutationFn:async({key:e,value:s,category:t})=>n.x1.put(`${m}/${e}`,{value:s,category:t}),onSuccess:()=>{e.invalidateQueries({queryKey:p.SYSTEM_CONFIG})}})},k=()=>{const e=(0,i.NL)();return(0,r.D)({mutationFn:async({id:e,...s})=>n.x1.put(`${x}/${e}`,s),onSuccess:()=>{e.invalidateQueries({queryKey:p.RESOURCE_QUOTAS})}})},S=()=>(0,a.a)({queryKey:p.VM_TEMPLATES,queryFn:async()=>n.x1.get(u),staleTime:3e5}),C=()=>{const e=(0,i.NL)();return(0,r.D)({mutationFn:async e=>n.x1.post(u,e),onSuccess:()=>{e.invalidateQueries({queryKey:p.VM_TEMPLATES})}})},Z=()=>{const e=(0,i.NL)();return(0,r.D)({mutationFn:async e=>n.x1.delete(`${u}/${e}`),onSuccess:()=>{e.invalidateQueries({queryKey:p.VM_TEMPLATES})}})},_=e=>(0,a.a)({queryKey:[...p.PERFORMANCE_REPORTS,e],queryFn:async()=>{const s=e?`?type=${e}`:"";return n.x1.get(`${h}${s}`)},staleTime:6e5}),M=()=>{const e=(0,i.NL)();return(0,r.D)({mutationFn:async({userIds:e,operation:s,data:t})=>n.x1.post(`${l}/bulk`,{userIds:e,operation:s,data:t}),onSuccess:()=>{e.invalidateQueries({queryKey:p.USERS}),e.invalidateQueries({queryKey:p.AUDIT_LOGS})}})}},39862:(e,s,t)=>{"use strict";function a({children:e}){return e}t.r(s),t.d(s,{default:()=>a})},90881:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>r,__esModule:()=>i,default:()=>c,dynamic:()=>l});const a=(0,t(95153).createProxy)(String.raw`/home/kp/novacron/frontend/src/app/admin/page.tsx`),{__esModule:i,$$typeof:r}=a,n=a.default,l=a.dynamic,c=n},30569:(e,s,t)=>{"use strict";t.d(s,{M:()=>g});var a=t(9885),i=t(60381);function r(){const e=(0,a.useRef)(!1);return(0,i.L)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}var n=t(89195);var l=t(19386),c=t(34349);class d extends a.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const e=this.props.sizeRef.current;e.height=s.offsetHeight||0,e.width=s.offsetWidth||0,e.top=s.offsetTop,e.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function o({children:e,isPresent:s}){const t=(0,a.useId)(),i=(0,a.useRef)(null),r=(0,a.useRef)({width:0,height:0,top:0,left:0});return(0,a.useInsertionEffect)((()=>{const{width:e,height:a,top:n,left:l}=r.current;if(s||!i.current||!e||!a)return;i.current.dataset.motionPopId=t;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`\n          [data-motion-pop-id="${t}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${a}px !important;\n            top: ${n}px !important;\n            left: ${l}px !important;\n          }\n        `),()=>{document.head.removeChild(c)}}),[s]),a.createElement(d,{isPresent:s,childRef:i,sizeRef:r},a.cloneElement(e,{ref:i}))}const m=({children:e,initial:s,isPresent:t,onExitComplete:i,custom:r,presenceAffectsLayout:n,mode:d})=>{const m=(0,c.h)(x),u=(0,a.useId)(),h=(0,a.useMemo)((()=>({id:u,initial:s,isPresent:t,custom:r,onExitComplete:e=>{m.set(e,!0);for(const s of m.values())if(!s)return;i&&i()},register:e=>(m.set(e,!1),()=>m.delete(e))})),n?void 0:[t]);return(0,a.useMemo)((()=>{m.forEach(((e,s)=>m.set(s,!1)))}),[t]),a.useEffect((()=>{!t&&!m.size&&i&&i()}),[t]),"popLayout"===d&&(e=a.createElement(o,{isPresent:t},e)),a.createElement(l.O.Provider,{value:h},e)};function x(){return new Map}var u=t(78549);var h=t(47279);const p=e=>e.key||"";const g=({children:e,custom:s,initial:t=!0,onExitComplete:l,exitBeforeEnter:c,presenceAffectsLayout:d=!0,mode:o="sync"})=>{(0,h.k)(!c,"Replace exitBeforeEnter with mode='wait'");const x=(0,a.useContext)(u.p).forceRender||function(){const e=r(),[s,t]=(0,a.useState)(0),i=(0,a.useCallback)((()=>{e.current&&t(s+1)}),[s]);return[(0,a.useCallback)((()=>n.Wi.postRender(i)),[i]),s]}()[0],g=r(),j=function(e){const s=[];return a.Children.forEach(e,(e=>{(0,a.isValidElement)(e)&&s.push(e)})),s}(e);let y=j;const f=(0,a.useRef)(new Map).current,v=(0,a.useRef)(y),N=(0,a.useRef)(new Map).current,b=(0,a.useRef)(!0);var w;if((0,i.L)((()=>{b.current=!1,function(e,s){e.forEach((e=>{const t=p(e);s.set(t,e)}))}(j,N),v.current=y})),w=()=>{b.current=!0,N.clear(),f.clear()},(0,a.useEffect)((()=>()=>w()),[]),b.current)return a.createElement(a.Fragment,null,y.map((e=>a.createElement(m,{key:p(e),isPresent:!0,initial:!!t&&void 0,presenceAffectsLayout:d,mode:o},e))));y=[...y];const k=v.current.map(p),S=j.map(p),C=k.length;for(let a=0;a<C;a++){const e=k[a];-1!==S.indexOf(e)||f.has(e)||f.set(e,void 0)}return"wait"===o&&f.size&&(y=[]),f.forEach(((e,t)=>{if(-1!==S.indexOf(t))return;const i=N.get(t);if(!i)return;const r=k.indexOf(t);let n=e;if(!n){const e=()=>{f.delete(t);const e=Array.from(N.keys()).filter((e=>!S.includes(e)));if(e.forEach((e=>N.delete(e))),v.current=j.filter((s=>{const a=p(s);return a===t||e.includes(a)})),!f.size){if(!1===g.current)return;x(),l&&l()}};n=a.createElement(m,{key:p(i),isPresent:!1,onExitComplete:e,custom:s,presenceAffectsLayout:d,mode:o},i),f.set(t,n)}y.splice(r,0,n)})),y=y.map((e=>{const s=e.key;return f.has(s)?e:a.createElement(m,{key:p(e),isPresent:!0,presenceAffectsLayout:d,mode:o},e)})),a.createElement(a.Fragment,null,f.size?y:y.map((e=>(0,a.cloneElement)(e))))}}};var s=require("../../webpack-runtime.js");s.C(e);var t=s.X(0,[8559,1806,6723,1284,433,3606,1915,8028,9989,1578,3993,5254,3195,12,1719,1440,4918,6009,2473,8443,4590,4408,2280,4062,7730,8856,2658,781,1730],(()=>{return e=54102,s(s.s=e);var e}));module.exports=t})();