(()=>{var e={id:5738,ids:[5738]};e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3069:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.ZP,__next_app__:()=>m,originalPathname:()=>o,pages:()=>d,routeModule:()=>x,tree:()=>c});var a=s(7096),r=s(6132),n=s(8658),l=s(2564),i={};for(const u in l)["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(u)<0&&(i[u]=()=>l[u]);s.d(t,i);const c=["",{children:["monitoring",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1471)),"/home/kp/novacron/frontend/src/app/monitoring/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6771)),"/home/kp/novacron/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],d=["/home/kp/novacron/frontend/src/app/monitoring/page.tsx"],o="/monitoring/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/monitoring/page",pathname:"/monitoring",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6877:(e,t,s)=>{Promise.resolve().then(s.bind(s,3589))},3589:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>ne,dynamic:()=>re});var a=s(784),r=s(9885),n=s.n(r),l=s(3993),i=s(6618),c=s(622),d=s(3223),o=s(8381),m=s(8571),x=s(9048),u=s(7040),h=s(3342),g=s(7133),p=s(6847),f=s(5304),v=s(1831),j=s(4409),b=s(4253),y=s(5441),w=s(644),N=s(9423),k=s(1279),S=s(8394),M=s(8012),Z=s(3475),C=s(9815),I=s(2875),D=s(173),T=s(9748),A=s(7950),O=s(6589);const V=["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],P=({data:e,title:t,description:s,colorScale:r=V,xAxisLabel:n="Time",yAxisLabel:l="Resource"})=>{const i=Array.from(new Set(e.map((e=>e.resourceId)))).sort(),c=Array.from(new Set(e.map((e=>e.timestamp)))).sort(),d=e.map((e=>e.value)),m=Math.min(...d),x=Math.max(...d),h=e=>{const t=(e-m)/(x-m),s=Math.min(Math.floor(t*r.length),r.length-1);return r[s]},g=e=>(0,o.Z)(new Date(e),"HH:mm"),p=100/c.length;return(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{children:[a.jsx(u.ll,{children:t}),s&&a.jsx("p",{className:"text-sm text-muted-foreground",children:s})]}),a.jsx(u.aY,{children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("div",{className:"min-w-max",children:[(0,a.jsxs)("div",{className:"flex mb-2",children:[a.jsx("div",{className:"w-24 flex-shrink-0"}),a.jsx("div",{className:"flex-grow text-center text-sm font-medium text-muted-foreground",children:n})]}),(0,a.jsxs)("div",{className:"flex mb-2",children:[a.jsx("div",{className:"w-24 flex-shrink-0 text-right pr-2 text-sm font-medium text-muted-foreground",children:l}),a.jsx("div",{className:"flex-grow flex",children:c.map(((e,t)=>a.jsx("div",{className:"text-xs text-center",style:{width:`${p}%`},children:g(e)},`timestamp-${t}`)))})]}),a.jsx("div",{children:i.map(((t,s)=>(0,a.jsxs)("div",{className:"flex mb-1",children:[a.jsx("div",{className:"w-24 flex-shrink-0 text-right pr-2 text-xs truncate",title:t,children:t}),a.jsx("div",{className:"flex-grow flex",children:c.map(((r,n)=>{const l=e.find((e=>e.resourceId===t&&e.timestamp===r)),i=l?l.value:0;return a.jsx("div",{className:"border border-gray-100 dark:border-gray-800 rounded-sm",style:{width:`${p}%`,height:"30px",backgroundColor:h(i),cursor:"pointer"},title:`${t}: ${i.toFixed(2)} at ${g(r)}`},`cell-${s}-${n}`)}))})]},`resource-${s}`)))}),(0,a.jsxs)("div",{className:"mt-4 flex items-center",children:[a.jsx("span",{className:"text-xs mr-2",children:"Low"}),a.jsx("div",{className:"flex h-2",children:r.map(((e,t)=>a.jsx("div",{style:{backgroundColor:e,width:"20px",height:"100%"}},`legend-${t}`)))}),a.jsx("span",{className:"text-xs ml-2",children:"High"})]})]})})})]})},U=({data:e,title:t="Network Topology",description:s,height:l=400,onNodeClick:i,onEdgeClick:c})=>{const d=(0,r.useRef)(null),[o,m]=n().useState("force"),[x,h]=n().useState(null);return(0,r.useEffect)((()=>{if(!d.current||!e.nodes.length)return;const t=d.current,s=t.getContext("2d");if(!s)return;t.width=t.clientWidth,t.height=t.clientHeight;const a=new Map;e.nodes.forEach((e=>{a.set(e.id,{x:Math.random()*t.width,y:Math.random()*t.height,vx:0,vy:0})}));const r={vm:"#4f46e5",host:"#0891b2",storage:"#7c3aed",network:"#2563eb",service:"#059669"},n={healthy:"#10b981",warning:"#f59e0b",error:"#ef4444",unknown:"#6b7280"},l={network:"rgba(37, 99, 235, 0.5)",storage:"rgba(124, 58, 237, 0.5)",dependency:"rgba(156, 163, 175, 0.5)"},o=()=>{s.clearRect(0,0,t.width,t.height);for(let s=0;s<10;s++)e.nodes.forEach((t=>{e.nodes.forEach((e=>{if(t.id===e.id)return;const s=a.get(t.id),r=a.get(e.id),n=r.x-s.x,l=r.y-s.y,i=Math.sqrt(n*n+l*l);if(0===i)return;const c=1e3/(i*i),d=n/i*c,o=l/i*c;s.vx-=d,s.vy-=o,r.vx+=d,r.vy+=o}))})),e.edges.forEach((e=>{const t=a.get(e.source),s=a.get(e.target),r=s.x-t.x,n=s.y-t.y,l=Math.sqrt(r*r+n*n);if(0===l)return;const i=.01*(l-100),c=r/l*i,d=n/l*i;t.vx+=c,t.vy+=d,s.vx-=c,s.vy-=d})),a.forEach((e=>{e.x+=.1*e.vx,e.y+=.1*e.vy,e.vx*=.9,e.vy*=.9,e.x=Math.max(50,Math.min(t.width-50,e.x)),e.y=Math.max(50,Math.min(t.height-50,e.y))}));e.edges.forEach((e=>{const t=a.get(e.source),r=a.get(e.target);t&&r&&((e,t,a)=>{if(s.beginPath(),s.moveTo(t.x,t.y),s.lineTo(a.x,a.y),s.strokeStyle=l[e.type],s.lineWidth=e.metrics?.bandwidth?Math.max(1,Math.min(5,e.metrics.bandwidth/20)):1,"dependency"===e.type?s.setLineDash([5,3]):s.setLineDash([]),s.stroke(),s.setLineDash([]),e.metrics?.latency){const r=(t.x+a.x)/2,n=(t.y+a.y)/2;s.font="9px sans-serif",s.fillStyle="#6b7280",s.textAlign="center",s.textBaseline="middle",s.fillText(`${e.metrics.latency.toFixed(1)}ms`,r,n-8)}})(e,t,r)})),e.nodes.forEach((e=>{const t=a.get(e.id);t&&((e,t)=>{const a="host"===e.type?15:10;s.beginPath(),s.arc(t.x,t.y,a,0,2*Math.PI),s.fillStyle=r[e.type],s.fill(),s.beginPath(),s.arc(t.x,t.y,a+3,0,2*Math.PI),s.strokeStyle=n[e.status],s.lineWidth=2,s.stroke(),s.font="10px sans-serif",s.fillStyle="#ffffff",s.textAlign="center",s.textBaseline="middle",s.fillText(e.name.substring(0,2),t.x,t.y),s.font="10px sans-serif",s.fillStyle="#374151",s.textAlign="center",s.textBaseline="top",s.fillText(e.name,t.x,t.y+a+5)})(e,t)})),requestAnimationFrame(o)};o();const m=s=>{const r=t.getBoundingClientRect(),n=s.clientX-r.left,l=s.clientY-r.top;for(const t of e.nodes){const e=a.get(t.id);if(!e)continue;if(Math.sqrt(Math.pow(e.x-n,2)+Math.pow(e.y-l,2))<=15)return void(i&&i(t))}for(const t of e.edges){const e=a.get(t.source),s=a.get(t.target);if(!e||!s)continue;const r=n-e.x,i=l-e.y,d=s.x-e.x,o=s.y-e.y,m=r*d+i*o,x=d*d+o*o;let u,h,g=-1;0!==x&&(g=m/x),g<0?(u=e.x,h=e.y):g>1?(u=s.x,h=s.y):(u=e.x+g*d,h=e.y+g*o);const p=n-u,f=l-h;if(Math.sqrt(p*p+f*f)<=5)return void(c&&c(t))}};return t.addEventListener("click",m),()=>{t.removeEventListener("click",m)}}),[e,o,i,c]),(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsxs)("div",{children:[a.jsx(u.ll,{children:t}),s&&a.jsx("p",{className:"text-sm text-muted-foreground",children:s})]}),(0,a.jsxs)(A.Ph,{value:o,onValueChange:m,children:[a.jsx(A.i4,{className:"w-[180px]",children:a.jsx(A.ki,{placeholder:"Layout Type"})}),(0,a.jsxs)(A.Bw,{children:[a.jsx(A.Ql,{value:"force",children:"Force-Directed"}),a.jsx(A.Ql,{value:"circular",children:"Circular"}),a.jsx(A.Ql,{value:"hierarchical",children:"Hierarchical"})]})]})]}),(0,a.jsxs)(u.aY,{children:[a.jsx("div",{className:"relative",style:{height:`${l}px`},children:a.jsx("canvas",{ref:d,className:"w-full h-full",style:{touchAction:"none"}})}),(0,a.jsxs)("div",{className:"flex justify-center mt-4 space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#4f46e5] mr-2"}),a.jsx("span",{className:"text-xs",children:"VM"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#0891b2] mr-2"}),a.jsx("span",{className:"text-xs",children:"Host"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#7c3aed] mr-2"}),a.jsx("span",{className:"text-xs",children:"Storage"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#2563eb] mr-2"}),a.jsx("span",{className:"text-xs",children:"Network"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-[#059669] mr-2"}),a.jsx("span",{className:"text-xs",children:"Service"})]})]})]})]})};var B=s(3709);const $=({title:e,description:t,historicalData:s,predictedData:r,metricName:n,metricUnit:l,anomalies:i=[],timeGranularity:c="hourly"})=>{const x=e=>{const t=new Date(e);return"hourly"===c?(0,o.Z)(t,"HH:mm"):(0,o.Z)(t,"MMM dd")},h={labels:[...s.map((e=>x(e.timestamp))),...(()=>{const e=new Date(s[s.length-1].timestamp),t=[];for(let s=0;s<r.length;s++){const a="hourly"===c?(0,m.Z)(e,s+1):(0,B.Z)(e,s+1);t.push(x(a.toISOString()))}return t})()],datasets:[{label:`Historical ${n}`,data:[...s.map((e=>e.value)),...Array(r.length).fill(null)],borderColor:"rgba(59, 130, 246, 1)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,pointRadius:3,pointBackgroundColor:"rgba(59, 130, 246, 1)",tension:.4,fill:!1},{label:`Predicted ${n}`,data:[...Array(s.length).fill(null),...r.map((e=>e.value))],borderColor:"rgba(139, 92, 246, 1)",backgroundColor:"rgba(139, 92, 246, 0.1)",borderWidth:2,borderDash:[5,5],pointRadius:3,pointBackgroundColor:"rgba(139, 92, 246, 1)",tension:.4,fill:!1},{label:"Upper Bound",data:[...Array(s.length).fill(null),...r.map((e=>e.upperBound||null))],borderColor:"rgba(139, 92, 246, 0.3)",backgroundColor:"rgba(139, 92, 246, 0.1)",borderWidth:1,pointRadius:0,fill:"+1",tension:.4},{label:"Lower Bound",data:[...Array(s.length).fill(null),...r.map((e=>e.lowerBound||null))],borderColor:"rgba(139, 92, 246, 0.3)",backgroundColor:"rgba(139, 92, 246, 0.1)",borderWidth:1,pointRadius:0,fill:!1,tension:.4},{label:"Anomalies",data:i.map((e=>{const t=[...s,...r].findIndex((t=>t.timestamp===e.timestamp));return t>=0?[...s,...r][t].value:null})),borderColor:"rgba(239, 68, 68, 1)",backgroundColor:"rgba(239, 68, 68, 1)",borderWidth:0,pointRadius:6,pointStyle:"triangle",pointRotation:180,showLine:!1}]},p={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{boxWidth:12,usePointStyle:!0}},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(e){return`${e.dataset.label||""}: ${null!==e.parsed.y?`${e.parsed.y.toFixed(2)} ${l}`:"No data"}`},afterBody:function(e){e[0].dataIndex;const t=e[0].label,s=i.find((e=>x(e.timestamp)===t));return s?[`Anomaly: ${s.message}`]:[]}}}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:45}},y:{beginAtZero:!1,title:{display:!0,text:l},grid:{color:"rgba(156, 163, 175, 0.1)"}}},interaction:{mode:"nearest",axis:"x",intersect:!1}},f=(()=>{if(!r.some((e=>e.upperBound&&e.lowerBound)))return null;const e=r.filter((e=>e.upperBound&&e.lowerBound)).map((e=>(e.upperBound-e.lowerBound)/e.value)),t=e.reduce(((e,t)=>e+t),0)/e.length,s=Math.max(0,Math.min(100,100-50*t));return Math.round(s)})();return(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsxs)("div",{children:[a.jsx(u.ll,{children:e}),t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:t})]}),null!==f&&(0,a.jsxs)(g.C,{variant:"outline",className:"flex items-center gap-1",children:[a.jsx(b.Z,{className:"h-3 w-3"}),(0,a.jsxs)("span",{children:["Prediction Accuracy: ",f,"%"]})]})]}),(0,a.jsxs)(u.aY,{children:[a.jsx("div",{className:"h-80",children:a.jsx(d.x1,{data:h,options:p})}),(0,a.jsxs)("div",{className:"mt-4",children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:"Insights"}),(0,a.jsxs)("div",{className:"space-y-2",children:[r.length>0&&(0,a.jsxs)("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"Forecast: "}),r[r.length-1].value>s[s.length-1].value?`${n} is predicted to increase by ${(100*(r[r.length-1].value/s[s.length-1].value-1)).toFixed(1)}% in the next ${"hourly"===c?"hours":"days"}.`:`${n} is predicted to decrease by ${(100*(1-r[r.length-1].value/s[s.length-1].value)).toFixed(1)}% in the next ${"hourly"===c?"hours":"days"}.`]}),i.length>0&&(0,a.jsxs)("div",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:"Anomalies: "}),`Detected ${i.length} anomalies in the data.`]})]})]})]})]})},R=({data:e,title:t="Resource Utilization",description:s,height:l=400,colorMode:i="value",valueFormat:c=(e=>`${e.toFixed(1)}%`),onNodeClick:d})=>{const o=(0,r.useRef)(null),[m,x]=n().useState("usage"),h=["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],g={vm:"#4f46e5",host:"#0891b2",storage:"#7c3aed",network:"#2563eb",service:"#059669",default:"#6b7280"},p=(e,t,s)=>{const a=s>t?(e-t)/(s-t):.5,r=Math.min(Math.floor(a*h.length),h.length-1);return h[r]},f=e=>{const t=(e.id+e.name).toLowerCase();for(const[s,a]of Object.entries(g))if(t.includes(s))return a;return g.default},v=e=>{const t=[e];return e.children&&e.children.forEach((e=>{t.push(...v(e))})),t},j=(e,t,s,a,r,n,l)=>{if(!e.children||0===e.children.length)return{...e,x0:t,y0:s,x1:a,y1:r,color:e.color||("value"===i?p(e.value,n,l):f(e)),children:void 0};const c=e.children.reduce(((e,t)=>e+t.value),0),d=[...e.children].sort(((e,t)=>t.value-e.value));let o=t,m=s;const x=a-t,u=r-s,h=x>u,g=d.map((e=>{const i=e.value/c*(h?x:u);let d,g,p,f;return h?(d=o,g=s,p=o+i,f=r,o+=i):(d=t,g=m,p=a,f=m+i,m+=i),j(e,d,g,p,f,n,l)}));return{...e,x0:t,y0:s,x1:a,y1:r,children:g,color:e.color||("value"===i?p(e.value,n,l):f(e))}};return(0,r.useEffect)((()=>{if(!o.current||!e)return;const t=o.current,s=t.getContext("2d");if(!s)return;t.width=t.clientWidth,t.height=t.clientHeight;const a=v(e).map((e=>e.value)),r=Math.min(...a),n=Math.max(...a),l=j(e,0,0,t.width,t.height,r,n),i=(e,t=0)=>{s.fillStyle=e.color,s.fillRect(e.x0+2,e.y0+2,e.x1-e.x0-4,e.y1-e.y0-4),s.strokeStyle="#ffffff",s.lineWidth=1,s.strokeRect(e.x0+2,e.y0+2,e.x1-e.x0-4,e.y1-e.y0-4);const a=e.x1-e.x0,r=e.y1-e.y0;if(a>60&&r>30){const t=Math.min(14,Math.max(10,Math.floor(a/10)));s.font=`${t}px sans-serif`,s.fillStyle="#ffffff",s.textAlign="center",s.textBaseline="middle";const r=(e.x0+e.x1)/2,n=(e.y0+e.y1)/2-t/2;s.fillText(e.name,r,n,a-8),s.font=t-2+"px sans-serif",s.fillText(c(e.value),r,n+t,a-8)}e.children&&e.children.forEach((e=>{i(e,t+1)}))};s.clearRect(0,0,t.width,t.height),i(l);const m=e=>{const s=t.getBoundingClientRect(),a=e.clientX-s.left,r=e.clientY-s.top,n=e=>{if(a>=e.x0&&a<=e.x1&&r>=e.y0&&r<=e.y1){if(e.children)for(const t of e.children){const e=n(t);if(e)return e}return e}return null},i=n(l);if(i&&d){const e={id:i.id,name:i.name,value:i.value,children:i.children?.map((e=>({id:e.id,name:e.name,value:e.value})))};d(e)}};return t.addEventListener("click",m),()=>{t.removeEventListener("click",m)}}),[e,i,c,d]),(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsxs)("div",{children:[a.jsx(u.ll,{children:t}),s&&a.jsx("p",{className:"text-sm text-muted-foreground",children:s})]}),(0,a.jsxs)(A.Ph,{value:m,onValueChange:x,children:[a.jsx(A.i4,{className:"w-[180px]",children:a.jsx(A.ki,{placeholder:"Metric"})}),(0,a.jsxs)(A.Bw,{children:[a.jsx(A.Ql,{value:"usage",children:"Usage %"}),a.jsx(A.Ql,{value:"iops",children:"IOPS"}),a.jsx(A.Ql,{value:"latency",children:"Latency"})]})]})]}),(0,a.jsxs)(u.aY,{children:[a.jsx("div",{className:"relative",style:{height:`${l}px`},children:a.jsx("canvas",{ref:o,className:"w-full h-full"})}),(0,a.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-full h-2 bg-gradient-to-r from-[#f7fbff] to-[#084594] rounded mr-2",style:{width:"100px"}}),a.jsx("span",{className:"text-xs",children:"Resource Utilization"})]}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Click on a section to view details"})]})]})]})};var E=s(9518),L=s(6206),H=s(9458),_=s(1922);const q=({alerts:e,relations:t,onAlertClick:s,onAcknowledge:n})=>{const l=(0,r.useRef)(null),[i,c]=(0,r.useState)(null),[d,m]=(0,r.useState)(""),[x,h]=(0,r.useState)({}),p=e.reduce(((e,t)=>{const s=t.resource||"Unknown";return e[s]||(e[s]=[]),e[s].push(t),e}),{}),w=e=>{switch(e){case"critical":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";case"error":return"text-orange-600 bg-orange-100 dark:bg-orange-900/20 dark:text-orange-400";case"warning":return"text-amber-600 bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400";case"info":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400"}},N=e=>{switch(e){case"critical":case"error":return a.jsx(v.Z,{className:"h-4 w-4"});case"warning":return a.jsx(j.Z,{className:"h-4 w-4"});default:return a.jsx(b.Z,{className:"h-4 w-4"})}},k=e=>{switch(e){case"firing":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";case"acknowledged":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";case"resolved":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400"}},S=e=>{switch(e){case"causes":return"follows";case"follows":return"causes";default:return e}},M=d?e.filter((e=>e.name.toLowerCase().includes(d.toLowerCase())||e.description.toLowerCase().includes(d.toLowerCase())||e.resource.toLowerCase().includes(d.toLowerCase())||Object.entries(e.labels).some((([e,t])=>e.toLowerCase().includes(d.toLowerCase())||t.toLowerCase().includes(d.toLowerCase()))))):e;return(0,r.useEffect)((()=>{if(!l.current||!i)return;const s=l.current,a=s.getContext("2d");if(!a)return;s.width=s.clientWidth,s.height=s.clientHeight,a.clearRect(0,0,s.width,s.height);const r=e.find((e=>e.id===i));if(!r)return;const n=(s=>{const a=[];return t.filter((e=>e.source===s)).forEach((t=>{const s=e.find((e=>e.id===t.target));s&&a.push({alert:s,relation:t})})),t.filter((e=>e.target===s)).forEach((t=>{const s=e.find((e=>e.id===t.source));s&&a.push({alert:s,relation:{...t,type:S(t.type)}})})),a})(i);if(0===n.length)return a.font="14px sans-serif",a.fillStyle="#6b7280",a.textAlign="center",a.textBaseline="middle",void a.fillText("No alert correlations found",s.width/2,s.height/2);const d=s.width/2,o=s.height/2,m=.7*Math.min(d,o);(()=>{a.beginPath(),a.arc(d,o,30,0,2*Math.PI);a.fillStyle={critical:"#ef4444",error:"#f97316",warning:"#f59e0b",info:"#3b82f6"}[r.severity]||"#6b7280",a.fill(),a.font="bold 12px sans-serif",a.fillStyle="#ffffff",a.textAlign="center",a.textBaseline="middle",a.fillText(r.name.substring(0,10),d,o)})(),(()=>{const e=2*Math.PI/n.length;n.forEach(((t,s)=>{const r=s*e,n=d+m*Math.cos(r),l=o+m*Math.sin(r);a.beginPath(),a.moveTo(d,o),a.lineTo(n,l);const i={causes:"#ef4444",follows:"#3b82f6",correlates:"#8b5cf6"};a.strokeStyle=i[t.relation.type]||"#6b7280",a.lineWidth=3*t.relation.confidence+1,a.stroke();const c=n-d,x=l-o,u=Math.sqrt(c*c+x*x),h=c/u,g=x/u,p=d+h*(u-40),f=o+g*(u-40),v=-g,j=h;a.beginPath(),a.moveTo(p,f),a.lineTo(p-10*h+6*v,f-10*g+6*j),a.lineTo(p-10*h-6*v,f-10*g-6*j),a.closePath(),a.fillStyle=i[t.relation.type]||"#6b7280",a.fill(),a.font="10px sans-serif",a.fillStyle="#6b7280",a.textAlign="center",a.textBaseline="middle";const b=d+h*(u/2),y=o+g*(u/2)-10;a.fillText((e=>{switch(e.type){case"causes":return"Likely causes";case"follows":return"Likely effect of";case"correlates":return"Correlated with";default:return"Related to"}})(t.relation),b,y),a.font="9px sans-serif",a.fillText(`${Math.round(100*t.relation.confidence)}%`,b,y+12),a.beginPath(),a.arc(n,l,25,0,2*Math.PI);a.fillStyle={critical:"#ef4444",error:"#f97316",warning:"#f59e0b",info:"#3b82f6"}[t.alert.severity]||"#6b7280",a.fill(),a.font="bold 11px sans-serif",a.fillStyle="#ffffff",a.textAlign="center",a.textBaseline="middle",a.fillText(t.alert.name.substring(0,8),n,l)}))})();const x=e=>{const t=s.getBoundingClientRect(),a=e.clientX-t.left,r=e.clientY-t.top,l=2*Math.PI/n.length;for(let s=0;s<n.length;s++){const e=s*l,t=d+m*Math.cos(e),i=o+m*Math.sin(e);if(Math.sqrt(Math.pow(t-a,2)+Math.pow(i-r,2))<=25){c(n[s].alert.id);break}}};return s.addEventListener("click",x),()=>{s.removeEventListener("click",x)}}),[e,t,i]),(0,a.jsxs)(u.Zb,{className:"h-full",children:[(0,a.jsxs)(u.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(u.ll,{children:"Alert Correlation"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(E.Z,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx("input",{type:"text",placeholder:"Search alerts...",className:"pl-8 h-9 w-[200px] rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",value:d,onChange:e=>m(e.target.value)}),d&&a.jsx("button",{className:"absolute right-2.5 top-2.5 h-4 w-4 text-muted-foreground",onClick:()=>m(""),children:a.jsx(L.Z,{className:"h-4 w-4"})})]})]}),a.jsx(u.aY,{className:"p-0",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 h-full",children:[(0,a.jsxs)("div",{className:"border-r border-border overflow-y-auto",style:{maxHeight:"500px"},children:[Object.entries(p).map((([e,t])=>{const r=t.filter((e=>M.some((t=>t.id===e.id))));return 0===r.length?null:(0,a.jsxs)("div",{className:"border-b border-border last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-muted/50",onClick:()=>(e=>{h((t=>({...t,[e]:!t[e]})))})(e),children:[(0,a.jsxs)("div",{className:"font-medium flex items-center",children:[x[e]?a.jsx(H.Z,{className:"h-4 w-4 mr-1"}):a.jsx(_.Z,{className:"h-4 w-4 mr-1"}),e]}),(0,a.jsxs)(g.C,{variant:"outline",children:[r.length," alert",1!==r.length?"s":""]})]}),x[e]&&a.jsx("div",{className:"pl-4",children:r.map((e=>a.jsx("div",{className:"p-2 border-l-2 mb-1 ml-2 cursor-pointer hover:bg-muted/50 "+(i===e.id?"bg-muted border-primary":`border-transparent ${w(e.severity)}`),onClick:()=>{c(e.id),s&&s(e)},children:(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:N(e.severity)}),(0,a.jsxs)("div",{className:"ml-2 flex-1",children:[a.jsx("h3",{className:"text-sm font-medium",children:e.name}),a.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:a.jsx("p",{children:e.description})}),(0,a.jsxs)("div",{className:"mt-1 flex flex-wrap gap-1",children:[a.jsx(g.C,{variant:"outline",className:k(e.status),children:e.status}),(0,a.jsxs)("span",{className:"text-xs flex items-center text-muted-foreground",children:[a.jsx(y.Z,{className:"h-3 w-3 inline mr-1"}),(0,o.Z)(new Date(e.startTime),"MMM d, HH:mm")]})]})]})]})},e.id)))})]},e)})),0===M.length&&a.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No alerts match your search"})]}),a.jsx("div",{className:"p-4",children:i?(0,a.jsxs)(a.Fragment,{children:[(()=>{const t=e.find((e=>e.id===i));return t?(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:t.name}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:t.description}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[a.jsx(g.C,{variant:"outline",className:w(t.severity),children:t.severity}),a.jsx(g.C,{variant:"outline",className:k(t.status),children:t.status}),(0,a.jsxs)("span",{className:"text-xs flex items-center text-muted-foreground",children:[a.jsx(y.Z,{className:"h-3 w-3 inline mr-1"}),(0,o.Z)(new Date(t.startTime),"MMM d, HH:mm:ss")]})]}),"firing"===t.status&&n&&a.jsx(f.z,{size:"sm",variant:"outline",onClick:()=>n(t.id),className:"mb-3",children:"Acknowledge"}),Object.entries(t.labels).length>0&&(0,a.jsxs)("div",{className:"mb-3",children:[a.jsx("h4",{className:"text-sm font-medium mb-1",children:"Labels"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(t.labels).map((([e,t])=>(0,a.jsxs)(g.C,{variant:"outline",className:"text-xs",children:[e,": ",t]},e)))})]})]}):null})(),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:"Alert Correlation"}),a.jsx("div",{className:"border rounded-md",style:{height:"300px"},children:a.jsx("canvas",{ref:l,className:"w-full h-full"})})]})]}):a.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:"Select an alert to view details and correlations"})})]})})]})};c.kL.register(c.uw,c.f$,c.od,c.jn,c.ZL,c.Dx,c.u,c.De,c.qi);const z=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8090/api",F=process.env.NEXT_PUBLIC_WS_URL||"ws://localhost:8091/ws",W=[{label:"Last 15 minutes",value:"15m",seconds:900},{label:"Last hour",value:"1h",seconds:3600},{label:"Last 6 hours",value:"6h",seconds:21600},{label:"Last 24 hours",value:"24h",seconds:86400},{label:"Last 7 days",value:"7d",seconds:604800}],Y=(e,t=2)=>{if(0===e)return"0 Bytes";const s=t<0?0:t,a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(s))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]},Q=e=>`${Math.round(e)}%`,G=e=>{switch(e){case"critical":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";case"error":return"text-orange-600 bg-orange-100 dark:bg-orange-900/20 dark:text-orange-400";case"warning":return"text-amber-600 bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400";case"info":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400"}},X=e=>{switch(e){case"critical":case"error":return a.jsx(v.Z,{className:"h-4 w-4"});case"warning":return a.jsx(j.Z,{className:"h-4 w-4"});default:return a.jsx(b.Z,{className:"h-4 w-4"})}},K=e=>{switch(e){case"firing":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";case"acknowledged":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";case"resolved":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400"}},J=e=>{switch(e){case"running":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";case"stopped":return"text-amber-600 bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400";case"error":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400"}},ee=({title:e,value:t,icon:s,change:r,sparklineData:n})=>(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(u.ll,{className:"text-sm font-medium",children:e}),a.jsx("div",{className:"h-4 w-4 text-muted-foreground",children:s})]}),(0,a.jsxs)(u.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:t}),void 0!==r&&(0,a.jsxs)("p",{className:"text-xs "+(r>=0?"text-green-500":"text-red-500"),children:[r>0?"+":"",r,"% from last period"]}),n&&a.jsx("div",{className:"h-10 mt-2",children:a.jsx(d.x1,{data:{labels:n.map(((e,t)=>"")),datasets:[{data:n,borderColor:"rgba(59, 130, 246, 0.8)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,pointRadius:0,tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{display:!1},y:{display:!1,min:.8*Math.min(...n),max:1.2*Math.max(...n)}}}})})]})]}),te=({alert:e,onAcknowledge:t})=>a.jsx("div",{className:`p-4 rounded-lg mb-3 ${G(e.severity)}`,children:(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:X(e.severity)}),(0,a.jsxs)("div",{className:"ml-3 flex-1",children:[a.jsx("h3",{className:"text-sm font-medium",children:e.name}),a.jsx("div",{className:"mt-1 text-sm",children:a.jsx("p",{children:e.description})}),(0,a.jsxs)("div",{className:"mt-2 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex space-x-2 text-xs",children:[a.jsx(g.C,{variant:"outline",className:K(e.status),children:e.status}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[a.jsx(y.Z,{className:"h-3 w-3 inline mr-1"}),(0,o.Z)(new Date(e.startTime),"MMM d, HH:mm:ss")]}),a.jsx("span",{className:"text-xs",children:e.resource})]}),"firing"===e.status&&a.jsx(f.z,{size:"sm",variant:"outline",onClick:()=>t(e.id),children:"Acknowledge"})]})]})]})}),se=({vms:e})=>(0,a.jsxs)(O.iA,{children:[a.jsx(O.Rn,{children:"List of monitored virtual machines"}),a.jsx(O.xD,{children:(0,a.jsxs)(O.SC,{children:[a.jsx(O.ss,{children:"Name"}),a.jsx(O.ss,{children:"Status"}),a.jsx(O.ss,{children:"CPU"}),a.jsx(O.ss,{children:"Memory"}),a.jsx(O.ss,{children:"Disk"}),a.jsx(O.ss,{children:"Network"}),a.jsx(O.ss,{children:"IOPS"})]})}),a.jsx(O.RM,{children:e.map((e=>(0,a.jsxs)(O.SC,{children:[a.jsx(O.pj,{className:"font-medium",children:e.name}),a.jsx(O.pj,{children:a.jsx(g.C,{variant:"outline",className:J(e.status),children:e.status})}),a.jsx(O.pj,{children:(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm",children:Q(e.cpuUsage)}),a.jsx(p.E,{value:e.cpuUsage,className:"h-1 w-24"})]})}),a.jsx(O.pj,{children:(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm",children:Q(e.memoryUsage)}),a.jsx(p.E,{value:e.memoryUsage,className:"h-1 w-24"})]})}),a.jsx(O.pj,{children:(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm",children:Q(e.diskUsage)}),a.jsx(p.E,{value:e.diskUsage,className:"h-1 w-24"})]})}),a.jsx(O.pj,{children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("span",{className:"block",children:["\u2191 ",Y(e.networkTx),"/s"]}),(0,a.jsxs)("span",{className:"block",children:["\u2193 ",Y(e.networkRx),"/s"]})]})}),(0,a.jsxs)(O.pj,{children:[e.iops," IOPS"]})]},e.vmId)))})]}),ae=()=>{const{toast:e}=(0,T.p)(),[t,s]=(0,r.useState)(W[1].value),[c,v]=(0,r.useState)("overview"),{data:b,isLoading:y,refetch:O}=(0,l.a)({queryKey:["systemMetrics",t],queryFn:async()=>{const e=W.find((e=>e.value===t))?.seconds||3600,s=await fetch(`${z}/monitoring/metrics?timeRange=${e}`);if(!s.ok)throw new Error("Failed to fetch system metrics");return s.json()},refetchInterval:3e4}),{data:V,isLoading:B,refetch:E}=(0,l.a)({queryKey:["alerts"],queryFn:async()=>{const e=await fetch(`${z}/monitoring/alerts`);if(!e.ok)throw new Error("Failed to fetch alerts");return e.json()},refetchInterval:15e3}),{data:L,isLoading:H,refetch:_}=(0,l.a)({queryKey:["vms"],queryFn:async()=>{const e=await fetch(`${z}/monitoring/vms`);if(!e.ok)throw new Error("Failed to fetch VM metrics");return e.json()},refetchInterval:3e4}),{lastMessage:Y}=(0,i.ZP)(`${F}/monitoring`,{onOpen:()=>{},onError:t=>{e({title:"WebSocket Error",description:"Failed to connect to real-time updates",variant:"destructive"})},shouldReconnect:()=>!0});(0,r.useEffect)((()=>{if(null!==Y){const t=JSON.parse(Y.data);switch(t.type){case"metric":O();break;case"alert":t.alert&&"firing"===t.alert.status&&e({title:`${t.alert.severity.toUpperCase()}: ${t.alert.name}`,description:t.alert.description,variant:"destructive"}),E();break;case"vm":_()}}}),[Y,O,E,_,e]);const G=async t=>{try{if(!(await fetch(`${z}/monitoring/alerts/${t}/acknowledge`,{method:"POST"})).ok)throw new Error("Failed to acknowledge alert");E(),e({title:"Alert Acknowledged",description:"The alert has been acknowledged"})}catch(s){e({title:"Error",description:s instanceof Error?s.message:"An unknown error occurred",variant:"destructive"})}},X=b?.cpuTimeseriesData||Array(24).fill(0).map((()=>100*Math.random())),K=b?.memoryTimeseriesData||Array(24).fill(0).map((()=>100*Math.random())),J=b?.diskTimeseriesData||Array(24).fill(0).map((()=>100*Math.random())),ae=b?.networkTimeseriesData||Array(24).fill(0).map((()=>100*Math.random())),re=b?.timeLabels||Array(24).fill(0).map(((e,t)=>(0,o.Z)(new Date(Date.now()-3600*(23-t)*1e3),"HH:mm"))),ne={labels:re,datasets:[{label:"CPU Usage (%)",data:X,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.4},{label:"Memory Usage (%)",data:K,borderColor:"rgba(153, 102, 255, 1)",backgroundColor:"rgba(153, 102, 255, 0.2)",tension:.4},{label:"Disk Usage (%)",data:J,borderColor:"rgba(255, 159, 64, 1)",backgroundColor:"rgba(255, 159, 64, 0.2)",tension:.4},{label:"Network (Mbps)",data:ae,borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",tension:.4}]},le=n().useMemo((()=>V?{critical:V.filter((e=>"critical"===e.severity&&"firing"===e.status)).length,error:V.filter((e=>"error"===e.severity&&"firing"===e.status)).length,warning:V.filter((e=>"warning"===e.severity&&"firing"===e.status)).length,info:V.filter((e=>"info"===e.severity&&"firing"===e.status)).length}:{critical:0,error:0,warning:0,info:0}),[V]),ie=n().useMemo((()=>{if(!L)return{running:0,stopped:0,error:0,total:0,avgCpu:0,avgMemory:0,avgDisk:0};const e=L.filter((e=>"running"===e.status)).length,t=L.filter((e=>"stopped"===e.status)).length,s=L.filter((e=>"error"===e.status)).length,a=L.length;return{running:e,stopped:t,error:s,total:a,avgCpu:L.reduce(((e,t)=>e+t.cpuUsage),0)/(a||1),avgMemory:L.reduce(((e,t)=>e+t.memoryUsage),0)/(a||1),avgDisk:L.reduce(((e,t)=>e+t.diskUsage),0)/(a||1)}}),[L]);return(0,a.jsxs)("div",{className:"container mx-auto py-8 space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Monitoring Dashboard"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(A.Ph,{value:t,onValueChange:s,children:[a.jsx(A.i4,{className:"w-[180px]",children:a.jsx(A.ki,{placeholder:"Select time range"})}),a.jsx(A.Bw,{children:W.map((e=>a.jsx(A.Ql,{value:e.value,children:e.label},e.value)))})]}),(0,a.jsxs)(f.z,{variant:"outline",size:"sm",onClick:()=>{O(),E(),_(),e({title:"Dashboard Refreshed",description:"The monitoring data has been refreshed"})},children:[a.jsx(w.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),(0,a.jsxs)(h.mQ,{defaultValue:c,onValueChange:v,children:[(0,a.jsxs)(h.dr,{className:"grid w-full grid-cols-5",children:[a.jsx(h.SP,{value:"overview",children:"Overview"}),a.jsx(h.SP,{value:"vms",children:"Virtual Machines"}),a.jsx(h.SP,{value:"alerts",children:"Alerts"}),a.jsx(h.SP,{value:"analytics",children:"Analytics"}),a.jsx(h.SP,{value:"advanced",children:"Advanced Analytics"})]}),(0,a.jsxs)(h.nU,{value:"overview",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(ee,{title:"System CPU Usage",value:Q(b?.currentCpuUsage||45),icon:a.jsx(N.Z,{}),change:b?.cpuChangePercentage||5.2,sparklineData:X.slice(-10)}),a.jsx(ee,{title:"Memory Usage",value:Q(b?.currentMemoryUsage||72),icon:a.jsx(k.Z,{}),change:b?.memoryChangePercentage||-2.1,sparklineData:K.slice(-10)}),a.jsx(ee,{title:"Disk Usage",value:Q(b?.currentDiskUsage||58),icon:a.jsx(S.Z,{}),change:b?.diskChangePercentage||1.8,sparklineData:J.slice(-10)}),a.jsx(ee,{title:"Network Usage",value:`${Math.round(b?.currentNetworkUsage||125)} Mbps`,icon:a.jsx(M.Z,{}),change:b?.networkChangePercentage||12.5,sparklineData:ae.slice(-10)})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)(u.Zb,{className:"col-span-2 row-span-2",children:[(0,a.jsxs)(u.Ol,{children:[a.jsx(u.ll,{children:"System Metrics Over Time"}),a.jsx(u.SZ,{children:"Resource usage trends for the selected time period"})]}),a.jsx(u.aY,{children:a.jsx("div",{className:"h-80",children:a.jsx(d.x1,{data:ne,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0}}}})})})]}),(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{children:[a.jsx(u.ll,{children:"Virtual Machines"}),a.jsx(u.SZ,{children:"Status of managed VMs"})]}),(0,a.jsxs)(u.aY,{children:[(0,a.jsxs)("div",{className:"text-center pb-4",children:[a.jsx("div",{className:"text-3xl font-bold",children:ie.total}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total VMs"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center",children:[(0,a.jsxs)("div",{className:"bg-green-100 p-2 rounded-md dark:bg-green-900/20",children:[a.jsx("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:ie.running}),a.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Running"})]}),(0,a.jsxs)("div",{className:"bg-amber-100 p-2 rounded-md dark:bg-amber-900/20",children:[a.jsx("div",{className:"text-xl font-bold text-amber-600 dark:text-amber-400",children:ie.stopped}),a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Stopped"})]}),(0,a.jsxs)("div",{className:"bg-red-100 p-2 rounded-md dark:bg-red-900/20",children:[a.jsx("div",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:ie.error}),a.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:"Error"})]})]})]}),a.jsx(u.eW,{children:a.jsx(f.z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>v("vms"),children:"View Details"})})]}),(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{children:[a.jsx(u.ll,{children:"Active Alerts"}),a.jsx(u.SZ,{children:"Current system alerts"})]}),(0,a.jsxs)(u.aY,{children:[(0,a.jsxs)("div",{className:"text-center pb-4",children:[a.jsx("div",{className:"text-3xl font-bold",children:le.critical+le.error+le.warning+le.info}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Alerts"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-center",children:[(0,a.jsxs)("div",{className:"bg-red-100 p-2 rounded-md dark:bg-red-900/20",children:[a.jsx("div",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:le.critical}),a.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:"Critical"})]}),(0,a.jsxs)("div",{className:"bg-orange-100 p-2 rounded-md dark:bg-orange-900/20",children:[a.jsx("div",{className:"text-xl font-bold text-orange-600 dark:text-orange-400",children:le.error}),a.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400",children:"Error"})]}),(0,a.jsxs)("div",{className:"bg-amber-100 p-2 rounded-md dark:bg-amber-900/20",children:[a.jsx("div",{className:"text-xl font-bold text-amber-600 dark:text-amber-400",children:le.warning}),a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Warning"})]}),(0,a.jsxs)("div",{className:"bg-blue-100 p-2 rounded-md dark:bg-blue-900/20",children:[a.jsx("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:le.info}),a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Info"})]})]})]}),a.jsx(u.eW,{children:a.jsx(f.z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>v("alerts"),children:"View Details"})})]})]})]}),(0,a.jsxs)(h.nU,{value:"vms",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 grid-cols-3",children:[(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{children:[a.jsx(u.ll,{children:"VM Summary"}),a.jsx(u.SZ,{children:"Overview of managed virtual machines"})]}),a.jsx(u.aY,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:ie.total}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total VMs"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:ie.running}),a.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Running"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-amber-600 dark:text-amber-400",children:ie.stopped}),a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Stopped"})]})]})})]}),(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{children:[a.jsx(u.ll,{children:"Average Resource Usage"}),a.jsx(u.SZ,{children:"Across all running VMs"})]}),a.jsx(u.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm",children:"CPU"}),a.jsx("span",{className:"text-sm",children:Q(ie.avgCpu)})]}),a.jsx(p.E,{value:ie.avgCpu,className:"h-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm",children:"Memory"}),a.jsx("span",{className:"text-sm",children:Q(ie.avgMemory)})]}),a.jsx(p.E,{value:ie.avgMemory,className:"h-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm",children:"Disk"}),a.jsx("span",{className:"text-sm",children:Q(ie.avgDisk)})]}),a.jsx(p.E,{value:ie.avgDisk,className:"h-2"})]})]})})]}),(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{children:[a.jsx(u.ll,{children:"Actions"}),a.jsx(u.SZ,{children:"VM management operations"})]}),(0,a.jsxs)(u.aY,{className:"space-y-2",children:[(0,a.jsxs)(f.z,{variant:"outline",size:"sm",className:"w-full justify-start",children:[a.jsx(Z.Z,{className:"mr-2 h-4 w-4"}),"Provision New VM"]}),(0,a.jsxs)(f.z,{variant:"outline",size:"sm",className:"w-full justify-start",children:[a.jsx(C.Z,{className:"mr-2 h-4 w-4"}),"System Diagnostics"]}),(0,a.jsxs)(f.z,{variant:"outline",size:"sm",className:"w-full justify-start",children:[a.jsx(I.Z,{className:"mr-2 h-4 w-4"}),"Storage Management"]})]})]})]}),(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{children:[a.jsx(u.ll,{children:"Virtual Machines"}),a.jsx(u.SZ,{children:"All monitored virtual machines in the system"})]}),a.jsx(u.aY,{children:H?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading VM metrics..."})}):L&&L.length>0?a.jsx(se,{vms:L}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"No virtual machines found."})})})]})]}),(0,a.jsxs)(h.nU,{value:"alerts",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 grid-cols-4",children:[(0,a.jsxs)(u.Zb,{className:"col-span-1",children:[(0,a.jsxs)(u.Ol,{children:[a.jsx(u.ll,{children:"Alert Status"}),a.jsx(u.SZ,{children:"Active alerts by severity"})]}),a.jsx(u.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-sm flex items-center",children:[a.jsx("span",{className:"h-3 w-3 rounded-full bg-red-500 inline-block mr-2"}),"Critical"]}),a.jsx(g.C,{variant:"outline",className:"bg-red-100 text-red-600 dark:bg-red-900/20 dark:text-red-400",children:le.critical})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-sm flex items-center",children:[a.jsx("span",{className:"h-3 w-3 rounded-full bg-orange-500 inline-block mr-2"}),"Error"]}),a.jsx(g.C,{variant:"outline",className:"bg-orange-100 text-orange-600 dark:bg-orange-900/20 dark:text-orange-400",children:le.error})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-sm flex items-center",children:[a.jsx("span",{className:"h-3 w-3 rounded-full bg-amber-500 inline-block mr-2"}),"Warning"]}),a.jsx(g.C,{variant:"outline",className:"bg-amber-100 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400",children:le.warning})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-sm flex items-center",children:[a.jsx("span",{className:"h-3 w-3 rounded-full bg-blue-500 inline-block mr-2"}),"Info"]}),a.jsx(g.C,{variant:"outline",className:"bg-blue-100 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400",children:le.info})]})]})})]}),(0,a.jsxs)(u.Zb,{className:"col-span-3",children:[(0,a.jsxs)(u.Ol,{children:[a.jsx(u.ll,{children:"Alert Timeline"}),a.jsx(u.SZ,{children:"Alert activity over time"})]}),a.jsx(u.aY,{children:a.jsx("div",{className:"h-56",children:a.jsx(d.$Q,{data:{labels:["6h ago","5h ago","4h ago","3h ago","2h ago","1h ago","Now"],datasets:[{label:"Critical",data:[2,1,3,0,2,1,le.critical],backgroundColor:"rgba(220, 38, 38, 0.8)"},{label:"Error",data:[3,2,4,1,3,2,le.error],backgroundColor:"rgba(234, 88, 12, 0.8)"},{label:"Warning",data:[5,4,6,3,5,4,le.warning],backgroundColor:"rgba(245, 158, 11, 0.8)"},{label:"Info",data:[7,6,8,5,7,6,le.info],backgroundColor:"rgba(59, 130, 246, 0.8)"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{stacked:!0},y:{stacked:!0,beginAtZero:!0}}}})})})]})]}),(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{children:[a.jsx(u.ll,{children:"Current Alerts"}),a.jsx(u.SZ,{children:"Active and recent alerts"})]}),a.jsx(u.aY,{children:B?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading alerts..."})}):V&&V.length>0?a.jsx("div",{className:"space-y-2",children:V.map((e=>a.jsx(te,{alert:e,onAcknowledge:G},e.id)))}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"No alerts found."})})})]})]}),a.jsx(h.nU,{value:"analytics",className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid gap-4 grid-cols-1",children:[(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{children:[a.jsx(u.ll,{children:"Resource Usage Analysis"}),a.jsx(u.SZ,{children:"Pattern analysis and trend detection"})]}),a.jsx(u.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"CPU Trend Analysis"}),a.jsx("div",{className:"h-60",children:a.jsx(d.x1,{data:{labels:re,datasets:[{label:"CPU Usage (%)",data:X,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:100}}}})}),a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:b?.cpuAnalysis||"CPU usage shows standard workday pattern with peaks during business hours."})})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Memory Allocation"}),a.jsx("div",{className:"h-60",children:a.jsx(d.$I,{data:{labels:["In Use","Available","Reserved","Cached"],datasets:[{data:[b?.memoryInUse||65,b?.memoryAvailable||15,b?.memoryReserved||10,b?.memoryCached||10],backgroundColor:["rgba(153, 102, 255, 0.8)","rgba(75, 192, 192, 0.8)","rgba(255, 159, 64, 0.8)","rgba(54, 162, 235, 0.8)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1}})}),a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:b?.memoryAnalysis||"Memory allocation is healthy with sufficient available memory for peak operations."})})]})]})})]}),(0,a.jsxs)(u.Zb,{children:[(0,a.jsxs)(u.Ol,{children:[a.jsx(u.ll,{children:"Predictive Insights"}),a.jsx(u.SZ,{children:"AI-powered system predictions"})]}),a.jsx(u.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsxs)("h4",{className:"font-medium mb-1 flex items-center",children:[a.jsx(Z.Z,{className:"h-4 w-4 mr-2"}),"Resource Forecasting"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Based on current trends, system resources will be sufficient for the next 30 days. Consider adding additional storage capacity within 45 days as growth trends indicate 80% usage by that time."})]}),(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsxs)("h4",{className:"font-medium mb-1 flex items-center",children:[a.jsx(j.Z,{className:"h-4 w-4 mr-2"}),"Anomaly Detection"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Hypervisor node 2 is showing slight performance degradation patterns compared to historical baseline. This may indicate early hardware issues or resource contention. Scheduled diagnostic recommended."})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsxs)("h4",{className:"font-medium mb-1 flex items-center",children:[a.jsx(C.Z,{className:"h-4 w-4 mr-2"}),"Performance Optimization"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"VM resource rebalancing across nodes could improve overall system performance by an estimated 12-15%. Database-heavy VMs on node 3 would benefit from memory reallocation from underutilized compute-optimized VMs."})]}),(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsxs)("h4",{className:"font-medium mb-1 flex items-center",children:[a.jsx(D.Z,{className:"h-4 w-4 mr-2"}),"Workload Patterns"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"System has identified recurring peak usage patterns every Tuesday and Thursday between 2-4 PM UTC. Consider scheduling non-essential maintenance outside these windows and potentially allocating additional resources during peaks."})]})]})]})})]})]})}),(0,a.jsxs)(h.nU,{value:"advanced",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 grid-cols-2",children:[a.jsx($,{title:"CPU Usage Forecast",description:"Predicted CPU usage based on historical patterns",metricName:"CPU Usage",metricUnit:"%",historicalData:[{timestamp:(0,x.Z)(new Date,24).toISOString(),value:45},{timestamp:(0,x.Z)(new Date,23).toISOString(),value:42},{timestamp:(0,x.Z)(new Date,22).toISOString(),value:47},{timestamp:(0,x.Z)(new Date,21).toISOString(),value:52},{timestamp:(0,x.Z)(new Date,20).toISOString(),value:58},{timestamp:(0,x.Z)(new Date,19).toISOString(),value:63},{timestamp:(0,x.Z)(new Date,18).toISOString(),value:68},{timestamp:(0,x.Z)(new Date,17).toISOString(),value:72},{timestamp:(0,x.Z)(new Date,16).toISOString(),value:75},{timestamp:(0,x.Z)(new Date,15).toISOString(),value:78},{timestamp:(0,x.Z)(new Date,14).toISOString(),value:76},{timestamp:(0,x.Z)(new Date,13).toISOString(),value:72},{timestamp:(0,x.Z)(new Date,12).toISOString(),value:68},{timestamp:(0,x.Z)(new Date,11).toISOString(),value:64},{timestamp:(0,x.Z)(new Date,10).toISOString(),value:60},{timestamp:(0,x.Z)(new Date,9).toISOString(),value:58},{timestamp:(0,x.Z)(new Date,8).toISOString(),value:55},{timestamp:(0,x.Z)(new Date,7).toISOString(),value:52},{timestamp:(0,x.Z)(new Date,6).toISOString(),value:48},{timestamp:(0,x.Z)(new Date,5).toISOString(),value:45},{timestamp:(0,x.Z)(new Date,4).toISOString(),value:42},{timestamp:(0,x.Z)(new Date,3).toISOString(),value:40},{timestamp:(0,x.Z)(new Date,2).toISOString(),value:38},{timestamp:(0,x.Z)(new Date,1).toISOString(),value:42}],predictedData:[{timestamp:(new Date).toISOString(),value:45,upperBound:50,lowerBound:40},{timestamp:(0,m.Z)(new Date,1).toISOString(),value:48,upperBound:55,lowerBound:41},{timestamp:(0,m.Z)(new Date,2).toISOString(),value:52,upperBound:60,lowerBound:44},{timestamp:(0,m.Z)(new Date,3).toISOString(),value:58,upperBound:67,lowerBound:49},{timestamp:(0,m.Z)(new Date,4).toISOString(),value:65,upperBound:75,lowerBound:55},{timestamp:(0,m.Z)(new Date,5).toISOString(),value:72,upperBound:82,lowerBound:62},{timestamp:(0,m.Z)(new Date,6).toISOString(),value:78,upperBound:88,lowerBound:68},{timestamp:(0,m.Z)(new Date,7).toISOString(),value:82,upperBound:92,lowerBound:72},{timestamp:(0,m.Z)(new Date,8).toISOString(),value:80,upperBound:90,lowerBound:70},{timestamp:(0,m.Z)(new Date,9).toISOString(),value:75,upperBound:85,lowerBound:65},{timestamp:(0,m.Z)(new Date,10).toISOString(),value:68,upperBound:78,lowerBound:58},{timestamp:(0,m.Z)(new Date,11).toISOString(),value:60,upperBound:70,lowerBound:50}],anomalies:[{timestamp:(0,m.Z)(new Date,5).toISOString(),severity:"medium",message:"Unusual spike in CPU usage"}]}),a.jsx(R,{title:"Resource Utilization",description:"Hierarchical view of resource usage across the system",data:{id:"root",name:"System",value:100,children:[{id:"compute",name:"Compute",value:65,children:[{id:"vm-1",name:"VM-1",value:78},{id:"vm-2",name:"VM-2",value:45},{id:"vm-3",name:"VM-3",value:92},{id:"vm-4",name:"VM-4",value:58},{id:"vm-5",name:"VM-5",value:62}]},{id:"storage",name:"Storage",value:72,children:[{id:"storage-1",name:"SSD-1",value:85},{id:"storage-2",name:"SSD-2",value:65},{id:"storage-3",name:"HDD-1",value:45}]},{id:"network",name:"Network",value:48,children:[{id:"network-1",name:"Switch-1",value:52},{id:"network-2",name:"Router-1",value:38},{id:"network-3",name:"Gateway",value:65}]}]},height:350})]}),(0,a.jsxs)("div",{className:"grid gap-4 grid-cols-2",children:[a.jsx(P,{title:"CPU Usage Patterns",description:"Heatmap showing CPU usage patterns across VMs over time",data:[{timestamp:"2025-04-11T00:00:00Z",resourceId:"VM-1",value:45},{timestamp:"2025-04-11T01:00:00Z",resourceId:"VM-1",value:48},{timestamp:"2025-04-11T02:00:00Z",resourceId:"VM-1",value:52},{timestamp:"2025-04-11T03:00:00Z",resourceId:"VM-1",value:58},{timestamp:"2025-04-11T04:00:00Z",resourceId:"VM-1",value:65},{timestamp:"2025-04-11T05:00:00Z",resourceId:"VM-1",value:72},{timestamp:"2025-04-11T06:00:00Z",resourceId:"VM-1",value:78},{timestamp:"2025-04-11T00:00:00Z",resourceId:"VM-2",value:35},{timestamp:"2025-04-11T01:00:00Z",resourceId:"VM-2",value:38},{timestamp:"2025-04-11T02:00:00Z",resourceId:"VM-2",value:42},{timestamp:"2025-04-11T03:00:00Z",resourceId:"VM-2",value:48},{timestamp:"2025-04-11T04:00:00Z",resourceId:"VM-2",value:55},{timestamp:"2025-04-11T05:00:00Z",resourceId:"VM-2",value:62},{timestamp:"2025-04-11T06:00:00Z",resourceId:"VM-2",value:68},{timestamp:"2025-04-11T00:00:00Z",resourceId:"VM-3",value:55},{timestamp:"2025-04-11T01:00:00Z",resourceId:"VM-3",value:58},{timestamp:"2025-04-11T02:00:00Z",resourceId:"VM-3",value:62},{timestamp:"2025-04-11T03:00:00Z",resourceId:"VM-3",value:68},{timestamp:"2025-04-11T04:00:00Z",resourceId:"VM-3",value:75},{timestamp:"2025-04-11T05:00:00Z",resourceId:"VM-3",value:82},{timestamp:"2025-04-11T06:00:00Z",resourceId:"VM-3",value:88},{timestamp:"2025-04-11T00:00:00Z",resourceId:"VM-4",value:25},{timestamp:"2025-04-11T01:00:00Z",resourceId:"VM-4",value:28},{timestamp:"2025-04-11T02:00:00Z",resourceId:"VM-4",value:32},{timestamp:"2025-04-11T03:00:00Z",resourceId:"VM-4",value:38},{timestamp:"2025-04-11T04:00:00Z",resourceId:"VM-4",value:45},{timestamp:"2025-04-11T05:00:00Z",resourceId:"VM-4",value:52},{timestamp:"2025-04-11T06:00:00Z",resourceId:"VM-4",value:58},{timestamp:"2025-04-11T00:00:00Z",resourceId:"VM-5",value:65},{timestamp:"2025-04-11T01:00:00Z",resourceId:"VM-5",value:68},{timestamp:"2025-04-11T02:00:00Z",resourceId:"VM-5",value:72},{timestamp:"2025-04-11T03:00:00Z",resourceId:"VM-5",value:78},{timestamp:"2025-04-11T04:00:00Z",resourceId:"VM-5",value:85},{timestamp:"2025-04-11T05:00:00Z",resourceId:"VM-5",value:92},{timestamp:"2025-04-11T06:00:00Z",resourceId:"VM-5",value:95}]}),a.jsx(U,{title:"System Topology",description:"Interactive visualization of system components and their relationships",data:{nodes:[{id:"host-1",name:"Host-1",type:"host",status:"healthy"},{id:"vm-1",name:"VM-1",type:"vm",status:"healthy"},{id:"vm-2",name:"VM-2",type:"vm",status:"warning"},{id:"vm-3",name:"VM-3",type:"vm",status:"healthy"},{id:"vm-4",name:"VM-4",type:"vm",status:"error"},{id:"vm-5",name:"VM-5",type:"vm",status:"healthy"},{id:"storage-1",name:"SSD-1",type:"storage",status:"healthy"},{id:"storage-2",name:"SSD-2",type:"storage",status:"healthy"},{id:"network-1",name:"Switch",type:"network",status:"healthy"}],edges:[{source:"host-1",target:"vm-1",type:"dependency"},{source:"host-1",target:"vm-2",type:"dependency"},{source:"host-1",target:"vm-3",type:"dependency"},{source:"host-1",target:"vm-4",type:"dependency"},{source:"host-1",target:"vm-5",type:"dependency"},{source:"vm-1",target:"storage-1",type:"storage",metrics:{latency:2.5}},{source:"vm-2",target:"storage-1",type:"storage",metrics:{latency:3.2}},{source:"vm-3",target:"storage-2",type:"storage",metrics:{latency:1.8}},{source:"vm-4",target:"storage-2",type:"storage",metrics:{latency:4.5}},{source:"vm-5",target:"storage-1",type:"storage",metrics:{latency:2.1}},{source:"vm-1",target:"network-1",type:"network",metrics:{bandwidth:100}},{source:"vm-2",target:"network-1",type:"network",metrics:{bandwidth:80}},{source:"vm-3",target:"network-1",type:"network",metrics:{bandwidth:120}},{source:"vm-4",target:"network-1",type:"network",metrics:{bandwidth:60}},{source:"vm-5",target:"network-1",type:"network",metrics:{bandwidth:90}}]},height:350})]}),a.jsx(q,{alerts:[{id:"alert-1",name:"High CPU Usage",description:"VM-5 CPU usage exceeds 90%",severity:"warning",status:"firing",startTime:(new Date).toISOString(),labels:{host:"Host-1",vm:"VM-5",metric:"cpu"},value:95,resource:"VM-5"},{id:"alert-2",name:"Memory Pressure",description:"VM-5 memory usage exceeds 85%",severity:"warning",status:"firing",startTime:(0,x.Z)(new Date,1).toISOString(),labels:{host:"Host-1",vm:"VM-5",metric:"memory"},value:88,resource:"VM-5"},{id:"alert-3",name:"Disk I/O Saturation",description:"SSD-1 I/O operations exceeding threshold",severity:"error",status:"firing",startTime:(0,x.Z)(new Date,2).toISOString(),labels:{storage:"SSD-1",metric:"iops"},value:95,resource:"SSD-1"},{id:"alert-4",name:"Network Latency",description:"Increased network latency detected",severity:"warning",status:"acknowledged",startTime:(0,x.Z)(new Date,3).toISOString(),labels:{network:"Switch-1",metric:"latency"},value:120,resource:"Network"},{id:"alert-5",name:"VM Unresponsive",description:"VM-4 is not responding to health checks",severity:"critical",status:"firing",startTime:(0,x.Z)(new Date,1).toISOString(),labels:{host:"Host-1",vm:"VM-4",metric:"health"},value:0,resource:"VM-4"}],relations:[{source:"alert-3",target:"alert-1",type:"causes",confidence:.85},{source:"alert-3",target:"alert-2",type:"causes",confidence:.75},{source:"alert-4",target:"alert-3",type:"correlates",confidence:.65},{source:"alert-5",target:"alert-4",type:"correlates",confidence:.55}],onAcknowledge:t=>{e({title:"Alert Acknowledged",description:`Alert ${t} has been acknowledged`})}})]})]})]})},re="force-dynamic";function ne(){return a.jsx(ae,{})}},6847:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var a=s(784),r=s(9885),n=s(1915),l=s(467);const i=r.forwardRef((({className:e,value:t,...s},r)=>a.jsx(n.fC,{ref:r,className:(0,l.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...s,children:a.jsx(n.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})));i.displayName=n.fC.displayName},1471:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>c,dynamic:()=>i});const a=(0,s(5153).createProxy)(String.raw`/home/kp/novacron/frontend/src/app/monitoring/page.tsx`),{__esModule:r,$$typeof:n}=a,l=a.default,i=a.dynamic,c=l}};var t=require("../../webpack-runtime.js");t.C(e);var s=t.X(0,[1076,1425,1264,5560,433,1150,1915,3993,3375,4684,8531,5603,3215,4975,7950,7133,6589,3342,9748],(()=>{return e=3069,t(t.s=e);var e}));module.exports=s})();