(()=>{var e={id:5738,ids:[5738]};e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},63069:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.ZP,__next_app__:()=>m,originalPathname:()=>o,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=t(67096),r=t(16132),n=t(78658),i=t(32564),l={};for(const x in i)["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(x)<0&&(l[x]=()=>i[x]);t.d(s,l);const d=["",{children:["monitoring",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,31471)),"/home/kp/novacron/frontend/src/app/monitoring/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,35519)),"/home/kp/novacron/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/home/kp/novacron/frontend/src/app/monitoring/page.tsx"],o="/monitoring/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/monitoring/page",pathname:"/monitoring",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},66877:(e,s,t)=>{Promise.resolve().then(t.bind(t,23944))},23944:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>ae,dynamic:()=>te});var a=t(30784),r=t(9885),n=t.n(r),i=t(53993),l=t(33657),d=t(622),c=t(43223),o=t(18381),m=t(68571),u=t(89048),x=t(97040),h=t(63342),g=t(17133),p=t(86847),v=t(45304),j=t(51831),b=t(94409),f=t(34253),w=t(15441),y=t(20644),N=t(39423),k=t(50319),S=t(78394),Z=t(88012),M=t(83475),I=t(89815),C=t(82875),D=t(70173),T=t(99748),V=t(7950),O=t(96589),P=t(70884),A=t(21920),U=t(7478),B=t(60589),L=t(69518),E=t(56206),R=t(19458),_=t(11922);const $=({alerts:e,relations:s,onAlertClick:t,onAcknowledge:n})=>{const i=(0,r.useRef)(null),[l,d]=(0,r.useState)(null),[c,m]=(0,r.useState)(""),[u,h]=(0,r.useState)({}),p=e.reduce(((e,s)=>{const t=s.resource||"Unknown";return e[t]||(e[t]=[]),e[t].push(s),e}),{}),y=e=>{switch(e){case"critical":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";case"error":return"text-orange-600 bg-orange-100 dark:bg-orange-900/20 dark:text-orange-400";case"warning":return"text-amber-600 bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400";case"info":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400"}},N=e=>{switch(e){case"critical":case"error":return a.jsx(j.Z,{className:"h-4 w-4"});case"warning":return a.jsx(b.Z,{className:"h-4 w-4"});default:return a.jsx(f.Z,{className:"h-4 w-4"})}},k=e=>{switch(e){case"firing":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";case"acknowledged":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";case"resolved":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400"}},S=e=>{switch(e){case"causes":return"follows";case"follows":return"causes";default:return e}},Z=c?e.filter((e=>e.name.toLowerCase().includes(c.toLowerCase())||e.description.toLowerCase().includes(c.toLowerCase())||e.resource.toLowerCase().includes(c.toLowerCase())||Object.entries(e.labels).some((([e,s])=>e.toLowerCase().includes(c.toLowerCase())||s.toLowerCase().includes(c.toLowerCase()))))):e;return(0,r.useEffect)((()=>{if(!i.current||!l)return;const t=i.current,a=t.getContext("2d");if(!a)return;t.width=t.clientWidth,t.height=t.clientHeight,a.clearRect(0,0,t.width,t.height);const r=e.find((e=>e.id===l));if(!r)return;const n=(t=>{const a=[];return s.filter((e=>e.source===t)).forEach((s=>{const t=e.find((e=>e.id===s.target));t&&a.push({alert:t,relation:s})})),s.filter((e=>e.target===t)).forEach((s=>{const t=e.find((e=>e.id===s.source));t&&a.push({alert:t,relation:{...s,type:S(s.type)}})})),a})(l);if(0===n.length)return a.font="14px sans-serif",a.fillStyle="#6b7280",a.textAlign="center",a.textBaseline="middle",void a.fillText("No alert correlations found",t.width/2,t.height/2);const c=t.width/2,o=t.height/2,m=.7*Math.min(c,o);(()=>{a.beginPath(),a.arc(c,o,30,0,2*Math.PI);a.fillStyle={critical:"#ef4444",error:"#f97316",warning:"#f59e0b",info:"#3b82f6"}[r.severity]||"#6b7280",a.fill(),a.font="bold 12px sans-serif",a.fillStyle="#ffffff",a.textAlign="center",a.textBaseline="middle",a.fillText(r.name.substring(0,10),c,o)})(),(()=>{const e=2*Math.PI/n.length;n.forEach(((s,t)=>{const r=t*e,n=c+m*Math.cos(r),i=o+m*Math.sin(r);a.beginPath(),a.moveTo(c,o),a.lineTo(n,i);const l={causes:"#ef4444",follows:"#3b82f6",correlates:"#8b5cf6"};a.strokeStyle=l[s.relation.type]||"#6b7280",a.lineWidth=3*s.relation.confidence+1,a.stroke();const d=n-c,u=i-o,x=Math.sqrt(d*d+u*u),h=d/x,g=u/x,p=c+h*(x-40),v=o+g*(x-40),j=-g,b=h;a.beginPath(),a.moveTo(p,v),a.lineTo(p-10*h+6*j,v-10*g+6*b),a.lineTo(p-10*h-6*j,v-10*g-6*b),a.closePath(),a.fillStyle=l[s.relation.type]||"#6b7280",a.fill(),a.font="10px sans-serif",a.fillStyle="#6b7280",a.textAlign="center",a.textBaseline="middle";const f=c+h*(x/2),w=o+g*(x/2)-10;a.fillText((e=>{switch(e.type){case"causes":return"Likely causes";case"follows":return"Likely effect of";case"correlates":return"Correlated with";default:return"Related to"}})(s.relation),f,w),a.font="9px sans-serif",a.fillText(`${Math.round(100*s.relation.confidence)}%`,f,w+12),a.beginPath(),a.arc(n,i,25,0,2*Math.PI);a.fillStyle={critical:"#ef4444",error:"#f97316",warning:"#f59e0b",info:"#3b82f6"}[s.alert.severity]||"#6b7280",a.fill(),a.font="bold 11px sans-serif",a.fillStyle="#ffffff",a.textAlign="center",a.textBaseline="middle",a.fillText(s.alert.name.substring(0,8),n,i)}))})();const u=e=>{const s=t.getBoundingClientRect(),a=e.clientX-s.left,r=e.clientY-s.top,i=2*Math.PI/n.length;for(let t=0;t<n.length;t++){const e=t*i,s=c+m*Math.cos(e),l=o+m*Math.sin(e);if(Math.sqrt(Math.pow(s-a,2)+Math.pow(l-r,2))<=25){d(n[t].alert.id);break}}};return t.addEventListener("click",u),()=>{t.removeEventListener("click",u)}}),[e,s,l]),(0,a.jsxs)(x.Zb,{className:"h-full",children:[(0,a.jsxs)(x.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(x.ll,{children:"Alert Correlation"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(L.Z,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx("input",{type:"text",placeholder:"Search alerts...",className:"pl-8 h-9 w-[200px] rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",value:c,onChange:e=>m(e.target.value)}),c&&a.jsx("button",{className:"absolute right-2.5 top-2.5 h-4 w-4 text-muted-foreground",onClick:()=>m(""),children:a.jsx(E.Z,{className:"h-4 w-4"})})]})]}),a.jsx(x.aY,{className:"p-0",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 h-full",children:[(0,a.jsxs)("div",{className:"border-r border-border overflow-y-auto",style:{maxHeight:"500px"},children:[Object.entries(p).map((([e,s])=>{const r=s.filter((e=>Z.some((s=>s.id===e.id))));return 0===r.length?null:(0,a.jsxs)("div",{className:"border-b border-border last:border-b-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-muted/50",onClick:()=>(e=>{h((s=>({...s,[e]:!s[e]})))})(e),children:[(0,a.jsxs)("div",{className:"font-medium flex items-center",children:[u[e]?a.jsx(R.Z,{className:"h-4 w-4 mr-1"}):a.jsx(_.Z,{className:"h-4 w-4 mr-1"}),e]}),(0,a.jsxs)(g.C,{variant:"outline",children:[r.length," alert",1!==r.length?"s":""]})]}),u[e]&&a.jsx("div",{className:"pl-4",children:r.map((e=>a.jsx("div",{className:"p-2 border-l-2 mb-1 ml-2 cursor-pointer hover:bg-muted/50 "+(l===e.id?"bg-muted border-primary":`border-transparent ${y(e.severity)}`),onClick:()=>{d(e.id),t&&t(e)},children:(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:N(e.severity)}),(0,a.jsxs)("div",{className:"ml-2 flex-1",children:[a.jsx("h3",{className:"text-sm font-medium",children:e.name}),a.jsx("div",{className:"mt-1 text-xs text-muted-foreground",children:a.jsx("p",{children:e.description})}),(0,a.jsxs)("div",{className:"mt-1 flex flex-wrap gap-1",children:[a.jsx(g.C,{variant:"outline",className:k(e.status),children:e.status}),(0,a.jsxs)("span",{className:"text-xs flex items-center text-muted-foreground",children:[a.jsx(w.Z,{className:"h-3 w-3 inline mr-1"}),(0,o.Z)(new Date(e.startTime),"MMM d, HH:mm")]})]})]})]})},e.id)))})]},e)})),0===Z.length&&a.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No alerts match your search"})]}),a.jsx("div",{className:"p-4",children:l?(0,a.jsxs)(a.Fragment,{children:[(()=>{const s=e.find((e=>e.id===l));return s?(0,a.jsxs)("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:s.name}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:s.description}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[a.jsx(g.C,{variant:"outline",className:y(s.severity),children:s.severity}),a.jsx(g.C,{variant:"outline",className:k(s.status),children:s.status}),(0,a.jsxs)("span",{className:"text-xs flex items-center text-muted-foreground",children:[a.jsx(w.Z,{className:"h-3 w-3 inline mr-1"}),(0,o.Z)(new Date(s.startTime),"MMM d, HH:mm:ss")]})]}),"firing"===s.status&&n&&a.jsx(v.z,{size:"sm",variant:"outline",onClick:()=>n(s.id),className:"mb-3",children:"Acknowledge"}),Object.entries(s.labels).length>0&&(0,a.jsxs)("div",{className:"mb-3",children:[a.jsx("h4",{className:"text-sm font-medium mb-1",children:"Labels"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:Object.entries(s.labels).map((([e,s])=>(0,a.jsxs)(g.C,{variant:"outline",className:"text-xs",children:[e,": ",s]},e)))})]})]}):null})(),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:"Alert Correlation"}),a.jsx("div",{className:"border rounded-md",style:{height:"300px"},children:a.jsx("canvas",{ref:i,className:"w-full h-full"})})]})]}):a.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:"Select an alert to view details and correlations"})})]})})]})};d.kL.register(d.uw,d.f$,d.od,d.jn,d.ZL,d.Dx,d.u,d.De,d.qi);const z=process.env.NEXT_PUBLIC_API_URL||"http://localhost:8090/api",q=process.env.NEXT_PUBLIC_WS_URL||"ws://localhost:8091/ws",H=[{label:"Last 15 minutes",value:"15m",seconds:900},{label:"Last hour",value:"1h",seconds:3600},{label:"Last 6 hours",value:"6h",seconds:21600},{label:"Last 24 hours",value:"24h",seconds:86400},{label:"Last 7 days",value:"7d",seconds:604800}],Y=(e,s=2)=>{if(0===e)return"0 Bytes";const t=s<0?0:s,a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(t))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]},F=e=>`${Math.round(e)}%`,W=e=>{switch(e){case"critical":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";case"error":return"text-orange-600 bg-orange-100 dark:bg-orange-900/20 dark:text-orange-400";case"warning":return"text-amber-600 bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400";case"info":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400"}},G=e=>{switch(e){case"critical":case"error":return a.jsx(j.Z,{className:"h-4 w-4"});case"warning":return a.jsx(b.Z,{className:"h-4 w-4"});default:return a.jsx(f.Z,{className:"h-4 w-4"})}},X=e=>{switch(e){case"firing":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";case"acknowledged":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";case"resolved":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400"}},K=e=>{switch(e){case"running":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";case"stopped":return"text-amber-600 bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400";case"error":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400"}},Q=({title:e,value:s,icon:t,change:r,sparklineData:n})=>(0,a.jsxs)(x.Zb,{children:[(0,a.jsxs)(x.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(x.ll,{className:"text-sm font-medium",children:e}),a.jsx("div",{className:"h-4 w-4 text-muted-foreground",children:t})]}),(0,a.jsxs)(x.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:s}),void 0!==r&&(0,a.jsxs)("p",{className:"text-xs "+(r>=0?"text-green-500":"text-red-500"),children:[r>0?"+":"",r,"% from last period"]}),n&&a.jsx("div",{className:"h-10 mt-2",children:a.jsx(c.x1,{data:{labels:n.map(((e,s)=>"")),datasets:[{data:n,borderColor:"rgba(59, 130, 246, 0.8)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,pointRadius:0,tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{display:!1},y:{display:!1,min:.8*Math.min(...n),max:1.2*Math.max(...n)}}}})})]})]}),J=({alert:e,onAcknowledge:s})=>a.jsx("div",{className:`p-4 rounded-lg mb-3 ${W(e.severity)}`,children:(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0 mt-0.5",children:G(e.severity)}),(0,a.jsxs)("div",{className:"ml-3 flex-1",children:[a.jsx("h3",{className:"text-sm font-medium",children:e.name}),a.jsx("div",{className:"mt-1 text-sm",children:a.jsx("p",{children:e.description})}),(0,a.jsxs)("div",{className:"mt-2 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex space-x-2 text-xs",children:[a.jsx(g.C,{variant:"outline",className:X(e.status),children:e.status}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[a.jsx(w.Z,{className:"h-3 w-3 inline mr-1"}),(0,o.Z)(new Date(e.startTime),"MMM d, HH:mm:ss")]}),a.jsx("span",{className:"text-xs",children:e.resource})]}),"firing"===e.status&&a.jsx(v.z,{size:"sm",variant:"outline",onClick:()=>s(e.id),children:"Acknowledge"})]})]})]})}),ee=({vms:e})=>(0,a.jsxs)(O.iA,{children:[a.jsx(O.Rn,{children:"List of monitored virtual machines"}),a.jsx(O.xD,{children:(0,a.jsxs)(O.SC,{children:[a.jsx(O.ss,{children:"Name"}),a.jsx(O.ss,{children:"Status"}),a.jsx(O.ss,{children:"CPU"}),a.jsx(O.ss,{children:"Memory"}),a.jsx(O.ss,{children:"Disk"}),a.jsx(O.ss,{children:"Network"}),a.jsx(O.ss,{children:"IOPS"})]})}),a.jsx(O.RM,{children:e.map((e=>(0,a.jsxs)(O.SC,{children:[a.jsx(O.pj,{className:"font-medium",children:e.name}),a.jsx(O.pj,{children:a.jsx(g.C,{variant:"outline",className:K(e.status),children:e.status})}),a.jsx(O.pj,{children:(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm",children:F(e.cpuUsage)}),a.jsx(p.E,{value:e.cpuUsage,className:"h-1 w-24"})]})}),a.jsx(O.pj,{children:(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm",children:F(e.memoryUsage)}),a.jsx(p.E,{value:e.memoryUsage,className:"h-1 w-24"})]})}),a.jsx(O.pj,{children:(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-sm",children:F(e.diskUsage)}),a.jsx(p.E,{value:e.diskUsage,className:"h-1 w-24"})]})}),a.jsx(O.pj,{children:(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("span",{className:"block",children:["\u2191 ",Y(e.networkTx),"/s"]}),(0,a.jsxs)("span",{className:"block",children:["\u2193 ",Y(e.networkRx),"/s"]})]})}),(0,a.jsxs)(O.pj,{children:[e.iops," IOPS"]})]},e.vmId)))})]}),se=()=>{const{toast:e}=(0,T.p)(),[s,t]=(0,r.useState)(H[1].value),[d,j]=(0,r.useState)("overview"),{data:f,isLoading:w,refetch:O}=(0,i.a)({queryKey:["systemMetrics",s],queryFn:async()=>{const e=H.find((e=>e.value===s))?.seconds||3600,t=await fetch(`${z}/monitoring/metrics?timeRange=${e}`);if(!t.ok)throw new Error("Failed to fetch system metrics");return t.json()},refetchInterval:3e4}),{data:L,isLoading:E,refetch:R}=(0,i.a)({queryKey:["alerts"],queryFn:async()=>{const e=await fetch(`${z}/monitoring/alerts`);if(!e.ok)throw new Error("Failed to fetch alerts");return e.json()},refetchInterval:15e3}),{data:_,isLoading:Y,refetch:W}=(0,i.a)({queryKey:["vms"],queryFn:async()=>{const e=await fetch(`${z}/monitoring/vms`);if(!e.ok)throw new Error("Failed to fetch VM metrics");return e.json()},refetchInterval:3e4}),{lastMessage:G}=(0,l.ZP)(`${q}/monitoring`,{onOpen:()=>{},onError:s=>{e({title:"WebSocket Error",description:"Failed to connect to real-time updates",variant:"destructive"})},shouldReconnect:()=>!0});(0,r.useEffect)((()=>{if(null!==G){const s=JSON.parse(G.data);switch(s.type){case"metric":O();break;case"alert":s.alert&&"firing"===s.alert.status&&e({title:`${s.alert.severity.toUpperCase()}: ${s.alert.name}`,description:s.alert.description,variant:"destructive"}),R();break;case"vm":W()}}}),[G,O,R,W,e]);const X=async s=>{try{if(!(await fetch(`${z}/monitoring/alerts/${s}/acknowledge`,{method:"POST"})).ok)throw new Error("Failed to acknowledge alert");R(),e({title:"Alert Acknowledged",description:"The alert has been acknowledged"})}catch(t){e({title:"Error",description:t instanceof Error?t.message:"An unknown error occurred",variant:"destructive"})}},K=f?.cpuTimeseriesData||Array(24).fill(0).map((()=>100*Math.random())),se=f?.memoryTimeseriesData||Array(24).fill(0).map((()=>100*Math.random())),te=f?.diskTimeseriesData||Array(24).fill(0).map((()=>100*Math.random())),ae=f?.networkTimeseriesData||Array(24).fill(0).map((()=>100*Math.random())),re=f?.timeLabels||Array(24).fill(0).map(((e,s)=>(0,o.Z)(new Date(Date.now()-3600*(23-s)*1e3),"HH:mm"))),ne={labels:re,datasets:[{label:"CPU Usage (%)",data:K,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.4},{label:"Memory Usage (%)",data:se,borderColor:"rgba(153, 102, 255, 1)",backgroundColor:"rgba(153, 102, 255, 0.2)",tension:.4},{label:"Disk Usage (%)",data:te,borderColor:"rgba(255, 159, 64, 1)",backgroundColor:"rgba(255, 159, 64, 0.2)",tension:.4},{label:"Network (Mbps)",data:ae,borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",tension:.4}]},ie=n().useMemo((()=>L?{critical:L.filter((e=>"critical"===e.severity&&"firing"===e.status)).length,error:L.filter((e=>"error"===e.severity&&"firing"===e.status)).length,warning:L.filter((e=>"warning"===e.severity&&"firing"===e.status)).length,info:L.filter((e=>"info"===e.severity&&"firing"===e.status)).length}:{critical:0,error:0,warning:0,info:0}),[L]),le=n().useMemo((()=>{if(!_)return{running:0,stopped:0,error:0,total:0,avgCpu:0,avgMemory:0,avgDisk:0};const e=_.filter((e=>"running"===e.status)).length,s=_.filter((e=>"stopped"===e.status)).length,t=_.filter((e=>"error"===e.status)).length,a=_.length;return{running:e,stopped:s,error:t,total:a,avgCpu:_.reduce(((e,s)=>e+s.cpuUsage),0)/(a||1),avgMemory:_.reduce(((e,s)=>e+s.memoryUsage),0)/(a||1),avgDisk:_.reduce(((e,s)=>e+s.diskUsage),0)/(a||1)}}),[_]);return(0,a.jsxs)("div",{className:"container mx-auto py-8 space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Monitoring Dashboard"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(V.Ph,{value:s,onValueChange:t,children:[a.jsx(V.i4,{className:"w-[180px]",children:a.jsx(V.ki,{placeholder:"Select time range"})}),a.jsx(V.Bw,{children:H.map((e=>a.jsx(V.Ql,{value:e.value,children:e.label},e.value)))})]}),(0,a.jsxs)(v.z,{variant:"outline",size:"sm",onClick:()=>{O(),R(),W(),e({title:"Dashboard Refreshed",description:"The monitoring data has been refreshed"})},children:[a.jsx(y.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),(0,a.jsxs)(h.mQ,{defaultValue:d,onValueChange:j,children:[(0,a.jsxs)(h.dr,{className:"grid w-full grid-cols-5",children:[a.jsx(h.SP,{value:"overview",children:"Overview"}),a.jsx(h.SP,{value:"vms",children:"Virtual Machines"}),a.jsx(h.SP,{value:"alerts",children:"Alerts"}),a.jsx(h.SP,{value:"analytics",children:"Analytics"}),a.jsx(h.SP,{value:"advanced",children:"Advanced Analytics"})]}),(0,a.jsxs)(h.nU,{value:"overview",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(Q,{title:"System CPU Usage",value:F(f?.currentCpuUsage||45),icon:a.jsx(N.Z,{}),change:f?.cpuChangePercentage||5.2,sparklineData:K.slice(-10)}),a.jsx(Q,{title:"Memory Usage",value:F(f?.currentMemoryUsage||72),icon:a.jsx(k.Z,{}),change:f?.memoryChangePercentage||-2.1,sparklineData:se.slice(-10)}),a.jsx(Q,{title:"Disk Usage",value:F(f?.currentDiskUsage||58),icon:a.jsx(S.Z,{}),change:f?.diskChangePercentage||1.8,sparklineData:te.slice(-10)}),a.jsx(Q,{title:"Network Usage",value:`${Math.round(f?.currentNetworkUsage||125)} Mbps`,icon:a.jsx(Z.Z,{}),change:f?.networkChangePercentage||12.5,sparklineData:ae.slice(-10)})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)(x.Zb,{className:"col-span-2 row-span-2",children:[(0,a.jsxs)(x.Ol,{children:[a.jsx(x.ll,{children:"System Metrics Over Time"}),a.jsx(x.SZ,{children:"Resource usage trends for the selected time period"})]}),a.jsx(x.aY,{children:a.jsx("div",{className:"h-80",children:a.jsx(c.x1,{data:ne,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0}}}})})})]}),(0,a.jsxs)(x.Zb,{children:[(0,a.jsxs)(x.Ol,{children:[a.jsx(x.ll,{children:"Virtual Machines"}),a.jsx(x.SZ,{children:"Status of managed VMs"})]}),(0,a.jsxs)(x.aY,{children:[(0,a.jsxs)("div",{className:"text-center pb-4",children:[a.jsx("div",{className:"text-3xl font-bold",children:le.total}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total VMs"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center",children:[(0,a.jsxs)("div",{className:"bg-green-100 p-2 rounded-md dark:bg-green-900/20",children:[a.jsx("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:le.running}),a.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Running"})]}),(0,a.jsxs)("div",{className:"bg-amber-100 p-2 rounded-md dark:bg-amber-900/20",children:[a.jsx("div",{className:"text-xl font-bold text-amber-600 dark:text-amber-400",children:le.stopped}),a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Stopped"})]}),(0,a.jsxs)("div",{className:"bg-red-100 p-2 rounded-md dark:bg-red-900/20",children:[a.jsx("div",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:le.error}),a.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:"Error"})]})]})]}),a.jsx(x.eW,{children:a.jsx(v.z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>j("vms"),children:"View Details"})})]}),(0,a.jsxs)(x.Zb,{children:[(0,a.jsxs)(x.Ol,{children:[a.jsx(x.ll,{children:"Active Alerts"}),a.jsx(x.SZ,{children:"Current system alerts"})]}),(0,a.jsxs)(x.aY,{children:[(0,a.jsxs)("div",{className:"text-center pb-4",children:[a.jsx("div",{className:"text-3xl font-bold",children:ie.critical+ie.error+ie.warning+ie.info}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Alerts"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-center",children:[(0,a.jsxs)("div",{className:"bg-red-100 p-2 rounded-md dark:bg-red-900/20",children:[a.jsx("div",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:ie.critical}),a.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:"Critical"})]}),(0,a.jsxs)("div",{className:"bg-orange-100 p-2 rounded-md dark:bg-orange-900/20",children:[a.jsx("div",{className:"text-xl font-bold text-orange-600 dark:text-orange-400",children:ie.error}),a.jsx("p",{className:"text-xs text-orange-600 dark:text-orange-400",children:"Error"})]}),(0,a.jsxs)("div",{className:"bg-amber-100 p-2 rounded-md dark:bg-amber-900/20",children:[a.jsx("div",{className:"text-xl font-bold text-amber-600 dark:text-amber-400",children:ie.warning}),a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Warning"})]}),(0,a.jsxs)("div",{className:"bg-blue-100 p-2 rounded-md dark:bg-blue-900/20",children:[a.jsx("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:ie.info}),a.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Info"})]})]})]}),a.jsx(x.eW,{children:a.jsx(v.z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>j("alerts"),children:"View Details"})})]})]})]}),(0,a.jsxs)(h.nU,{value:"vms",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 grid-cols-3",children:[(0,a.jsxs)(x.Zb,{children:[(0,a.jsxs)(x.Ol,{children:[a.jsx(x.ll,{children:"VM Summary"}),a.jsx(x.SZ,{children:"Overview of managed virtual machines"})]}),a.jsx(x.aY,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:le.total}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Total VMs"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:le.running}),a.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Running"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-amber-600 dark:text-amber-400",children:le.stopped}),a.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Stopped"})]})]})})]}),(0,a.jsxs)(x.Zb,{children:[(0,a.jsxs)(x.Ol,{children:[a.jsx(x.ll,{children:"Average Resource Usage"}),a.jsx(x.SZ,{children:"Across all running VMs"})]}),a.jsx(x.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm",children:"CPU"}),a.jsx("span",{className:"text-sm",children:F(le.avgCpu)})]}),a.jsx(p.E,{value:le.avgCpu,className:"h-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm",children:"Memory"}),a.jsx("span",{className:"text-sm",children:F(le.avgMemory)})]}),a.jsx(p.E,{value:le.avgMemory,className:"h-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between mb-1",children:[a.jsx("span",{className:"text-sm",children:"Disk"}),a.jsx("span",{className:"text-sm",children:F(le.avgDisk)})]}),a.jsx(p.E,{value:le.avgDisk,className:"h-2"})]})]})})]}),(0,a.jsxs)(x.Zb,{children:[(0,a.jsxs)(x.Ol,{children:[a.jsx(x.ll,{children:"Actions"}),a.jsx(x.SZ,{children:"VM management operations"})]}),(0,a.jsxs)(x.aY,{className:"space-y-2",children:[(0,a.jsxs)(v.z,{variant:"outline",size:"sm",className:"w-full justify-start",children:[a.jsx(M.Z,{className:"mr-2 h-4 w-4"}),"Provision New VM"]}),(0,a.jsxs)(v.z,{variant:"outline",size:"sm",className:"w-full justify-start",children:[a.jsx(I.Z,{className:"mr-2 h-4 w-4"}),"System Diagnostics"]}),(0,a.jsxs)(v.z,{variant:"outline",size:"sm",className:"w-full justify-start",children:[a.jsx(C.Z,{className:"mr-2 h-4 w-4"}),"Storage Management"]})]})]})]}),(0,a.jsxs)(x.Zb,{children:[(0,a.jsxs)(x.Ol,{children:[a.jsx(x.ll,{children:"Virtual Machines"}),a.jsx(x.SZ,{children:"All monitored virtual machines in the system"})]}),a.jsx(x.aY,{children:Y?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading VM metrics..."})}):_&&_.length>0?a.jsx(ee,{vms:_}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"No virtual machines found."})})})]})]}),(0,a.jsxs)(h.nU,{value:"alerts",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 grid-cols-4",children:[(0,a.jsxs)(x.Zb,{className:"col-span-1",children:[(0,a.jsxs)(x.Ol,{children:[a.jsx(x.ll,{children:"Alert Status"}),a.jsx(x.SZ,{children:"Active alerts by severity"})]}),a.jsx(x.aY,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-sm flex items-center",children:[a.jsx("span",{className:"h-3 w-3 rounded-full bg-red-500 inline-block mr-2"}),"Critical"]}),a.jsx(g.C,{variant:"outline",className:"bg-red-100 text-red-600 dark:bg-red-900/20 dark:text-red-400",children:ie.critical})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-sm flex items-center",children:[a.jsx("span",{className:"h-3 w-3 rounded-full bg-orange-500 inline-block mr-2"}),"Error"]}),a.jsx(g.C,{variant:"outline",className:"bg-orange-100 text-orange-600 dark:bg-orange-900/20 dark:text-orange-400",children:ie.error})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-sm flex items-center",children:[a.jsx("span",{className:"h-3 w-3 rounded-full bg-amber-500 inline-block mr-2"}),"Warning"]}),a.jsx(g.C,{variant:"outline",className:"bg-amber-100 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400",children:ie.warning})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-sm flex items-center",children:[a.jsx("span",{className:"h-3 w-3 rounded-full bg-blue-500 inline-block mr-2"}),"Info"]}),a.jsx(g.C,{variant:"outline",className:"bg-blue-100 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400",children:ie.info})]})]})})]}),(0,a.jsxs)(x.Zb,{className:"col-span-3",children:[(0,a.jsxs)(x.Ol,{children:[a.jsx(x.ll,{children:"Alert Timeline"}),a.jsx(x.SZ,{children:"Alert activity over time"})]}),a.jsx(x.aY,{children:a.jsx("div",{className:"h-56",children:a.jsx(c.$Q,{data:{labels:["6h ago","5h ago","4h ago","3h ago","2h ago","1h ago","Now"],datasets:[{label:"Critical",data:[2,1,3,0,2,1,ie.critical],backgroundColor:"rgba(220, 38, 38, 0.8)"},{label:"Error",data:[3,2,4,1,3,2,ie.error],backgroundColor:"rgba(234, 88, 12, 0.8)"},{label:"Warning",data:[5,4,6,3,5,4,ie.warning],backgroundColor:"rgba(245, 158, 11, 0.8)"},{label:"Info",data:[7,6,8,5,7,6,ie.info],backgroundColor:"rgba(59, 130, 246, 0.8)"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{stacked:!0},y:{stacked:!0,beginAtZero:!0}}}})})})]})]}),(0,a.jsxs)(x.Zb,{children:[(0,a.jsxs)(x.Ol,{children:[a.jsx(x.ll,{children:"Current Alerts"}),a.jsx(x.SZ,{children:"Active and recent alerts"})]}),a.jsx(x.aY,{children:E?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"Loading alerts..."})}):L&&L.length>0?a.jsx("div",{className:"space-y-2",children:L.map((e=>a.jsx(J,{alert:e,onAcknowledge:X},e.id)))}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-muted-foreground",children:"No alerts found."})})})]})]}),a.jsx(h.nU,{value:"analytics",className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid gap-4 grid-cols-1",children:[(0,a.jsxs)(x.Zb,{children:[(0,a.jsxs)(x.Ol,{children:[a.jsx(x.ll,{children:"Resource Usage Analysis"}),a.jsx(x.SZ,{children:"Pattern analysis and trend detection"})]}),a.jsx(x.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"CPU Trend Analysis"}),a.jsx("div",{className:"h-60",children:a.jsx(c.x1,{data:{labels:re,datasets:[{label:"CPU Usage (%)",data:K,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:100}}}})}),a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:f?.cpuAnalysis||"CPU usage shows standard workday pattern with peaks during business hours."})})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:"Memory Allocation"}),a.jsx("div",{className:"h-60",children:a.jsx(c.$I,{data:{labels:["In Use","Available","Reserved","Cached"],datasets:[{data:[f?.memoryInUse||65,f?.memoryAvailable||15,f?.memoryReserved||10,f?.memoryCached||10],backgroundColor:["rgba(153, 102, 255, 0.8)","rgba(75, 192, 192, 0.8)","rgba(255, 159, 64, 0.8)","rgba(54, 162, 235, 0.8)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1}})}),a.jsx("div",{className:"mt-2",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:f?.memoryAnalysis||"Memory allocation is healthy with sufficient available memory for peak operations."})})]})]})})]}),(0,a.jsxs)(x.Zb,{children:[(0,a.jsxs)(x.Ol,{children:[a.jsx(x.ll,{children:"Predictive Insights"}),a.jsx(x.SZ,{children:"AI-powered system predictions"})]}),a.jsx(x.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsxs)("h4",{className:"font-medium mb-1 flex items-center",children:[a.jsx(M.Z,{className:"h-4 w-4 mr-2"}),"Resource Forecasting"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Based on current trends, system resources will be sufficient for the next 30 days. Consider adding additional storage capacity within 45 days as growth trends indicate 80% usage by that time."})]}),(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsxs)("h4",{className:"font-medium mb-1 flex items-center",children:[a.jsx(b.Z,{className:"h-4 w-4 mr-2"}),"Anomaly Detection"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Hypervisor node 2 is showing slight performance degradation patterns compared to historical baseline. This may indicate early hardware issues or resource contention. Scheduled diagnostic recommended."})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsxs)("h4",{className:"font-medium mb-1 flex items-center",children:[a.jsx(I.Z,{className:"h-4 w-4 mr-2"}),"Performance Optimization"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"VM resource rebalancing across nodes could improve overall system performance by an estimated 12-15%. Database-heavy VMs on node 3 would benefit from memory reallocation from underutilized compute-optimized VMs."})]}),(0,a.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,a.jsxs)("h4",{className:"font-medium mb-1 flex items-center",children:[a.jsx(D.Z,{className:"h-4 w-4 mr-2"}),"Workload Patterns"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"System has identified recurring peak usage patterns every Tuesday and Thursday between 2-4 PM UTC. Consider scheduling non-essential maintenance outside these windows and potentially allocating additional resources during peaks."})]})]})]})})]})]})}),(0,a.jsxs)(h.nU,{value:"advanced",className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid gap-4 grid-cols-2",children:[a.jsx(U.q,{title:"CPU Usage Forecast",description:"Predicted CPU usage based on historical patterns",metricName:"CPU Usage",metricUnit:"%",historicalData:[{timestamp:(0,u.Z)(new Date,24).toISOString(),value:45},{timestamp:(0,u.Z)(new Date,23).toISOString(),value:42},{timestamp:(0,u.Z)(new Date,22).toISOString(),value:47},{timestamp:(0,u.Z)(new Date,21).toISOString(),value:52},{timestamp:(0,u.Z)(new Date,20).toISOString(),value:58},{timestamp:(0,u.Z)(new Date,19).toISOString(),value:63},{timestamp:(0,u.Z)(new Date,18).toISOString(),value:68},{timestamp:(0,u.Z)(new Date,17).toISOString(),value:72},{timestamp:(0,u.Z)(new Date,16).toISOString(),value:75},{timestamp:(0,u.Z)(new Date,15).toISOString(),value:78},{timestamp:(0,u.Z)(new Date,14).toISOString(),value:76},{timestamp:(0,u.Z)(new Date,13).toISOString(),value:72},{timestamp:(0,u.Z)(new Date,12).toISOString(),value:68},{timestamp:(0,u.Z)(new Date,11).toISOString(),value:64},{timestamp:(0,u.Z)(new Date,10).toISOString(),value:60},{timestamp:(0,u.Z)(new Date,9).toISOString(),value:58},{timestamp:(0,u.Z)(new Date,8).toISOString(),value:55},{timestamp:(0,u.Z)(new Date,7).toISOString(),value:52},{timestamp:(0,u.Z)(new Date,6).toISOString(),value:48},{timestamp:(0,u.Z)(new Date,5).toISOString(),value:45},{timestamp:(0,u.Z)(new Date,4).toISOString(),value:42},{timestamp:(0,u.Z)(new Date,3).toISOString(),value:40},{timestamp:(0,u.Z)(new Date,2).toISOString(),value:38},{timestamp:(0,u.Z)(new Date,1).toISOString(),value:42}],predictedData:[{timestamp:(new Date).toISOString(),value:45,upperBound:50,lowerBound:40},{timestamp:(0,m.Z)(new Date,1).toISOString(),value:48,upperBound:55,lowerBound:41},{timestamp:(0,m.Z)(new Date,2).toISOString(),value:52,upperBound:60,lowerBound:44},{timestamp:(0,m.Z)(new Date,3).toISOString(),value:58,upperBound:67,lowerBound:49},{timestamp:(0,m.Z)(new Date,4).toISOString(),value:65,upperBound:75,lowerBound:55},{timestamp:(0,m.Z)(new Date,5).toISOString(),value:72,upperBound:82,lowerBound:62},{timestamp:(0,m.Z)(new Date,6).toISOString(),value:78,upperBound:88,lowerBound:68},{timestamp:(0,m.Z)(new Date,7).toISOString(),value:82,upperBound:92,lowerBound:72},{timestamp:(0,m.Z)(new Date,8).toISOString(),value:80,upperBound:90,lowerBound:70},{timestamp:(0,m.Z)(new Date,9).toISOString(),value:75,upperBound:85,lowerBound:65},{timestamp:(0,m.Z)(new Date,10).toISOString(),value:68,upperBound:78,lowerBound:58},{timestamp:(0,m.Z)(new Date,11).toISOString(),value:60,upperBound:70,lowerBound:50}],anomalies:[{timestamp:(0,m.Z)(new Date,5).toISOString(),severity:"medium",message:"Unusual spike in CPU usage"}]}),a.jsx(B.z,{title:"Resource Utilization",description:"Hierarchical view of resource usage across the system",data:{id:"root",name:"System",value:100,children:[{id:"compute",name:"Compute",value:65,children:[{id:"vm-1",name:"VM-1",value:78},{id:"vm-2",name:"VM-2",value:45},{id:"vm-3",name:"VM-3",value:92},{id:"vm-4",name:"VM-4",value:58},{id:"vm-5",name:"VM-5",value:62}]},{id:"storage",name:"Storage",value:72,children:[{id:"storage-1",name:"SSD-1",value:85},{id:"storage-2",name:"SSD-2",value:65},{id:"storage-3",name:"HDD-1",value:45}]},{id:"network",name:"Network",value:48,children:[{id:"network-1",name:"Switch-1",value:52},{id:"network-2",name:"Router-1",value:38},{id:"network-3",name:"Gateway",value:65}]}]},height:350})]}),(0,a.jsxs)("div",{className:"grid gap-4 grid-cols-2",children:[a.jsx(P.O,{title:"CPU Usage Patterns",description:"Heatmap showing CPU usage patterns across VMs over time",data:[{timestamp:"2025-04-11T00:00:00Z",resourceId:"VM-1",value:45},{timestamp:"2025-04-11T01:00:00Z",resourceId:"VM-1",value:48},{timestamp:"2025-04-11T02:00:00Z",resourceId:"VM-1",value:52},{timestamp:"2025-04-11T03:00:00Z",resourceId:"VM-1",value:58},{timestamp:"2025-04-11T04:00:00Z",resourceId:"VM-1",value:65},{timestamp:"2025-04-11T05:00:00Z",resourceId:"VM-1",value:72},{timestamp:"2025-04-11T06:00:00Z",resourceId:"VM-1",value:78},{timestamp:"2025-04-11T00:00:00Z",resourceId:"VM-2",value:35},{timestamp:"2025-04-11T01:00:00Z",resourceId:"VM-2",value:38},{timestamp:"2025-04-11T02:00:00Z",resourceId:"VM-2",value:42},{timestamp:"2025-04-11T03:00:00Z",resourceId:"VM-2",value:48},{timestamp:"2025-04-11T04:00:00Z",resourceId:"VM-2",value:55},{timestamp:"2025-04-11T05:00:00Z",resourceId:"VM-2",value:62},{timestamp:"2025-04-11T06:00:00Z",resourceId:"VM-2",value:68},{timestamp:"2025-04-11T00:00:00Z",resourceId:"VM-3",value:55},{timestamp:"2025-04-11T01:00:00Z",resourceId:"VM-3",value:58},{timestamp:"2025-04-11T02:00:00Z",resourceId:"VM-3",value:62},{timestamp:"2025-04-11T03:00:00Z",resourceId:"VM-3",value:68},{timestamp:"2025-04-11T04:00:00Z",resourceId:"VM-3",value:75},{timestamp:"2025-04-11T05:00:00Z",resourceId:"VM-3",value:82},{timestamp:"2025-04-11T06:00:00Z",resourceId:"VM-3",value:88},{timestamp:"2025-04-11T00:00:00Z",resourceId:"VM-4",value:25},{timestamp:"2025-04-11T01:00:00Z",resourceId:"VM-4",value:28},{timestamp:"2025-04-11T02:00:00Z",resourceId:"VM-4",value:32},{timestamp:"2025-04-11T03:00:00Z",resourceId:"VM-4",value:38},{timestamp:"2025-04-11T04:00:00Z",resourceId:"VM-4",value:45},{timestamp:"2025-04-11T05:00:00Z",resourceId:"VM-4",value:52},{timestamp:"2025-04-11T06:00:00Z",resourceId:"VM-4",value:58},{timestamp:"2025-04-11T00:00:00Z",resourceId:"VM-5",value:65},{timestamp:"2025-04-11T01:00:00Z",resourceId:"VM-5",value:68},{timestamp:"2025-04-11T02:00:00Z",resourceId:"VM-5",value:72},{timestamp:"2025-04-11T03:00:00Z",resourceId:"VM-5",value:78},{timestamp:"2025-04-11T04:00:00Z",resourceId:"VM-5",value:85},{timestamp:"2025-04-11T05:00:00Z",resourceId:"VM-5",value:92},{timestamp:"2025-04-11T06:00:00Z",resourceId:"VM-5",value:95}]}),a.jsx(A.NetworkTopology,{title:"System Topology",description:"Interactive visualization of system components and their relationships",data:{nodes:[{id:"host-1",name:"Host-1",type:"host",status:"healthy"},{id:"vm-1",name:"VM-1",type:"vm",status:"healthy"},{id:"vm-2",name:"VM-2",type:"vm",status:"warning"},{id:"vm-3",name:"VM-3",type:"vm",status:"healthy"},{id:"vm-4",name:"VM-4",type:"vm",status:"error"},{id:"vm-5",name:"VM-5",type:"vm",status:"healthy"},{id:"storage-1",name:"SSD-1",type:"storage",status:"healthy"},{id:"storage-2",name:"SSD-2",type:"storage",status:"healthy"},{id:"network-1",name:"Switch",type:"network",status:"healthy"}],edges:[{source:"host-1",target:"vm-1",type:"dependency"},{source:"host-1",target:"vm-2",type:"dependency"},{source:"host-1",target:"vm-3",type:"dependency"},{source:"host-1",target:"vm-4",type:"dependency"},{source:"host-1",target:"vm-5",type:"dependency"},{source:"vm-1",target:"storage-1",type:"storage",metrics:{latency:2.5}},{source:"vm-2",target:"storage-1",type:"storage",metrics:{latency:3.2}},{source:"vm-3",target:"storage-2",type:"storage",metrics:{latency:1.8}},{source:"vm-4",target:"storage-2",type:"storage",metrics:{latency:4.5}},{source:"vm-5",target:"storage-1",type:"storage",metrics:{latency:2.1}},{source:"vm-1",target:"network-1",type:"network",metrics:{bandwidth:100}},{source:"vm-2",target:"network-1",type:"network",metrics:{bandwidth:80}},{source:"vm-3",target:"network-1",type:"network",metrics:{bandwidth:120}},{source:"vm-4",target:"network-1",type:"network",metrics:{bandwidth:60}},{source:"vm-5",target:"network-1",type:"network",metrics:{bandwidth:90}}]},height:350})]}),a.jsx($,{alerts:[{id:"alert-1",name:"High CPU Usage",description:"VM-5 CPU usage exceeds 90%",severity:"warning",status:"firing",startTime:(new Date).toISOString(),labels:{host:"Host-1",vm:"VM-5",metric:"cpu"},value:95,resource:"VM-5"},{id:"alert-2",name:"Memory Pressure",description:"VM-5 memory usage exceeds 85%",severity:"warning",status:"firing",startTime:(0,u.Z)(new Date,1).toISOString(),labels:{host:"Host-1",vm:"VM-5",metric:"memory"},value:88,resource:"VM-5"},{id:"alert-3",name:"Disk I/O Saturation",description:"SSD-1 I/O operations exceeding threshold",severity:"error",status:"firing",startTime:(0,u.Z)(new Date,2).toISOString(),labels:{storage:"SSD-1",metric:"iops"},value:95,resource:"SSD-1"},{id:"alert-4",name:"Network Latency",description:"Increased network latency detected",severity:"warning",status:"acknowledged",startTime:(0,u.Z)(new Date,3).toISOString(),labels:{network:"Switch-1",metric:"latency"},value:120,resource:"Network"},{id:"alert-5",name:"VM Unresponsive",description:"VM-4 is not responding to health checks",severity:"critical",status:"firing",startTime:(0,u.Z)(new Date,1).toISOString(),labels:{host:"Host-1",vm:"VM-4",metric:"health"},value:0,resource:"VM-4"}],relations:[{source:"alert-3",target:"alert-1",type:"causes",confidence:.85},{source:"alert-3",target:"alert-2",type:"causes",confidence:.75},{source:"alert-4",target:"alert-3",type:"correlates",confidence:.65},{source:"alert-5",target:"alert-4",type:"correlates",confidence:.55}],onAcknowledge:s=>{e({title:"Alert Acknowledged",description:`Alert ${s} has been acknowledged`})}})]})]})]})},te="force-dynamic";function ae(){return a.jsx(se,{})}},86847:(e,s,t)=>{"use strict";t.d(s,{E:()=>l});var a=t(30784),r=t(9885),n=t(81915),i=t(80467);const l=r.forwardRef((({className:e,value:s,...t},r)=>a.jsx(n.fC,{ref:r,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...t,children:a.jsx(n.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})})));l.displayName=n.fC.displayName},31471:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>r,default:()=>d,dynamic:()=>l});const a=(0,t(95153).createProxy)(String.raw`/home/kp/novacron/frontend/src/app/monitoring/page.tsx`),{__esModule:r,$$typeof:n}=a,i=a.default,l=a.dynamic,d=i}};var s=require("../../webpack-runtime.js");s.C(e);var t=s.X(0,[5560,5876,433,1425,1150,3528,1928,1915,3993,3223,6201,8381,7373,5112,4562,7950,5319,3215,3342,7133,4975,9748,6589,3712,7478,1920,727],(()=>{return e=63069,s(s.s=e);var e}));module.exports=t})();