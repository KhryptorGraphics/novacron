(()=>{var e={id:3307,ids:[3307]};e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},74932:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>r.ZP,__next_app__:()=>x,originalPathname:()=>o,pages:()=>c,routeModule:()=>m,tree:()=>d});var t=a(67096),l=a(16132),r=a(78658),n=a(32564),i={};for(const u in n)["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(u)<0&&(i[u]=()=>n[u]);a.d(s,i);const d=["",{children:["storage",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,52917)),"/home/kp/novacron/frontend/src/app/storage/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,35519)),"/home/kp/novacron/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/home/kp/novacron/frontend/src/app/storage/page.tsx"],o="/storage/page",x={require:a,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/storage/page",pathname:"/storage",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},73385:(e,s,a)=>{Promise.resolve().then(a.bind(a,96955))},96955:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>C,dynamic:()=>Z});var t=a(30784),l=a(9885),r=a(97040),n=a(45304),i=a(17133),d=a(57505),c=a(7950),o=a(63342),x=a(86847),m=a(92032),u=a(51831),h=a(95693),j=a(76494),p=a(78394),g=a(82875),v=a(22385),f=a(70173),N=a(5987),y=a(35256),b=a(89815),w=a(69518),S=a(85574),z=a(26303),P=a(96589);const Z="force-dynamic",k=[{id:"pool-01",name:"Primary SSD Pool",type:"ssd",status:"healthy",totalSize:2e3,usedSize:850,availableSize:1150,usage:42.5,nodes:["node-01","node-02"],redundancy:"raid10",iops:15e3,throughput:2.5,vmsCount:12},{id:"pool-02",name:"Backup HDD Pool",type:"hdd",status:"healthy",totalSize:8e3,usedSize:3200,availableSize:4800,usage:40,nodes:["node-03","node-04"],redundancy:"raid6",iops:500,throughput:.8,vmsCount:8},{id:"pool-03",name:"Archive Storage",type:"hdd",status:"warning",totalSize:12e3,usedSize:9600,availableSize:2400,usage:80,nodes:["node-05"],redundancy:"raid5",iops:200,throughput:.5,vmsCount:3}],A=[{id:"vol-001",name:"web-server-01-disk",vmId:"vm-001",vmName:"web-server-01",pool:"pool-01",size:100,used:32,usage:32,type:"system",status:"active",created:"2024-01-15T10:30:00Z"},{id:"vol-002",name:"database-primary-disk",vmId:"vm-002",vmName:"database-primary",pool:"pool-01",size:500,used:280,usage:56,type:"system",status:"active",created:"2024-01-10T14:22:00Z"},{id:"vol-003",name:"backup-volume-01",vmId:"vm-004",vmName:"backup-server",pool:"pool-02",size:1e3,used:450,usage:45,type:"data",status:"active",created:"2024-01-08T16:45:00Z"},{id:"vol-004",name:"archived-data",vmId:null,vmName:null,pool:"pool-03",size:2e3,used:1800,usage:90,type:"archive",status:"mounted",created:"2023-12-01T09:00:00Z"}];function C(){const[e,s]=(0,l.useState)(k),[a,Z]=(0,l.useState)(A),[C,_]=(0,l.useState)(""),[M,V]=(0,l.useState)("all"),[T,O]=(0,l.useState)("all"),q=Array.isArray(a)?a.filter((e=>{if(!e)return!1;const s=(e.name||"").toLowerCase().includes(C.toLowerCase())||e.vmName&&e.vmName.toLowerCase().includes(C.toLowerCase()),a="all"===M||e.pool===M,t="all"===T||e.type===T;return s&&a&&t})):[],B=e=>{switch(e){case"healthy":case"active":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"warning":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"error":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";case"mounted":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-400"}},E=e=>{switch(e){case"healthy":case"active":return t.jsx(m.Z,{className:"h-4 w-4"});case"warning":case"error":default:return t.jsx(u.Z,{className:"h-4 w-4"});case"mounted":return t.jsx(h.Z,{className:"h-4 w-4"})}},I=e=>{switch(e){case"ssd":return t.jsx(j.Z,{className:"h-4 w-4"});case"hdd":return t.jsx(p.Z,{className:"h-4 w-4"});default:return t.jsx(g.Z,{className:"h-4 w-4"})}},G=e=>e<70?"text-green-600 dark:text-green-400":e<85?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",Y=e=>{if(0===e)return"0 GB";const s=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,s)).toFixed(2))+" "+["GB","TB","PB"][s]},$={totalStorage:e.reduce(((e,s)=>e+s.totalSize),0),usedStorage:e.reduce(((e,s)=>e+s.usedSize),0),availableStorage:e.reduce(((e,s)=>e+s.availableSize),0),totalVolumes:a.length,activeVolumes:a.filter((e=>"active"===e.status)).length},Q=$.usedStorage/$.totalStorage*100;return(0,t.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Storage Management"}),t.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage your storage infrastructure"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(n.z,{variant:"outline",children:[t.jsx(v.Z,{className:"h-4 w-4 mr-2"}),"Add Volume"]}),(0,t.jsxs)(n.z,{children:[t.jsx(v.Z,{className:"h-4 w-4 mr-2"}),"Create Pool"]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(r.ll,{className:"text-sm font-medium",children:"Total Storage"}),t.jsx(g.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(r.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:Y($.totalStorage)}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[Y($.usedStorage)," used"]}),t.jsx("div",{className:"mt-2",children:t.jsx(x.E,{value:Q,className:"h-1"})}),(0,t.jsxs)("p",{className:`text-xs mt-1 ${G(Q)}`,children:[Q.toFixed(1),"% utilized"]})]})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(r.ll,{className:"text-sm font-medium",children:"Storage Pools"}),t.jsx(f.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(r.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:e.length}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:[e.filter((e=>"healthy"===e.status)).length," healthy"]})]})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(r.ll,{className:"text-sm font-medium",children:"Active Volumes"}),t.jsx(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(r.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:$.activeVolumes}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["of ",$.totalVolumes," total"]})]})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(r.ll,{className:"text-sm font-medium",children:"Available Space"}),t.jsx(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsxs)(r.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:Y($.availableStorage)}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready for allocation"})]})]})]}),(0,t.jsxs)(o.mQ,{defaultValue:"pools",className:"w-full",children:[(0,t.jsxs)(o.dr,{children:[t.jsx(o.SP,{value:"pools",children:"Storage Pools"}),t.jsx(o.SP,{value:"volumes",children:"Volumes"}),t.jsx(o.SP,{value:"performance",children:"Performance"})]}),t.jsx(o.nU,{value:"pools",className:"space-y-4",children:t.jsx("div",{className:"grid gap-4 md:grid-cols-1 lg:grid-cols-2",children:Array.isArray(e)&&e.map((e=>(0,t.jsxs)(r.Zb,{className:"hover:shadow-md transition-shadow",children:[t.jsx(r.Ol,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:I(e.type)}),(0,t.jsxs)("div",{children:[t.jsx(r.ll,{className:"text-lg",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.redundancy.toUpperCase()," \u2022 ",e.nodes.join(", ")]})]})]}),(0,t.jsxs)(i.C,{className:B(e.status),children:[E(e.status),t.jsx("span",{className:"ml-1 capitalize",children:e.status})]})]})}),(0,t.jsxs)(r.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{children:"Storage Usage"}),(0,t.jsxs)("span",{className:G(e.usage),children:[e.usage.toFixed(1),"%"]})]}),t.jsx(x.E,{value:e.usage,className:"h-2"}),(0,t.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground",children:[(0,t.jsxs)("span",{children:[Y(e.usedSize)," used"]}),(0,t.jsxs)("span",{children:[Y(e.totalSize)," total"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"font-medium",children:e.iops.toLocaleString()}),t.jsx("div",{className:"text-muted-foreground",children:"IOPS"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsxs)("div",{className:"font-medium",children:[e.throughput," GB/s"]}),t.jsx("div",{className:"text-muted-foreground",children:"Throughput"})]}),(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"font-medium",children:e.vmsCount}),t.jsx("div",{className:"text-muted-foreground",children:"VMs"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(n.z,{variant:"outline",size:"sm",children:[t.jsx(N.Z,{className:"h-4 w-4 mr-1"}),"Configure"]}),(0,t.jsxs)(n.z,{variant:"outline",size:"sm",children:[t.jsx(y.Z,{className:"h-4 w-4 mr-1"}),"Metrics"]})]}),t.jsx(n.z,{variant:"ghost",size:"sm",className:"text-muted-foreground",children:t.jsx(b.Z,{className:"h-4 w-4"})})]})]})]},e.id)))})}),(0,t.jsxs)(o.nU,{value:"volumes",className:"space-y-4",children:[t.jsx(r.Zb,{children:t.jsx(r.aY,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[t.jsx(w.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),t.jsx(d.I,{placeholder:"Search volumes by name or VM...",value:C,onChange:e=>_(e.target.value),className:"pl-10"})]}),(0,t.jsxs)(c.Ph,{value:M,onValueChange:V,children:[t.jsx(c.i4,{className:"w-40",children:t.jsx(c.ki,{placeholder:"Pool"})}),(0,t.jsxs)(c.Bw,{children:[t.jsx(c.Ql,{value:"all",children:"All Pools"}),Array.isArray(e)&&e.map((e=>t.jsx(c.Ql,{value:e.id,children:e.name},e.id)))]})]}),(0,t.jsxs)(c.Ph,{value:T,onValueChange:O,children:[t.jsx(c.i4,{className:"w-40",children:t.jsx(c.ki,{placeholder:"Type"})}),(0,t.jsxs)(c.Bw,{children:[t.jsx(c.Ql,{value:"all",children:"All Types"}),t.jsx(c.Ql,{value:"system",children:"System"}),t.jsx(c.Ql,{value:"data",children:"Data"}),t.jsx(c.Ql,{value:"archive",children:"Archive"})]})]})]})})}),t.jsx(r.Zb,{children:(0,t.jsxs)(P.iA,{children:[t.jsx(P.xD,{children:(0,t.jsxs)(P.SC,{children:[t.jsx(P.ss,{children:"Volume Name"}),t.jsx(P.ss,{children:"VM"}),t.jsx(P.ss,{children:"Pool"}),t.jsx(P.ss,{children:"Size"}),t.jsx(P.ss,{children:"Usage"}),t.jsx(P.ss,{children:"Type"}),t.jsx(P.ss,{children:"Status"}),t.jsx(P.ss,{children:"Actions"})]})}),t.jsx(P.RM,{children:Array.isArray(q)&&q.map((s=>(0,t.jsxs)(P.SC,{children:[t.jsx(P.pj,{className:"font-medium",children:s.name}),t.jsx(P.pj,{children:s.vmName?t.jsx("span",{children:s.vmName}):t.jsx("span",{className:"text-muted-foreground",children:"Unattached"})}),t.jsx(P.pj,{children:e.find((e=>e.id===s.pool))?.name}),t.jsx(P.pj,{children:Y(s.size)}),t.jsx(P.pj,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-16",children:t.jsx(x.E,{value:s.usage,className:"h-1"})}),(0,t.jsxs)("span",{className:`text-sm ${G(s.usage)}`,children:[s.usage,"%"]})]})}),t.jsx(P.pj,{children:t.jsx(i.C,{variant:"outline",className:"capitalize",children:s.type})}),t.jsx(P.pj,{children:(0,t.jsxs)(i.C,{className:B(s.status),children:[E(s.status),t.jsx("span",{className:"ml-1 capitalize",children:s.status})]})}),t.jsx(P.pj,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[t.jsx(n.z,{variant:"ghost",size:"sm",children:t.jsx(N.Z,{className:"h-4 w-4"})}),t.jsx(n.z,{variant:"ghost",size:"sm",children:t.jsx(S.Z,{className:"h-4 w-4"})}),t.jsx(n.z,{variant:"ghost",size:"sm",className:"text-red-600",children:t.jsx(z.Z,{className:"h-4 w-4"})})]})})]},s.id)))})]})})]}),t.jsx(o.nU,{value:"performance",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[t.jsx(r.ll,{children:"IOPS Performance"}),t.jsx(r.SZ,{children:"Input/Output operations per second"})]}),t.jsx(r.aY,{children:t.jsx("div",{className:"space-y-3",children:Array.isArray(e)&&e.map((e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-24",children:t.jsx(x.E,{value:e.iops/2e4*100,className:"h-2"})}),t.jsx("span",{className:"text-sm font-mono w-16 text-right",children:e.iops.toLocaleString()})]})]},e.id)))})})]}),(0,t.jsxs)(r.Zb,{children:[(0,t.jsxs)(r.Ol,{children:[t.jsx(r.ll,{children:"Throughput Performance"}),t.jsx(r.SZ,{children:"Data transfer rates in GB/s"})]}),t.jsx(r.aY,{children:t.jsx("div",{className:"space-y-3",children:Array.isArray(e)&&e.map((e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium",children:e.name}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-24",children:t.jsx(x.E,{value:e.throughput/5*100,className:"h-2"})}),(0,t.jsxs)("span",{className:"text-sm font-mono w-16 text-right",children:[e.throughput," GB/s"]})]})]},e.id)))})})]})]})})]})]})}},57505:(e,s,a)=>{"use strict";a.d(s,{I:()=>n});var t=a(30784),l=a(9885),r=a(80467);const n=l.forwardRef((({className:e,type:s,...a},l)=>t.jsx("input",{type:s,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:l,...a})));n.displayName="Input"},86847:(e,s,a)=>{"use strict";a.d(s,{E:()=>i});var t=a(30784),l=a(9885),r=a(81915),n=a(80467);const i=l.forwardRef((({className:e,value:s,...a},l)=>t.jsx(r.fC,{ref:l,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...a,children:t.jsx(r.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})})));i.displayName=r.fC.displayName},52917:(e,s,a)=>{"use strict";a.r(s),a.d(s,{$$typeof:()=>r,__esModule:()=>l,default:()=>d,dynamic:()=>i});const t=(0,a(95153).createProxy)(String.raw`/home/kp/novacron/frontend/src/app/storage/page.tsx`),{__esModule:l,$$typeof:r}=t,n=t.default,i=t.dynamic,d=n}};var s=require("../../webpack-runtime.js");s.C(e);var a=s.X(0,[5560,5876,433,1425,1150,3528,1915,1578,517,7950,5319,3215,3342,7133,4975,6589],(()=>{return e=74932,s(s.s=e);var e}));module.exports=a})();