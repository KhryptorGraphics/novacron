"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1703],{40150:function(e,t,r){r.d(t,{C:function(){return c}});var n=r(57437),o=(r(2265),r(96061)),a=r(60345);const s=(0,o.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:t,variant:r,...o}=e;return(0,n.jsx)("div",{className:(0,a.cn)(s({variant:r}),t),...o})}},3089:function(e,t,r){r.d(t,{z:function(){return d}});var n=r(57437),o=r(2265),a=r(67256),s=r(96061),c=r(60345);const i=(0,s.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm hover:shadow-md",success:"bg-success text-success-foreground hover:bg-success/90 shadow-sm hover:shadow-md",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-sm hover:shadow-md",info:"bg-info text-info-foreground hover:bg-info/90 shadow-sm hover:shadow-md",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-accent-foreground/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm",ghost:"hover:bg-accent hover:text-accent-foreground hover:scale-105",link:"text-primary underline-offset-4 hover:underline hover:text-primary/80",nova:"bg-gradient-to-r from-nova-500 to-nova-600 text-white hover:from-nova-600 hover:to-nova-700 shadow-md hover:shadow-lg"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=o.forwardRef(((e,t)=>{let{className:r,variant:o,size:s,asChild:d=!1,...l}=e;const u=d?a.g7:"button";return(0,n.jsx)(u,{className:(0,c.cn)(i({variant:o,size:s,className:r})),ref:t,...l})}));d.displayName="Button"},10609:function(e,t,r){r.d(t,{Ol:function(){return c},SZ:function(){return d},Zb:function(){return s},aY:function(){return l},eW:function(){return u},ll:function(){return i}});var n=r(57437),o=r(2265),a=r(60345);const s=o.forwardRef(((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...o})}));s.displayName="Card";const c=o.forwardRef(((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...o})}));c.displayName="CardHeader";const i=o.forwardRef(((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...o})}));i.displayName="CardTitle";const d=o.forwardRef(((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...o})}));d.displayName="CardDescription";const l=o.forwardRef(((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...o})}));l.displayName="CardContent";const u=o.forwardRef(((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...o})}));u.displayName="CardFooter"},86582:function(e,t,r){r.d(t,{I:function(){return s}});var n=r(57437),o=r(2265),a=r(60345);const s=o.forwardRef(((e,t)=>{let{className:r,type:o,...s}=e;return(0,n.jsx)("input",{type:o,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})}));s.displayName="Input"},41735:function(e,t,r){r.d(t,{Bw:function(){return f},Ph:function(){return d},Ql:function(){return m},i4:function(){return u},ki:function(){return l}});var n=r(57437),o=r(2265),a=r(32544),s=r(83523),c=r(62442),i=r(60345);const d=a.fC,l=(a.ZA,a.B4),u=o.forwardRef(((e,t)=>{let{className:r,children:o,...c}=e;return(0,n.jsxs)(a.xz,{ref:t,className:(0,i.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),...c,children:[o,(0,n.jsx)(a.JO,{asChild:!0,children:(0,n.jsx)(s.Z,{className:"h-4 w-4 opacity-50"})})]})}));u.displayName=a.xz.displayName;const f=o.forwardRef(((e,t)=>{let{className:r,children:o,position:s="popper",...c}=e;return(0,n.jsx)(a.h_,{children:(0,n.jsx)(a.VY,{ref:t,className:(0,i.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md animate-in fade-in-80","popper"===s&&"translate-y-1",r),position:s,...c,children:(0,n.jsx)(a.l_,{className:(0,i.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:o})})})}));f.displayName=a.VY.displayName;o.forwardRef(((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)(a.__,{ref:t,className:(0,i.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...o})})).displayName=a.__.displayName;const m=o.forwardRef(((e,t)=>{let{className:r,children:o,...s}=e;return(0,n.jsxs)(a.ck,{ref:t,className:(0,i.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...s,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(a.wU,{children:(0,n.jsx)(c.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(a.eT,{children:o})]})}));m.displayName=a.ck.displayName;o.forwardRef(((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)(a.Z0,{ref:t,className:(0,i.cn)("-mx-1 my-1 h-px bg-muted",r),...o})})).displayName=a.Z0.displayName},45271:function(e,t,r){r.d(t,{RM:function(){return i},Rn:function(){return f},SC:function(){return d},iA:function(){return s},pj:function(){return u},ss:function(){return l},xD:function(){return c}});var n=r(57437),o=r(2265),a=r(60345);const s=o.forwardRef(((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("div",{className:"w-full overflow-auto",children:(0,n.jsx)("table",{ref:t,className:(0,a.cn)("w-full caption-bottom text-sm",r),...o})})}));s.displayName="Table";const c=o.forwardRef(((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("thead",{ref:t,className:(0,a.cn)("[&_tr]:border-b",r),...o})}));c.displayName="TableHeader";const i=o.forwardRef(((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("tbody",{ref:t,className:(0,a.cn)("[&_tr:last-child]:border-0",r),...o})}));i.displayName="TableBody";o.forwardRef(((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("tfoot",{ref:t,className:(0,a.cn)("bg-primary font-medium text-primary-foreground",r),...o})})).displayName="TableFooter";const d=o.forwardRef(((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("tr",{ref:t,className:(0,a.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...o})}));d.displayName="TableRow";const l=o.forwardRef(((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("th",{ref:t,className:(0,a.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...o})}));l.displayName="TableHead";const u=o.forwardRef(((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("td",{ref:t,className:(0,a.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...o})}));u.displayName="TableCell";const f=o.forwardRef(((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("caption",{ref:t,className:(0,a.cn)("mt-4 text-sm text-muted-foreground",r),...o})}));f.displayName="TableCaption"},33049:function(e,t,r){r.d(t,{R1:function(){return c},sg:function(){return i},x1:function(){return o}});var n=r(62601);const o=new class{setToken(e){this.token=e,e?localStorage.setItem("novacron_token",e):e||localStorage.removeItem("novacron_token")}clearToken(){this.token=null,localStorage.removeItem("novacron_token")}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r="".concat(this.baseURL).concat(e),n={"Content-Type":"application/json",...t.headers||{}};this.token&&(n.Authorization="Bearer ".concat(this.token));const o=await fetch(r,{...t,headers:n});if(!o.ok){const e=await o.text();throw new Error("API Error: ".concat(o.status," - ").concat(e))}return 204===o.status?{}:o.json()}async get(e){return this.request(e,{method:"GET"})}async post(e,t){return this.request(e,{method:"POST",body:t?JSON.stringify(t):null})}async put(e,t){return this.request(e,{method:"PUT",body:t?JSON.stringify(t):null})}async delete(e){return this.request(e,{method:"DELETE"})}connectWebSocket(e){try{const t="".concat(this.wsURL).concat(e),r=new WebSocket(t);return this.token&&r.addEventListener("open",(()=>{r.send(JSON.stringify({type:"auth",token:this.token}))})),r}catch(t){return console.error("Failed to create WebSocket connection:",t),null}}constructor(){this.token=null,this.baseURL=n.env.NEXT_PUBLIC_API_URL||"http://localhost:8090",this.wsURL=n.env.NEXT_PUBLIC_WS_URL||"ws://localhost:8091",this.token=localStorage.getItem("novacron_token")||null}},a=n.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:8090/api/v1";class s extends Error{constructor(e,t,r,n){super(r),this.status=e,this.code=t,this.url=n}}async function c(e,t,r){try{const o=function(e,t){const r=new URL(e,a),n=new URLSearchParams;if(t)for(const[o,a]of Object.entries(t))void 0!==a&&null!==a&&""!==a&&n.set(o,String(a));return r.search=n.toString(),r.toString()}(e,t);var n;const c=null!==(n=null===r||void 0===r?void 0:r.role)&&void 0!==n?n:"viewer",i=await fetch(o,{method:"GET",headers:{Accept:"application/json","X-Role":c},credentials:"include"});if(!i.ok)return{data:null,error:{code:"HTTP_".concat(i.status),message:i.statusText}};const d=await i.json(),l=function(e){const t=e.headers.get("X-Pagination");if(t)try{return JSON.parse(t)}catch(r){return}}(i);if(l&&(d.pagination=l),d.error)throw new s(i.status,d.error.code,d.error.message,o);return d}catch(o){return{data:null,error:{code:"FETCH_ERROR",message:o instanceof Error?o.message:"Unknown error"}}}}async function i(e,t,r){const n=new URL(e,a).toString();var o;const c=null!==(o=null===r||void 0===r?void 0:r.role)&&void 0!==o?o:"viewer",i=await fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Role":c},body:void 0!==t?JSON.stringify(t):void 0,credentials:"include"}),d=await i.json();if(d.error)throw new s(i.status,d.error.code,d.error.message,n);return d}},80651:function(e,t,r){r.d(t,{v:function(){return a}});var n=r(64874),o=r(58100);function a(e){const{data:t,isLoading:r,error:a}=(0,n.a)({queryKey:["vms",e],queryFn:()=>(0,o.tq)(e),staleTime:5e3});return{items:Array.isArray(null===t||void 0===t?void 0:t.data)?t.data:[],pagination:(null===t||void 0===t?void 0:t.pagination)||{page:1,pageSize:10,total:0,totalPages:0},isLoading:r,error:a}}},58100:function(e,t,r){r.d(t,{OC:function(){return a},cD:function(){return s},tq:function(){return o}});var n=r(33049);const o=e=>(0,n.R1)("/vms",e),a=e=>(0,n.R1)("/vms/".concat(e)),s=(e,t,r)=>(0,n.sg)("/vms/".concat(e,"/").concat(t),void 0,r)},60345:function(e,t,r){r.d(t,{cn:function(){return a}});var n=r(50348),o=r(23986);function a(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.m)((0,n.W)(t))}},37177:function(e,t,r){r.d(t,{c:function(){return o}});const n=r(62601).env.NEXT_PUBLIC_WS_URL||"ws://localhost:8090/ws/events/v1";function o(e){try{const t=localStorage.getItem("novacron_token"),r=t?"".concat(n,"?token=").concat(encodeURIComponent(t)):n,o=new WebSocket(r);let a=!0;return o.addEventListener("open",(()=>{console.log("WS connected"),t&&o.send(JSON.stringify({type:"auth",token:t}))})),o.addEventListener("error",(e=>console.warn("WS error:",e))),o.addEventListener("close",(()=>console.log("WS disconnected"))),o.addEventListener("message",(t=>{try{const r=JSON.parse(t.data);console.log("WS message:",r),a&&(a=!1,null===e||void 0===e||e(r))}catch(r){console.warn("WS message parse error",r)}})),o}catch(t){return console.error("Failed to create WebSocket:",t),{close:()=>{},addEventListener:()=>{},removeEventListener:()=>{},send:()=>{},readyState:WebSocket.CLOSED}}}}}]);