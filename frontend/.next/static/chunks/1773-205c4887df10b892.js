"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1773],{40150:function(e,t,n){n.d(t,{C:function(){return i}});var r=n(57437),o=(n(2265),n(96061)),a=n(60345);const s=(0,o.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:n,...o}=e;return(0,r.jsx)("div",{className:(0,a.cn)(s({variant:n}),t),...o})}},3089:function(e,t,n){n.d(t,{z:function(){return u}});var r=n(57437),o=n(2265),a=n(67256),s=n(96061),i=n(60345);const c=(0,s.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm hover:shadow-md",success:"bg-success text-success-foreground hover:bg-success/90 shadow-sm hover:shadow-md",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-sm hover:shadow-md",info:"bg-info text-info-foreground hover:bg-info/90 shadow-sm hover:shadow-md",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-accent-foreground/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm",ghost:"hover:bg-accent hover:text-accent-foreground hover:scale-105",link:"text-primary underline-offset-4 hover:underline hover:text-primary/80",nova:"bg-gradient-to-r from-nova-500 to-nova-600 text-white hover:from-nova-600 hover:to-nova-700 shadow-md hover:shadow-lg"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=o.forwardRef(((e,t)=>{let{className:n,variant:o,size:s,asChild:u=!1,...d}=e;const l=u?a.g7:"button";return(0,r.jsx)(l,{className:(0,i.cn)(c({variant:o,size:s,className:n})),ref:t,...d})}));u.displayName="Button"},10609:function(e,t,n){n.d(t,{Ol:function(){return i},SZ:function(){return u},Zb:function(){return s},aY:function(){return d},eW:function(){return l},ll:function(){return c}});var r=n(57437),o=n(2265),a=n(60345);const s=o.forwardRef(((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",n),...o})}));s.displayName="Card";const i=o.forwardRef(((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",n),...o})}));i.displayName="CardHeader";const c=o.forwardRef(((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",n),...o})}));c.displayName="CardTitle";const u=o.forwardRef(((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",n),...o})}));u.displayName="CardDescription";const d=o.forwardRef(((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",n),...o})}));d.displayName="CardContent";const l=o.forwardRef(((e,t)=>{let{className:n,...o}=e;return(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",n),...o})}));l.displayName="CardFooter"},19431:function(e,t,n){n.d(t,{Uo:function(){return s},f:function(){return i}});var r=n(57437),o=n(2265),a=n(65251);function s(e){let{children:t,delay:n=0,duration:o=.5,className:s=""}=e;return(0,r.jsx)(a.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:n,duration:o},className:s,children:t})}function i(e){let{value:t,duration:n=1e3,suffix:a=""}=e;const[s,i]=(0,o.useState)(0);return(0,o.useEffect)((()=>{if("number"!==typeof t||isNaN(t))return void i(0);const e=t,r=e/(n/16);let o=0;const a=setInterval((()=>{o+=r,o>=e?(i(e),clearInterval(a)):i(Math.floor(o))}),16);return()=>clearInterval(a)}),[t,n]),(0,r.jsxs)("span",{children:[s,a]})}},33049:function(e,t,n){n.d(t,{R1:function(){return i},sg:function(){return c},x1:function(){return o}});var r=n(59792);const o=new class{setToken(e){this.token=e,e?localStorage.setItem("novacron_token",e):e||localStorage.removeItem("novacron_token")}clearToken(){this.token=null,localStorage.removeItem("novacron_token")}async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="".concat(this.baseURL).concat(e),r={"Content-Type":"application/json",...t.headers||{}};this.token&&(r.Authorization="Bearer ".concat(this.token));const o=await fetch(n,{...t,headers:r});if(!o.ok){const e=await o.text();throw new Error("API Error: ".concat(o.status," - ").concat(e))}return 204===o.status?{}:o.json()}async get(e){return this.request(e,{method:"GET"})}async post(e,t){return this.request(e,{method:"POST",body:t?JSON.stringify(t):null})}async put(e,t){return this.request(e,{method:"PUT",body:t?JSON.stringify(t):null})}async delete(e){return this.request(e,{method:"DELETE"})}connectWebSocket(e){try{const t="".concat(this.wsURL).concat(e),n=new WebSocket(t);return this.token&&n.addEventListener("open",(()=>{n.send(JSON.stringify({type:"auth",token:this.token}))})),n}catch(t){return console.error("Failed to create WebSocket connection:",t),null}}constructor(){this.token=null,this.baseURL=r.env.NEXT_PUBLIC_API_URL||"http://localhost:8090",this.wsURL=r.env.NEXT_PUBLIC_WS_URL||"ws://localhost:8091",this.token=localStorage.getItem("novacron_token")||null}},a=r.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:8090/api/v1";class s extends Error{constructor(e,t,n,r){super(n),this.status=e,this.code=t,this.url=r}}async function i(e,t,n){try{const o=function(e,t){const n=new URL(e,a),r=new URLSearchParams;if(t)for(const[o,a]of Object.entries(t))void 0!==a&&null!==a&&""!==a&&r.set(o,String(a));return n.search=r.toString(),n.toString()}(e,t);var r;const i=null!==(r=null===n||void 0===n?void 0:n.role)&&void 0!==r?r:"viewer",c=await fetch(o,{method:"GET",headers:{Accept:"application/json","X-Role":i},credentials:"include"});if(!c.ok)return{data:null,error:{code:"HTTP_".concat(c.status),message:c.statusText}};const u=await c.json(),d=function(e){const t=e.headers.get("X-Pagination");if(t)try{return JSON.parse(t)}catch(n){return}}(c);if(d&&(u.pagination=d),u.error)throw new s(c.status,u.error.code,u.error.message,o);return u}catch(o){return{data:null,error:{code:"FETCH_ERROR",message:o instanceof Error?o.message:"Unknown error"}}}}async function c(e,t,n){const r=new URL(e,a).toString();var o;const i=null!==(o=null===n||void 0===n?void 0:n.role)&&void 0!==o?o:"viewer",c=await fetch(r,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Role":i},body:void 0!==t?JSON.stringify(t):void 0,credentials:"include"}),u=await c.json();if(u.error)throw new s(c.status,u.error.code,u.error.message,r);return u}},70946:function(e,t,n){n.d(t,{D0:function(){return N},FC:function(){return b},GB:function(){return R},Io:function(){return h},LL:function(){return U},O2:function(){return y},Pr:function(){return T},UV:function(){return g},Yy:function(){return _},aB:function(){return E},hT:function(){return S},k7:function(){return x},oi:function(){return L},rS:function(){return m},zR:function(){return w}});var r=n(64874),o=n(70165),a=n(55764),s=n(33049);const i="/admin/users",c="/admin/audit-logs",u="/admin/system/metrics",d="/admin/security/alerts",l="/admin/system/config",f="/admin/resource-quotas",v="/admin/vm-templates",p="/admin/reports/performance",m={USERS:["admin","users"],USER_SESSIONS:e=>["admin","user-sessions",e],AUDIT_LOGS:["admin","audit-logs"],SYSTEM_METRICS:["admin","system-metrics"],SECURITY_ALERTS:["admin","security-alerts"],SYSTEM_CONFIG:["admin","system-config"],RESOURCE_QUOTAS:["admin","resource-quotas"],VM_TEMPLATES:["admin","vm-templates"],PERFORMANCE_REPORTS:["admin","performance-reports"]},g=e=>(0,r.a)({queryKey:[...m.USERS,e],queryFn:async()=>{const t=new URLSearchParams;(null===e||void 0===e?void 0:e.status)&&t.append("status",e.status),(null===e||void 0===e?void 0:e.role)&&t.append("role",e.role),(null===e||void 0===e?void 0:e.search)&&t.append("search",e.search),(null===e||void 0===e?void 0:e.page)&&t.append("page",e.page.toString()),(null===e||void 0===e?void 0:e.pageSize)&&t.append("pageSize",e.pageSize.toString());return await s.x1.get("".concat(i,"?").concat(t.toString()))},staleTime:3e4,refetchInterval:6e4}),y=()=>{const e=(0,o.NL)();return(0,a.D)({mutationFn:async e=>s.x1.post(i,e),onSuccess:()=>{e.invalidateQueries({queryKey:m.USERS})}})},h=()=>{const e=(0,o.NL)();return(0,a.D)({mutationFn:async e=>{let{id:t,...n}=e;return s.x1.put("".concat(i,"/").concat(t),n)},onSuccess:()=>{e.invalidateQueries({queryKey:m.USERS})}})},S=e=>(0,r.a)({queryKey:[...m.AUDIT_LOGS,e],queryFn:async()=>{const t=new URLSearchParams;return(null===e||void 0===e?void 0:e.userId)&&t.append("userId",e.userId),(null===e||void 0===e?void 0:e.action)&&t.append("action",e.action),(null===e||void 0===e?void 0:e.resourceType)&&t.append("resourceType",e.resourceType),(null===e||void 0===e?void 0:e.startDate)&&t.append("startDate",e.startDate),(null===e||void 0===e?void 0:e.endDate)&&t.append("endDate",e.endDate),(null===e||void 0===e?void 0:e.page)&&t.append("page",e.page.toString()),(null===e||void 0===e?void 0:e.pageSize)&&t.append("pageSize",e.pageSize.toString()),s.x1.get("".concat(c,"?").concat(t.toString()))},staleTime:6e4}),x=e=>(0,r.a)({queryKey:[...m.SYSTEM_METRICS,e],queryFn:async()=>{const t=e?"?range=".concat(e):"";return s.x1.get("".concat(u).concat(t))},staleTime:3e4,refetchInterval:3e4}),w=e=>(0,r.a)({queryKey:[...m.SECURITY_ALERTS,e],queryFn:async()=>{const t=new URLSearchParams;return(null===e||void 0===e?void 0:e.status)&&t.append("status",e.status),(null===e||void 0===e?void 0:e.severity)&&t.append("severity",e.severity),(null===e||void 0===e?void 0:e.type)&&t.append("type",e.type),(null===e||void 0===e?void 0:e.page)&&t.append("page",e.page.toString()),(null===e||void 0===e?void 0:e.pageSize)&&t.append("pageSize",e.pageSize.toString()),s.x1.get("".concat(d,"?").concat(t.toString()))},staleTime:3e4,refetchInterval:6e4}),E=()=>{const e=(0,o.NL)();return(0,a.D)({mutationFn:async e=>{let{id:t,...n}=e;return s.x1.put("".concat(d,"/").concat(t),n)},onSuccess:()=>{e.invalidateQueries({queryKey:m.SECURITY_ALERTS})}})},b=()=>{const e=(0,o.NL)();return(0,a.D)({mutationFn:async e=>{let{key:t,value:n,category:r}=e;return s.x1.put("".concat(l,"/").concat(t),{value:n,category:r})},onSuccess:()=>{e.invalidateQueries({queryKey:m.SYSTEM_CONFIG})}})},T=()=>{const e=(0,o.NL)();return(0,a.D)({mutationFn:async e=>{let{id:t,...n}=e;return s.x1.put("".concat(f,"/").concat(t),n)},onSuccess:()=>{e.invalidateQueries({queryKey:m.RESOURCE_QUOTAS})}})},R=()=>(0,r.a)({queryKey:m.VM_TEMPLATES,queryFn:async()=>s.x1.get(v),staleTime:3e5}),N=()=>{const e=(0,o.NL)();return(0,a.D)({mutationFn:async e=>s.x1.post(v,e),onSuccess:()=>{e.invalidateQueries({queryKey:m.VM_TEMPLATES})}})},_=()=>{const e=(0,o.NL)();return(0,a.D)({mutationFn:async e=>s.x1.delete("".concat(v,"/").concat(e)),onSuccess:()=>{e.invalidateQueries({queryKey:m.VM_TEMPLATES})}})},L=e=>(0,r.a)({queryKey:[...m.PERFORMANCE_REPORTS,e],queryFn:async()=>{const t=e?"?type=".concat(e):"";return s.x1.get("".concat(p).concat(t))},staleTime:6e5}),U=()=>{const e=(0,o.NL)();return(0,a.D)({mutationFn:async e=>{let{userIds:t,operation:n,data:r}=e;return s.x1.post("".concat(i,"/bulk"),{userIds:t,operation:n,data:r})},onSuccess:()=>{e.invalidateQueries({queryKey:m.USERS}),e.invalidateQueries({queryKey:m.AUDIT_LOGS})}})}},60345:function(e,t,n){n.d(t,{cn:function(){return a}});var r=n(50348),o=n(23986);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.m)((0,r.W)(t))}}}]);