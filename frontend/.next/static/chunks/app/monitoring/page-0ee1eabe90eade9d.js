(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5738],{49081:function(e,t,s){Promise.resolve().then(s.bind(s,49245))},49245:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return re},dynamic:function(){return se}});var r=s(57437),a=s(2265),n=s(64874),i=s(87884),l=s(96704),d=s(20105),o=s(6599),c=s(74628),m=s(15727),u=s(10609),x=s(47461),h=s(40150),g=s(20985),v=s(3089),p=s(11981),f=s(72894),b=s(74056),j=s(6141),w=s(64280),N=s(55458),y=s(87074),k=s(469),S=s(11392),Z=s(26714),M=s(90998),C=s(97332),I=s(62574),D=s(59404),T=s(41735),V=s(45271),O=s(90926),A=s(33787),U=s(76746),P=s(657),R=s(41827),B=s(82549),L=s(83523),E=s(17158);const z=e=>{let{alerts:t,relations:s,onAlertClick:n,onAcknowledge:i}=e;const l=(0,a.useRef)(null),[d,c]=(0,a.useState)(null),[m,x]=(0,a.useState)(""),[g,w]=(0,a.useState)({}),N=t.reduce(((e,t)=>{const s=t.resource||"Unknown";return e[s]||(e[s]=[]),e[s].push(t),e}),{}),y=e=>{switch(e){case"critical":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";case"error":return"text-orange-600 bg-orange-100 dark:bg-orange-900/20 dark:text-orange-400";case"warning":return"text-amber-600 bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400";case"info":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400"}},k=e=>{switch(e){case"critical":case"error":return(0,r.jsx)(p.Z,{className:"h-4 w-4"});case"warning":return(0,r.jsx)(f.Z,{className:"h-4 w-4"});default:return(0,r.jsx)(b.Z,{className:"h-4 w-4"})}},S=e=>{switch(e){case"firing":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";case"acknowledged":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";case"resolved":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400"}},Z=e=>{switch(e){case"causes":return"follows";case"follows":return"causes";default:return e}},M=m?t.filter((e=>e.name.toLowerCase().includes(m.toLowerCase())||e.description.toLowerCase().includes(m.toLowerCase())||e.resource.toLowerCase().includes(m.toLowerCase())||Object.entries(e.labels).some((e=>{let[t,s]=e;return t.toLowerCase().includes(m.toLowerCase())||s.toLowerCase().includes(m.toLowerCase())})))):t;return(0,a.useEffect)((()=>{if(!l.current||!d)return;const e=l.current,r=e.getContext("2d");if(!r)return;e.width=e.clientWidth,e.height=e.clientHeight,r.clearRect(0,0,e.width,e.height);const a=t.find((e=>e.id===d));if(!a)return;const n=(e=>{const r=[];return s.filter((t=>t.source===e)).forEach((e=>{const s=t.find((t=>t.id===e.target));s&&r.push({alert:s,relation:e})})),s.filter((t=>t.target===e)).forEach((e=>{const s=t.find((t=>t.id===e.source));s&&r.push({alert:s,relation:{...e,type:Z(e.type)}})})),r})(d);if(0===n.length)return r.font="14px sans-serif",r.fillStyle="#6b7280",r.textAlign="center",r.textBaseline="middle",void r.fillText("No alert correlations found",e.width/2,e.height/2);const i=e.width/2,o=e.height/2,m=.7*Math.min(i,o);(()=>{r.beginPath(),r.arc(i,o,30,0,2*Math.PI);r.fillStyle={critical:"#ef4444",error:"#f97316",warning:"#f59e0b",info:"#3b82f6"}[a.severity]||"#6b7280",r.fill(),r.font="bold 12px sans-serif",r.fillStyle="#ffffff",r.textAlign="center",r.textBaseline="middle",r.fillText(a.name.substring(0,10),i,o)})(),(()=>{const e=2*Math.PI/n.length;n.forEach(((t,s)=>{const a=s*e,n=i+m*Math.cos(a),l=o+m*Math.sin(a);r.beginPath(),r.moveTo(i,o),r.lineTo(n,l);const d={causes:"#ef4444",follows:"#3b82f6",correlates:"#8b5cf6"};r.strokeStyle=d[t.relation.type]||"#6b7280",r.lineWidth=3*t.relation.confidence+1,r.stroke();const c=n-i,u=l-o,x=Math.sqrt(c*c+u*u),h=c/x,g=u/x,v=i+h*(x-40),p=o+g*(x-40),f=-g,b=h;r.beginPath(),r.moveTo(v,p),r.lineTo(v-10*h+6*f,p-10*g+6*b),r.lineTo(v-10*h-6*f,p-10*g-6*b),r.closePath(),r.fillStyle=d[t.relation.type]||"#6b7280",r.fill(),r.font="10px sans-serif",r.fillStyle="#6b7280",r.textAlign="center",r.textBaseline="middle";const j=i+h*(x/2),w=o+g*(x/2)-10;r.fillText((e=>{switch(e.type){case"causes":return"Likely causes";case"follows":return"Likely effect of";case"correlates":return"Correlated with";default:return"Related to"}})(t.relation),j,w),r.font="9px sans-serif",r.fillText("".concat(Math.round(100*t.relation.confidence),"%"),j,w+12),r.beginPath(),r.arc(n,l,25,0,2*Math.PI);r.fillStyle={critical:"#ef4444",error:"#f97316",warning:"#f59e0b",info:"#3b82f6"}[t.alert.severity]||"#6b7280",r.fill(),r.font="bold 11px sans-serif",r.fillStyle="#ffffff",r.textAlign="center",r.textBaseline="middle",r.fillText(t.alert.name.substring(0,8),n,l)}))})();const u=t=>{const s=e.getBoundingClientRect(),r=t.clientX-s.left,a=t.clientY-s.top,l=2*Math.PI/n.length;for(let e=0;e<n.length;e++){const t=e*l,s=i+m*Math.cos(t),d=o+m*Math.sin(t);if(Math.sqrt(Math.pow(s-r,2)+Math.pow(d-a,2))<=25){c(n[e].alert.id);break}}};return e.addEventListener("click",u),()=>{e.removeEventListener("click",u)}}),[t,s,d]),(0,r.jsxs)(u.Zb,{className:"h-full",children:[(0,r.jsxs)(u.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(u.ll,{children:"Alert Correlation"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(R.Z,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),(0,r.jsx)("input",{type:"text",placeholder:"Search alerts...",className:"pl-8 h-9 w-[200px] rounded-md border border-input bg-background px-3 py-1 text-sm shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring",value:m,onChange:e=>x(e.target.value)}),m&&(0,r.jsx)("button",{className:"absolute right-2.5 top-2.5 h-4 w-4 text-muted-foreground",onClick:()=>x(""),children:(0,r.jsx)(B.Z,{className:"h-4 w-4"})})]})]}),(0,r.jsx)(u.aY,{className:"p-0",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 h-full",children:[(0,r.jsxs)("div",{className:"border-r border-border overflow-y-auto",style:{maxHeight:"500px"},children:[Object.entries(N).map((e=>{let[t,s]=e;const a=s.filter((e=>M.some((t=>t.id===e.id))));return 0===a.length?null:(0,r.jsxs)("div",{className:"border-b border-border last:border-b-0",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-muted/50",onClick:()=>(e=>{w((t=>({...t,[e]:!t[e]})))})(t),children:[(0,r.jsxs)("div",{className:"font-medium flex items-center",children:[g[t]?(0,r.jsx)(L.Z,{className:"h-4 w-4 mr-1"}):(0,r.jsx)(E.Z,{className:"h-4 w-4 mr-1"}),t]}),(0,r.jsxs)(h.C,{variant:"outline",children:[a.length," alert",1!==a.length?"s":""]})]}),g[t]&&(0,r.jsx)("div",{className:"pl-4",children:a.map((e=>(0,r.jsx)("div",{className:"p-2 border-l-2 mb-1 ml-2 cursor-pointer hover:bg-muted/50 ".concat(d===e.id?"bg-muted border-primary":"border-transparent ".concat(y(e.severity))),onClick:()=>{c(e.id),n&&n(e)},children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:k(e.severity)}),(0,r.jsxs)("div",{className:"ml-2 flex-1",children:[(0,r.jsx)("h3",{className:"text-sm font-medium",children:e.name}),(0,r.jsx)("div",{className:"mt-1 text-xs text-muted-foreground",children:(0,r.jsx)("p",{children:e.description})}),(0,r.jsxs)("div",{className:"mt-1 flex flex-wrap gap-1",children:[(0,r.jsx)(h.C,{variant:"outline",className:S(e.status),children:e.status}),(0,r.jsxs)("span",{className:"text-xs flex items-center text-muted-foreground",children:[(0,r.jsx)(j.Z,{className:"h-3 w-3 inline mr-1"}),(0,o.Z)(new Date(e.startTime),"MMM d, HH:mm")]})]})]})]})},e.id)))})]},t)})),0===M.length&&(0,r.jsx)("div",{className:"p-4 text-center text-muted-foreground",children:"No alerts match your search"})]}),(0,r.jsx)("div",{className:"p-4",children:d?(0,r.jsxs)(r.Fragment,{children:[(()=>{const e=t.find((e=>e.id===d));return e?(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.description}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,r.jsx)(h.C,{variant:"outline",className:y(e.severity),children:e.severity}),(0,r.jsx)(h.C,{variant:"outline",className:S(e.status),children:e.status}),(0,r.jsxs)("span",{className:"text-xs flex items-center text-muted-foreground",children:[(0,r.jsx)(j.Z,{className:"h-3 w-3 inline mr-1"}),(0,o.Z)(new Date(e.startTime),"MMM d, HH:mm:ss")]})]}),"firing"===e.status&&i&&(0,r.jsx)(v.z,{size:"sm",variant:"outline",onClick:()=>i(e.id),className:"mb-3",children:"Acknowledge"}),Object.entries(e.labels).length>0&&(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("h4",{className:"text-sm font-medium mb-1",children:"Labels"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-1",children:Object.entries(e.labels).map((e=>{let[t,s]=e;return(0,r.jsxs)(h.C,{variant:"outline",className:"text-xs",children:[t,": ",s]},t)}))})]})]}):null})(),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-medium mb-2",children:"Alert Correlation"}),(0,r.jsx)("div",{className:"border rounded-md",style:{height:"300px"},children:(0,r.jsx)("canvas",{ref:l,className:"w-full h-full"})})]})]}):(0,r.jsx)("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:"Select an alert to view details and correlations"})})]})})]})};var H=s(59792);l.kL.register(l.uw,l.f$,l.od,l.jn,l.ZL,l.Dx,l.u,l.De,l.qi);const Y=H.env.NEXT_PUBLIC_API_URL||"http://localhost:8090/api",W=H.env.NEXT_PUBLIC_WS_URL||"ws://localhost:8091/ws",F=[{label:"Last 15 minutes",value:"15m",seconds:900},{label:"Last hour",value:"1h",seconds:3600},{label:"Last 6 hours",value:"6h",seconds:21600},{label:"Last 24 hours",value:"24h",seconds:86400},{label:"Last 7 days",value:"7d",seconds:604800}],_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===e)return"0 Bytes";const s=1024,r=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],n=Math.floor(Math.log(e)/Math.log(s));return parseFloat((e/Math.pow(s,n)).toFixed(r))+" "+a[n]},q=e=>"".concat(Math.round(e),"%"),K=e=>{switch(e){case"critical":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";case"error":return"text-orange-600 bg-orange-100 dark:bg-orange-900/20 dark:text-orange-400";case"warning":return"text-amber-600 bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400";case"info":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400"}},X=e=>{switch(e){case"critical":case"error":return(0,r.jsx)(p.Z,{className:"h-4 w-4"});case"warning":return(0,r.jsx)(f.Z,{className:"h-4 w-4"});default:return(0,r.jsx)(b.Z,{className:"h-4 w-4"})}},$=e=>{switch(e){case"firing":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";case"acknowledged":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400";case"resolved":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400"}},Q=e=>{switch(e){case"running":return"text-green-600 bg-green-100 dark:bg-green-900/20 dark:text-green-400";case"stopped":return"text-amber-600 bg-amber-100 dark:bg-amber-900/20 dark:text-amber-400";case"error":return"text-red-600 bg-red-100 dark:bg-red-900/20 dark:text-red-400";default:return"text-gray-600 bg-gray-100 dark:bg-gray-800 dark:text-gray-400"}},G=e=>{let{title:t,value:s,icon:a,change:n,sparklineData:i}=e;return(0,r.jsxs)(u.Zb,{children:[(0,r.jsxs)(u.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(u.ll,{className:"text-sm font-medium",children:t}),(0,r.jsx)("div",{className:"h-4 w-4 text-muted-foreground",children:a})]}),(0,r.jsxs)(u.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:s}),void 0!==n&&(0,r.jsxs)("p",{className:"text-xs ".concat(n>=0?"text-green-500":"text-red-500"),children:[n>0?"+":"",n,"% from last period"]}),i&&(0,r.jsx)("div",{className:"h-10 mt-2",children:(0,r.jsx)(d.x1,{data:{labels:i.map(((e,t)=>"")),datasets:[{data:i,borderColor:"rgba(59, 130, 246, 0.8)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderWidth:2,pointRadius:0,tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}},scales:{x:{display:!1},y:{display:!1,min:.8*Math.min(...i),max:1.2*Math.max(...i)}}}})})]})]})},J=e=>{let{alert:t,onAcknowledge:s}=e;return(0,r.jsx)("div",{className:"p-4 rounded-lg mb-3 ".concat(K(t.severity)),children:(0,r.jsxs)("div",{className:"flex items-start",children:[(0,r.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:X(t.severity)}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[(0,r.jsx)("h3",{className:"text-sm font-medium",children:t.name}),(0,r.jsx)("div",{className:"mt-1 text-sm",children:(0,r.jsx)("p",{children:t.description})}),(0,r.jsxs)("div",{className:"mt-2 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex space-x-2 text-xs",children:[(0,r.jsx)(h.C,{variant:"outline",className:$(t.status),children:t.status}),(0,r.jsxs)("span",{className:"text-xs text-muted-foreground",children:[(0,r.jsx)(j.Z,{className:"h-3 w-3 inline mr-1"}),(0,o.Z)(new Date(t.startTime),"MMM d, HH:mm:ss")]}),(0,r.jsx)("span",{className:"text-xs",children:t.resource})]}),"firing"===t.status&&(0,r.jsx)(v.z,{size:"sm",variant:"outline",onClick:()=>s(t.id),children:"Acknowledge"})]})]})]})})},ee=e=>{let{vms:t}=e;return(0,r.jsxs)(V.iA,{children:[(0,r.jsx)(V.Rn,{children:"List of monitored virtual machines"}),(0,r.jsx)(V.xD,{children:(0,r.jsxs)(V.SC,{children:[(0,r.jsx)(V.ss,{children:"Name"}),(0,r.jsx)(V.ss,{children:"Status"}),(0,r.jsx)(V.ss,{children:"CPU"}),(0,r.jsx)(V.ss,{children:"Memory"}),(0,r.jsx)(V.ss,{children:"Disk"}),(0,r.jsx)(V.ss,{children:"Network"}),(0,r.jsx)(V.ss,{children:"IOPS"})]})}),(0,r.jsx)(V.RM,{children:t.map((e=>(0,r.jsxs)(V.SC,{children:[(0,r.jsx)(V.pj,{className:"font-medium",children:e.name}),(0,r.jsx)(V.pj,{children:(0,r.jsx)(h.C,{variant:"outline",className:Q(e.status),children:e.status})}),(0,r.jsx)(V.pj,{children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-sm",children:q(e.cpuUsage)}),(0,r.jsx)(g.E,{value:e.cpuUsage,className:"h-1 w-24"})]})}),(0,r.jsx)(V.pj,{children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-sm",children:q(e.memoryUsage)}),(0,r.jsx)(g.E,{value:e.memoryUsage,className:"h-1 w-24"})]})}),(0,r.jsx)(V.pj,{children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-sm",children:q(e.diskUsage)}),(0,r.jsx)(g.E,{value:e.diskUsage,className:"h-1 w-24"})]})}),(0,r.jsx)(V.pj,{children:(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("span",{className:"block",children:["\u2191 ",_(e.networkTx),"/s"]}),(0,r.jsxs)("span",{className:"block",children:["\u2193 ",_(e.networkRx),"/s"]})]})}),(0,r.jsxs)(V.pj,{children:[e.iops," IOPS"]})]},e.vmId)))})]})};var te=()=>{const{toast:e}=(0,D.p)(),[t,s]=(0,a.useState)(F[1].value),[l,p]=(0,a.useState)("overview"),{data:b,isLoading:j,refetch:V}=(0,n.a)({queryKey:["systemMetrics",t],queryFn:async()=>{var e;const s=(null===(e=F.find((e=>e.value===t)))||void 0===e?void 0:e.seconds)||3600,r=await fetch("".concat(Y,"/monitoring/metrics?timeRange=").concat(s));if(!r.ok)throw new Error("Failed to fetch system metrics");return r.json()},refetchInterval:3e4}),{data:R,isLoading:B,refetch:L}=(0,n.a)({queryKey:["alerts"],queryFn:async()=>{const e=await fetch("".concat(Y,"/monitoring/alerts"));if(!e.ok)throw new Error("Failed to fetch alerts");return e.json()},refetchInterval:15e3}),{data:E,isLoading:H,refetch:_}=(0,n.a)({queryKey:["vms"],queryFn:async()=>{const e=await fetch("".concat(Y,"/monitoring/vms"));if(!e.ok)throw new Error("Failed to fetch VM metrics");return e.json()},refetchInterval:3e4}),{lastMessage:K}=(0,i.ZP)("".concat(W,"/monitoring"),{onOpen:()=>{console.log("WebSocket connected")},onError:t=>{console.error("WebSocket error:",t),e({title:"WebSocket Error",description:"Failed to connect to real-time updates",variant:"destructive"})},shouldReconnect:()=>!0});(0,a.useEffect)((()=>{if(null!==K){const t=JSON.parse(K.data);switch(t.type){case"metric":V();break;case"alert":t.alert&&"firing"===t.alert.status&&e({title:"".concat(t.alert.severity.toUpperCase(),": ").concat(t.alert.name),description:t.alert.description,variant:"destructive"}),L();break;case"vm":_()}}}),[K,V,L,_,e]);const X=async t=>{try{if(!(await fetch("".concat(Y,"/monitoring/alerts/").concat(t,"/acknowledge"),{method:"POST"})).ok)throw new Error("Failed to acknowledge alert");L(),e({title:"Alert Acknowledged",description:"The alert has been acknowledged"})}catch(s){e({title:"Error",description:s instanceof Error?s.message:"An unknown error occurred",variant:"destructive"})}},$=(null===b||void 0===b?void 0:b.cpuTimeseriesData)||Array(24).fill(0).map((()=>100*Math.random())),Q=(null===b||void 0===b?void 0:b.memoryTimeseriesData)||Array(24).fill(0).map((()=>100*Math.random())),te=(null===b||void 0===b?void 0:b.diskTimeseriesData)||Array(24).fill(0).map((()=>100*Math.random())),se=(null===b||void 0===b?void 0:b.networkTimeseriesData)||Array(24).fill(0).map((()=>100*Math.random())),re=(null===b||void 0===b?void 0:b.timeLabels)||Array(24).fill(0).map(((e,t)=>(0,o.Z)(new Date(Date.now()-3600*(23-t)*1e3),"HH:mm"))),ae={labels:re,datasets:[{label:"CPU Usage (%)",data:$,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.4},{label:"Memory Usage (%)",data:Q,borderColor:"rgba(153, 102, 255, 1)",backgroundColor:"rgba(153, 102, 255, 0.2)",tension:.4},{label:"Disk Usage (%)",data:te,borderColor:"rgba(255, 159, 64, 1)",backgroundColor:"rgba(255, 159, 64, 0.2)",tension:.4},{label:"Network (Mbps)",data:se,borderColor:"rgba(54, 162, 235, 1)",backgroundColor:"rgba(54, 162, 235, 0.2)",tension:.4}]},ne=a.useMemo((()=>R?{critical:R.filter((e=>"critical"===e.severity&&"firing"===e.status)).length,error:R.filter((e=>"error"===e.severity&&"firing"===e.status)).length,warning:R.filter((e=>"warning"===e.severity&&"firing"===e.status)).length,info:R.filter((e=>"info"===e.severity&&"firing"===e.status)).length}:{critical:0,error:0,warning:0,info:0}),[R]),ie=a.useMemo((()=>{if(!E)return{running:0,stopped:0,error:0,total:0,avgCpu:0,avgMemory:0,avgDisk:0};const e=E.filter((e=>"running"===e.status)).length,t=E.filter((e=>"stopped"===e.status)).length,s=E.filter((e=>"error"===e.status)).length,r=E.length;return{running:e,stopped:t,error:s,total:r,avgCpu:E.reduce(((e,t)=>e+t.cpuUsage),0)/(r||1),avgMemory:E.reduce(((e,t)=>e+t.memoryUsage),0)/(r||1),avgDisk:E.reduce(((e,t)=>e+t.diskUsage),0)/(r||1)}}),[E]);return(0,r.jsxs)("div",{className:"container mx-auto py-8 space-y-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Monitoring Dashboard"}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)(T.Ph,{value:t,onValueChange:s,children:[(0,r.jsx)(T.i4,{className:"w-[180px]",children:(0,r.jsx)(T.ki,{placeholder:"Select time range"})}),(0,r.jsx)(T.Bw,{children:F.map((e=>(0,r.jsx)(T.Ql,{value:e.value,children:e.label},e.value)))})]}),(0,r.jsxs)(v.z,{variant:"outline",size:"sm",onClick:()=>{V(),L(),_(),e({title:"Dashboard Refreshed",description:"The monitoring data has been refreshed"})},children:[(0,r.jsx)(w.Z,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})]}),(0,r.jsxs)(x.mQ,{defaultValue:l,onValueChange:p,children:[(0,r.jsxs)(x.dr,{className:"grid w-full grid-cols-5",children:[(0,r.jsx)(x.SP,{value:"overview",children:"Overview"}),(0,r.jsx)(x.SP,{value:"vms",children:"Virtual Machines"}),(0,r.jsx)(x.SP,{value:"alerts",children:"Alerts"}),(0,r.jsx)(x.SP,{value:"analytics",children:"Analytics"}),(0,r.jsx)(x.SP,{value:"advanced",children:"Advanced Analytics"})]}),(0,r.jsxs)(x.nU,{value:"overview",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsx)(G,{title:"System CPU Usage",value:q((null===b||void 0===b?void 0:b.currentCpuUsage)||45),icon:(0,r.jsx)(N.Z,{}),change:(null===b||void 0===b?void 0:b.cpuChangePercentage)||5.2,sparklineData:$.slice(-10)}),(0,r.jsx)(G,{title:"Memory Usage",value:q((null===b||void 0===b?void 0:b.currentMemoryUsage)||72),icon:(0,r.jsx)(y.Z,{}),change:(null===b||void 0===b?void 0:b.memoryChangePercentage)||-2.1,sparklineData:Q.slice(-10)}),(0,r.jsx)(G,{title:"Disk Usage",value:q((null===b||void 0===b?void 0:b.currentDiskUsage)||58),icon:(0,r.jsx)(k.Z,{}),change:(null===b||void 0===b?void 0:b.diskChangePercentage)||1.8,sparklineData:te.slice(-10)}),(0,r.jsx)(G,{title:"Network Usage",value:"".concat(Math.round((null===b||void 0===b?void 0:b.currentNetworkUsage)||125)," Mbps"),icon:(0,r.jsx)(S.Z,{}),change:(null===b||void 0===b?void 0:b.networkChangePercentage)||12.5,sparklineData:se.slice(-10)})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)(u.Zb,{className:"col-span-2 row-span-2",children:[(0,r.jsxs)(u.Ol,{children:[(0,r.jsx)(u.ll,{children:"System Metrics Over Time"}),(0,r.jsx)(u.SZ,{children:"Resource usage trends for the selected time period"})]}),(0,r.jsx)(u.aY,{children:(0,r.jsx)("div",{className:"h-80",children:(0,r.jsx)(d.x1,{data:ae,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{y:{beginAtZero:!0}}}})})})]}),(0,r.jsxs)(u.Zb,{children:[(0,r.jsxs)(u.Ol,{children:[(0,r.jsx)(u.ll,{children:"Virtual Machines"}),(0,r.jsx)(u.SZ,{children:"Status of managed VMs"})]}),(0,r.jsxs)(u.aY,{children:[(0,r.jsxs)("div",{className:"text-center pb-4",children:[(0,r.jsx)("div",{className:"text-3xl font-bold",children:ie.total}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total VMs"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center",children:[(0,r.jsxs)("div",{className:"bg-green-100 p-2 rounded-md dark:bg-green-900/20",children:[(0,r.jsx)("div",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:ie.running}),(0,r.jsx)("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Running"})]}),(0,r.jsxs)("div",{className:"bg-amber-100 p-2 rounded-md dark:bg-amber-900/20",children:[(0,r.jsx)("div",{className:"text-xl font-bold text-amber-600 dark:text-amber-400",children:ie.stopped}),(0,r.jsx)("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Stopped"})]}),(0,r.jsxs)("div",{className:"bg-red-100 p-2 rounded-md dark:bg-red-900/20",children:[(0,r.jsx)("div",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:ie.error}),(0,r.jsx)("p",{className:"text-xs text-red-600 dark:text-red-400",children:"Error"})]})]})]}),(0,r.jsx)(u.eW,{children:(0,r.jsx)(v.z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>p("vms"),children:"View Details"})})]}),(0,r.jsxs)(u.Zb,{children:[(0,r.jsxs)(u.Ol,{children:[(0,r.jsx)(u.ll,{children:"Active Alerts"}),(0,r.jsx)(u.SZ,{children:"Current system alerts"})]}),(0,r.jsxs)(u.aY,{children:[(0,r.jsxs)("div",{className:"text-center pb-4",children:[(0,r.jsx)("div",{className:"text-3xl font-bold",children:ne.critical+ne.error+ne.warning+ne.info}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Alerts"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-center",children:[(0,r.jsxs)("div",{className:"bg-red-100 p-2 rounded-md dark:bg-red-900/20",children:[(0,r.jsx)("div",{className:"text-xl font-bold text-red-600 dark:text-red-400",children:ne.critical}),(0,r.jsx)("p",{className:"text-xs text-red-600 dark:text-red-400",children:"Critical"})]}),(0,r.jsxs)("div",{className:"bg-orange-100 p-2 rounded-md dark:bg-orange-900/20",children:[(0,r.jsx)("div",{className:"text-xl font-bold text-orange-600 dark:text-orange-400",children:ne.error}),(0,r.jsx)("p",{className:"text-xs text-orange-600 dark:text-orange-400",children:"Error"})]}),(0,r.jsxs)("div",{className:"bg-amber-100 p-2 rounded-md dark:bg-amber-900/20",children:[(0,r.jsx)("div",{className:"text-xl font-bold text-amber-600 dark:text-amber-400",children:ne.warning}),(0,r.jsx)("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Warning"})]}),(0,r.jsxs)("div",{className:"bg-blue-100 p-2 rounded-md dark:bg-blue-900/20",children:[(0,r.jsx)("div",{className:"text-xl font-bold text-blue-600 dark:text-blue-400",children:ne.info}),(0,r.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"Info"})]})]})]}),(0,r.jsx)(u.eW,{children:(0,r.jsx)(v.z,{variant:"outline",size:"sm",className:"w-full",onClick:()=>p("alerts"),children:"View Details"})})]})]})]}),(0,r.jsxs)(x.nU,{value:"vms",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid gap-4 grid-cols-3",children:[(0,r.jsxs)(u.Zb,{children:[(0,r.jsxs)(u.Ol,{children:[(0,r.jsx)(u.ll,{children:"VM Summary"}),(0,r.jsx)(u.SZ,{children:"Overview of managed virtual machines"})]}),(0,r.jsx)(u.aY,{children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:ie.total}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total VMs"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:ie.running}),(0,r.jsx)("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Running"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-amber-600 dark:text-amber-400",children:ie.stopped}),(0,r.jsx)("p",{className:"text-xs text-amber-600 dark:text-amber-400",children:"Stopped"})]})]})})]}),(0,r.jsxs)(u.Zb,{children:[(0,r.jsxs)(u.Ol,{children:[(0,r.jsx)(u.ll,{children:"Average Resource Usage"}),(0,r.jsx)(u.SZ,{children:"Across all running VMs"})]}),(0,r.jsx)(u.aY,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,r.jsx)("span",{className:"text-sm",children:"CPU"}),(0,r.jsx)("span",{className:"text-sm",children:q(ie.avgCpu)})]}),(0,r.jsx)(g.E,{value:ie.avgCpu,className:"h-2"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,r.jsx)("span",{className:"text-sm",children:"Memory"}),(0,r.jsx)("span",{className:"text-sm",children:q(ie.avgMemory)})]}),(0,r.jsx)(g.E,{value:ie.avgMemory,className:"h-2"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,r.jsx)("span",{className:"text-sm",children:"Disk"}),(0,r.jsx)("span",{className:"text-sm",children:q(ie.avgDisk)})]}),(0,r.jsx)(g.E,{value:ie.avgDisk,className:"h-2"})]})]})})]}),(0,r.jsxs)(u.Zb,{children:[(0,r.jsxs)(u.Ol,{children:[(0,r.jsx)(u.ll,{children:"Actions"}),(0,r.jsx)(u.SZ,{children:"VM management operations"})]}),(0,r.jsxs)(u.aY,{className:"space-y-2",children:[(0,r.jsxs)(v.z,{variant:"outline",size:"sm",className:"w-full justify-start",children:[(0,r.jsx)(Z.Z,{className:"mr-2 h-4 w-4"}),"Provision New VM"]}),(0,r.jsxs)(v.z,{variant:"outline",size:"sm",className:"w-full justify-start",children:[(0,r.jsx)(M.Z,{className:"mr-2 h-4 w-4"}),"System Diagnostics"]}),(0,r.jsxs)(v.z,{variant:"outline",size:"sm",className:"w-full justify-start",children:[(0,r.jsx)(C.Z,{className:"mr-2 h-4 w-4"}),"Storage Management"]})]})]})]}),(0,r.jsxs)(u.Zb,{children:[(0,r.jsxs)(u.Ol,{children:[(0,r.jsx)(u.ll,{children:"Virtual Machines"}),(0,r.jsx)(u.SZ,{children:"All monitored virtual machines in the system"})]}),(0,r.jsx)(u.aY,{children:H?(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading VM metrics..."})}):E&&E.length>0?(0,r.jsx)(ee,{vms:E}):(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"No virtual machines found."})})})]})]}),(0,r.jsxs)(x.nU,{value:"alerts",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid gap-4 grid-cols-4",children:[(0,r.jsxs)(u.Zb,{className:"col-span-1",children:[(0,r.jsxs)(u.Ol,{children:[(0,r.jsx)(u.ll,{children:"Alert Status"}),(0,r.jsx)(u.SZ,{children:"Active alerts by severity"})]}),(0,r.jsx)(u.aY,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-sm flex items-center",children:[(0,r.jsx)("span",{className:"h-3 w-3 rounded-full bg-red-500 inline-block mr-2"}),"Critical"]}),(0,r.jsx)(h.C,{variant:"outline",className:"bg-red-100 text-red-600 dark:bg-red-900/20 dark:text-red-400",children:ne.critical})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-sm flex items-center",children:[(0,r.jsx)("span",{className:"h-3 w-3 rounded-full bg-orange-500 inline-block mr-2"}),"Error"]}),(0,r.jsx)(h.C,{variant:"outline",className:"bg-orange-100 text-orange-600 dark:bg-orange-900/20 dark:text-orange-400",children:ne.error})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-sm flex items-center",children:[(0,r.jsx)("span",{className:"h-3 w-3 rounded-full bg-amber-500 inline-block mr-2"}),"Warning"]}),(0,r.jsx)(h.C,{variant:"outline",className:"bg-amber-100 text-amber-600 dark:bg-amber-900/20 dark:text-amber-400",children:ne.warning})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-sm flex items-center",children:[(0,r.jsx)("span",{className:"h-3 w-3 rounded-full bg-blue-500 inline-block mr-2"}),"Info"]}),(0,r.jsx)(h.C,{variant:"outline",className:"bg-blue-100 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400",children:ne.info})]})]})})]}),(0,r.jsxs)(u.Zb,{className:"col-span-3",children:[(0,r.jsxs)(u.Ol,{children:[(0,r.jsx)(u.ll,{children:"Alert Timeline"}),(0,r.jsx)(u.SZ,{children:"Alert activity over time"})]}),(0,r.jsx)(u.aY,{children:(0,r.jsx)("div",{className:"h-56",children:(0,r.jsx)(d.$Q,{data:{labels:["6h ago","5h ago","4h ago","3h ago","2h ago","1h ago","Now"],datasets:[{label:"Critical",data:[2,1,3,0,2,1,ne.critical],backgroundColor:"rgba(220, 38, 38, 0.8)"},{label:"Error",data:[3,2,4,1,3,2,ne.error],backgroundColor:"rgba(234, 88, 12, 0.8)"},{label:"Warning",data:[5,4,6,3,5,4,ne.warning],backgroundColor:"rgba(245, 158, 11, 0.8)"},{label:"Info",data:[7,6,8,5,7,6,ne.info],backgroundColor:"rgba(59, 130, 246, 0.8)"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{stacked:!0},y:{stacked:!0,beginAtZero:!0}}}})})})]})]}),(0,r.jsxs)(u.Zb,{children:[(0,r.jsxs)(u.Ol,{children:[(0,r.jsx)(u.ll,{children:"Current Alerts"}),(0,r.jsx)(u.SZ,{children:"Active and recent alerts"})]}),(0,r.jsx)(u.aY,{children:B?(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading alerts..."})}):R&&R.length>0?(0,r.jsx)("div",{className:"space-y-2",children:R.map((e=>(0,r.jsx)(J,{alert:e,onAcknowledge:X},e.id)))}):(0,r.jsx)("div",{className:"text-center py-8",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"No alerts found."})})})]})]}),(0,r.jsx)(x.nU,{value:"analytics",className:"space-y-6",children:(0,r.jsxs)("div",{className:"grid gap-4 grid-cols-1",children:[(0,r.jsxs)(u.Zb,{children:[(0,r.jsxs)(u.Ol,{children:[(0,r.jsx)(u.ll,{children:"Resource Usage Analysis"}),(0,r.jsx)(u.SZ,{children:"Pattern analysis and trend detection"})]}),(0,r.jsx)(u.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"CPU Trend Analysis"}),(0,r.jsx)("div",{className:"h-60",children:(0,r.jsx)(d.x1,{data:{labels:re,datasets:[{label:"CPU Usage (%)",data:$,borderColor:"rgba(75, 192, 192, 1)",backgroundColor:"rgba(75, 192, 192, 0.2)",tension:.4,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0,max:100}}}})}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:(null===b||void 0===b?void 0:b.cpuAnalysis)||"CPU usage shows standard workday pattern with peaks during business hours."})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"font-medium mb-2",children:"Memory Allocation"}),(0,r.jsx)("div",{className:"h-60",children:(0,r.jsx)(d.$I,{data:{labels:["In Use","Available","Reserved","Cached"],datasets:[{data:[(null===b||void 0===b?void 0:b.memoryInUse)||65,(null===b||void 0===b?void 0:b.memoryAvailable)||15,(null===b||void 0===b?void 0:b.memoryReserved)||10,(null===b||void 0===b?void 0:b.memoryCached)||10],backgroundColor:["rgba(153, 102, 255, 0.8)","rgba(75, 192, 192, 0.8)","rgba(255, 159, 64, 0.8)","rgba(54, 162, 235, 0.8)"],borderWidth:1}]},options:{responsive:!0,maintainAspectRatio:!1}})}),(0,r.jsx)("div",{className:"mt-2",children:(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:(null===b||void 0===b?void 0:b.memoryAnalysis)||"Memory allocation is healthy with sufficient available memory for peak operations."})})]})]})})]}),(0,r.jsxs)(u.Zb,{children:[(0,r.jsxs)(u.Ol,{children:[(0,r.jsx)(u.ll,{children:"Predictive Insights"}),(0,r.jsx)(u.SZ,{children:"AI-powered system predictions"})]}),(0,r.jsx)(u.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,r.jsxs)("h4",{className:"font-medium mb-1 flex items-center",children:[(0,r.jsx)(Z.Z,{className:"h-4 w-4 mr-2"}),"Resource Forecasting"]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Based on current trends, system resources will be sufficient for the next 30 days. Consider adding additional storage capacity within 45 days as growth trends indicate 80% usage by that time."})]}),(0,r.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,r.jsxs)("h4",{className:"font-medium mb-1 flex items-center",children:[(0,r.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Anomaly Detection"]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Hypervisor node 2 is showing slight performance degradation patterns compared to historical baseline. This may indicate early hardware issues or resource contention. Scheduled diagnostic recommended."})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,r.jsxs)("h4",{className:"font-medium mb-1 flex items-center",children:[(0,r.jsx)(M.Z,{className:"h-4 w-4 mr-2"}),"Performance Optimization"]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"VM resource rebalancing across nodes could improve overall system performance by an estimated 12-15%. Database-heavy VMs on node 3 would benefit from memory reallocation from underutilized compute-optimized VMs."})]}),(0,r.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,r.jsxs)("h4",{className:"font-medium mb-1 flex items-center",children:[(0,r.jsx)(I.Z,{className:"h-4 w-4 mr-2"}),"Workload Patterns"]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"System has identified recurring peak usage patterns every Tuesday and Thursday between 2-4 PM UTC. Consider scheduling non-essential maintenance outside these windows and potentially allocating additional resources during peaks."})]})]})]})})]})]})}),(0,r.jsxs)(x.nU,{value:"advanced",className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid gap-4 grid-cols-2",children:[(0,r.jsx)(U.q,{title:"CPU Usage Forecast",description:"Predicted CPU usage based on historical patterns",metricName:"CPU Usage",metricUnit:"%",historicalData:[{timestamp:(0,m.Z)(new Date,24).toISOString(),value:45},{timestamp:(0,m.Z)(new Date,23).toISOString(),value:42},{timestamp:(0,m.Z)(new Date,22).toISOString(),value:47},{timestamp:(0,m.Z)(new Date,21).toISOString(),value:52},{timestamp:(0,m.Z)(new Date,20).toISOString(),value:58},{timestamp:(0,m.Z)(new Date,19).toISOString(),value:63},{timestamp:(0,m.Z)(new Date,18).toISOString(),value:68},{timestamp:(0,m.Z)(new Date,17).toISOString(),value:72},{timestamp:(0,m.Z)(new Date,16).toISOString(),value:75},{timestamp:(0,m.Z)(new Date,15).toISOString(),value:78},{timestamp:(0,m.Z)(new Date,14).toISOString(),value:76},{timestamp:(0,m.Z)(new Date,13).toISOString(),value:72},{timestamp:(0,m.Z)(new Date,12).toISOString(),value:68},{timestamp:(0,m.Z)(new Date,11).toISOString(),value:64},{timestamp:(0,m.Z)(new Date,10).toISOString(),value:60},{timestamp:(0,m.Z)(new Date,9).toISOString(),value:58},{timestamp:(0,m.Z)(new Date,8).toISOString(),value:55},{timestamp:(0,m.Z)(new Date,7).toISOString(),value:52},{timestamp:(0,m.Z)(new Date,6).toISOString(),value:48},{timestamp:(0,m.Z)(new Date,5).toISOString(),value:45},{timestamp:(0,m.Z)(new Date,4).toISOString(),value:42},{timestamp:(0,m.Z)(new Date,3).toISOString(),value:40},{timestamp:(0,m.Z)(new Date,2).toISOString(),value:38},{timestamp:(0,m.Z)(new Date,1).toISOString(),value:42}],predictedData:[{timestamp:(new Date).toISOString(),value:45,upperBound:50,lowerBound:40},{timestamp:(0,c.Z)(new Date,1).toISOString(),value:48,upperBound:55,lowerBound:41},{timestamp:(0,c.Z)(new Date,2).toISOString(),value:52,upperBound:60,lowerBound:44},{timestamp:(0,c.Z)(new Date,3).toISOString(),value:58,upperBound:67,lowerBound:49},{timestamp:(0,c.Z)(new Date,4).toISOString(),value:65,upperBound:75,lowerBound:55},{timestamp:(0,c.Z)(new Date,5).toISOString(),value:72,upperBound:82,lowerBound:62},{timestamp:(0,c.Z)(new Date,6).toISOString(),value:78,upperBound:88,lowerBound:68},{timestamp:(0,c.Z)(new Date,7).toISOString(),value:82,upperBound:92,lowerBound:72},{timestamp:(0,c.Z)(new Date,8).toISOString(),value:80,upperBound:90,lowerBound:70},{timestamp:(0,c.Z)(new Date,9).toISOString(),value:75,upperBound:85,lowerBound:65},{timestamp:(0,c.Z)(new Date,10).toISOString(),value:68,upperBound:78,lowerBound:58},{timestamp:(0,c.Z)(new Date,11).toISOString(),value:60,upperBound:70,lowerBound:50}],anomalies:[{timestamp:(0,c.Z)(new Date,5).toISOString(),severity:"medium",message:"Unusual spike in CPU usage"}]}),(0,r.jsx)(P.z,{title:"Resource Utilization",description:"Hierarchical view of resource usage across the system",data:{id:"root",name:"System",value:100,children:[{id:"compute",name:"Compute",value:65,children:[{id:"vm-1",name:"VM-1",value:78},{id:"vm-2",name:"VM-2",value:45},{id:"vm-3",name:"VM-3",value:92},{id:"vm-4",name:"VM-4",value:58},{id:"vm-5",name:"VM-5",value:62}]},{id:"storage",name:"Storage",value:72,children:[{id:"storage-1",name:"SSD-1",value:85},{id:"storage-2",name:"SSD-2",value:65},{id:"storage-3",name:"HDD-1",value:45}]},{id:"network",name:"Network",value:48,children:[{id:"network-1",name:"Switch-1",value:52},{id:"network-2",name:"Router-1",value:38},{id:"network-3",name:"Gateway",value:65}]}]},height:350})]}),(0,r.jsxs)("div",{className:"grid gap-4 grid-cols-2",children:[(0,r.jsx)(O.O,{title:"CPU Usage Patterns",description:"Heatmap showing CPU usage patterns across VMs over time",data:[{timestamp:"2025-04-11T00:00:00Z",resourceId:"VM-1",value:45},{timestamp:"2025-04-11T01:00:00Z",resourceId:"VM-1",value:48},{timestamp:"2025-04-11T02:00:00Z",resourceId:"VM-1",value:52},{timestamp:"2025-04-11T03:00:00Z",resourceId:"VM-1",value:58},{timestamp:"2025-04-11T04:00:00Z",resourceId:"VM-1",value:65},{timestamp:"2025-04-11T05:00:00Z",resourceId:"VM-1",value:72},{timestamp:"2025-04-11T06:00:00Z",resourceId:"VM-1",value:78},{timestamp:"2025-04-11T00:00:00Z",resourceId:"VM-2",value:35},{timestamp:"2025-04-11T01:00:00Z",resourceId:"VM-2",value:38},{timestamp:"2025-04-11T02:00:00Z",resourceId:"VM-2",value:42},{timestamp:"2025-04-11T03:00:00Z",resourceId:"VM-2",value:48},{timestamp:"2025-04-11T04:00:00Z",resourceId:"VM-2",value:55},{timestamp:"2025-04-11T05:00:00Z",resourceId:"VM-2",value:62},{timestamp:"2025-04-11T06:00:00Z",resourceId:"VM-2",value:68},{timestamp:"2025-04-11T00:00:00Z",resourceId:"VM-3",value:55},{timestamp:"2025-04-11T01:00:00Z",resourceId:"VM-3",value:58},{timestamp:"2025-04-11T02:00:00Z",resourceId:"VM-3",value:62},{timestamp:"2025-04-11T03:00:00Z",resourceId:"VM-3",value:68},{timestamp:"2025-04-11T04:00:00Z",resourceId:"VM-3",value:75},{timestamp:"2025-04-11T05:00:00Z",resourceId:"VM-3",value:82},{timestamp:"2025-04-11T06:00:00Z",resourceId:"VM-3",value:88},{timestamp:"2025-04-11T00:00:00Z",resourceId:"VM-4",value:25},{timestamp:"2025-04-11T01:00:00Z",resourceId:"VM-4",value:28},{timestamp:"2025-04-11T02:00:00Z",resourceId:"VM-4",value:32},{timestamp:"2025-04-11T03:00:00Z",resourceId:"VM-4",value:38},{timestamp:"2025-04-11T04:00:00Z",resourceId:"VM-4",value:45},{timestamp:"2025-04-11T05:00:00Z",resourceId:"VM-4",value:52},{timestamp:"2025-04-11T06:00:00Z",resourceId:"VM-4",value:58},{timestamp:"2025-04-11T00:00:00Z",resourceId:"VM-5",value:65},{timestamp:"2025-04-11T01:00:00Z",resourceId:"VM-5",value:68},{timestamp:"2025-04-11T02:00:00Z",resourceId:"VM-5",value:72},{timestamp:"2025-04-11T03:00:00Z",resourceId:"VM-5",value:78},{timestamp:"2025-04-11T04:00:00Z",resourceId:"VM-5",value:85},{timestamp:"2025-04-11T05:00:00Z",resourceId:"VM-5",value:92},{timestamp:"2025-04-11T06:00:00Z",resourceId:"VM-5",value:95}]}),(0,r.jsx)(A.NetworkTopology,{title:"System Topology",description:"Interactive visualization of system components and their relationships",data:{nodes:[{id:"host-1",name:"Host-1",type:"host",status:"healthy"},{id:"vm-1",name:"VM-1",type:"vm",status:"healthy"},{id:"vm-2",name:"VM-2",type:"vm",status:"warning"},{id:"vm-3",name:"VM-3",type:"vm",status:"healthy"},{id:"vm-4",name:"VM-4",type:"vm",status:"error"},{id:"vm-5",name:"VM-5",type:"vm",status:"healthy"},{id:"storage-1",name:"SSD-1",type:"storage",status:"healthy"},{id:"storage-2",name:"SSD-2",type:"storage",status:"healthy"},{id:"network-1",name:"Switch",type:"network",status:"healthy"}],edges:[{source:"host-1",target:"vm-1",type:"dependency"},{source:"host-1",target:"vm-2",type:"dependency"},{source:"host-1",target:"vm-3",type:"dependency"},{source:"host-1",target:"vm-4",type:"dependency"},{source:"host-1",target:"vm-5",type:"dependency"},{source:"vm-1",target:"storage-1",type:"storage",metrics:{latency:2.5}},{source:"vm-2",target:"storage-1",type:"storage",metrics:{latency:3.2}},{source:"vm-3",target:"storage-2",type:"storage",metrics:{latency:1.8}},{source:"vm-4",target:"storage-2",type:"storage",metrics:{latency:4.5}},{source:"vm-5",target:"storage-1",type:"storage",metrics:{latency:2.1}},{source:"vm-1",target:"network-1",type:"network",metrics:{bandwidth:100}},{source:"vm-2",target:"network-1",type:"network",metrics:{bandwidth:80}},{source:"vm-3",target:"network-1",type:"network",metrics:{bandwidth:120}},{source:"vm-4",target:"network-1",type:"network",metrics:{bandwidth:60}},{source:"vm-5",target:"network-1",type:"network",metrics:{bandwidth:90}}]},height:350})]}),(0,r.jsx)(z,{alerts:[{id:"alert-1",name:"High CPU Usage",description:"VM-5 CPU usage exceeds 90%",severity:"warning",status:"firing",startTime:(new Date).toISOString(),labels:{host:"Host-1",vm:"VM-5",metric:"cpu"},value:95,resource:"VM-5"},{id:"alert-2",name:"Memory Pressure",description:"VM-5 memory usage exceeds 85%",severity:"warning",status:"firing",startTime:(0,m.Z)(new Date,1).toISOString(),labels:{host:"Host-1",vm:"VM-5",metric:"memory"},value:88,resource:"VM-5"},{id:"alert-3",name:"Disk I/O Saturation",description:"SSD-1 I/O operations exceeding threshold",severity:"error",status:"firing",startTime:(0,m.Z)(new Date,2).toISOString(),labels:{storage:"SSD-1",metric:"iops"},value:95,resource:"SSD-1"},{id:"alert-4",name:"Network Latency",description:"Increased network latency detected",severity:"warning",status:"acknowledged",startTime:(0,m.Z)(new Date,3).toISOString(),labels:{network:"Switch-1",metric:"latency"},value:120,resource:"Network"},{id:"alert-5",name:"VM Unresponsive",description:"VM-4 is not responding to health checks",severity:"critical",status:"firing",startTime:(0,m.Z)(new Date,1).toISOString(),labels:{host:"Host-1",vm:"VM-4",metric:"health"},value:0,resource:"VM-4"}],relations:[{source:"alert-3",target:"alert-1",type:"causes",confidence:.85},{source:"alert-3",target:"alert-2",type:"causes",confidence:.75},{source:"alert-4",target:"alert-3",type:"correlates",confidence:.65},{source:"alert-5",target:"alert-4",type:"correlates",confidence:.55}],onAcknowledge:t=>{e({title:"Alert Acknowledged",description:"Alert ".concat(t," has been acknowledged")})}})]})]})]})};const se="force-dynamic";function re(){return(0,r.jsx)(te,{})}},40150:function(e,t,s){"use strict";s.d(t,{C:function(){return l}});var r=s(57437),a=(s(2265),s(96061)),n=s(60345);const i=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:s}),t),...a})}},3089:function(e,t,s){"use strict";s.d(t,{z:function(){return o}});var r=s(57437),a=s(2265),n=s(67256),i=s(96061),l=s(60345);const d=(0,i.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm hover:shadow-md",success:"bg-success text-success-foreground hover:bg-success/90 shadow-sm hover:shadow-md",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-sm hover:shadow-md",info:"bg-info text-info-foreground hover:bg-info/90 shadow-sm hover:shadow-md",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-accent-foreground/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm",ghost:"hover:bg-accent hover:text-accent-foreground hover:scale-105",link:"text-primary underline-offset-4 hover:underline hover:text-primary/80",nova:"bg-gradient-to-r from-nova-500 to-nova-600 text-white hover:from-nova-600 hover:to-nova-700 shadow-md hover:shadow-lg"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef(((e,t)=>{let{className:s,variant:a,size:i,asChild:o=!1,...c}=e;const m=o?n.g7:"button";return(0,r.jsx)(m,{className:(0,l.cn)(d({variant:a,size:i,className:s})),ref:t,...c})}));o.displayName="Button"},10609:function(e,t,s){"use strict";s.d(t,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return i},aY:function(){return c},eW:function(){return m},ll:function(){return d}});var r=s(57437),a=s(2265),n=s(60345);const i=a.forwardRef(((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...a})}));i.displayName="Card";const l=a.forwardRef(((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...a})}));l.displayName="CardHeader";const d=a.forwardRef(((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...a})}));d.displayName="CardTitle";const o=a.forwardRef(((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...a})}));o.displayName="CardDescription";const c=a.forwardRef(((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...a})}));c.displayName="CardContent";const m=a.forwardRef(((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...a})}));m.displayName="CardFooter"},20985:function(e,t,s){"use strict";s.d(t,{E:function(){return l}});var r=s(57437),a=s(2265),n=s(23177),i=s(60345);const l=a.forwardRef(((e,t)=>{let{className:s,value:a,...l}=e;return(0,r.jsx)(n.fC,{ref:t,className:(0,i.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...l,children:(0,r.jsx)(n.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})}));l.displayName=n.fC.displayName},45271:function(e,t,s){"use strict";s.d(t,{RM:function(){return d},Rn:function(){return u},SC:function(){return o},iA:function(){return i},pj:function(){return m},ss:function(){return c},xD:function(){return l}});var r=s(57437),a=s(2265),n=s(60345);const i=a.forwardRef(((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("div",{className:"w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",s),...a})})}));i.displayName="Table";const l=a.forwardRef(((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",s),...a})}));l.displayName="TableHeader";const d=a.forwardRef(((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",s),...a})}));d.displayName="TableBody";a.forwardRef(((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,n.cn)("bg-primary font-medium text-primary-foreground",s),...a})})).displayName="TableFooter";const o=a.forwardRef(((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...a})}));o.displayName="TableRow";const c=a.forwardRef(((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...a})}));c.displayName="TableHead";const m=a.forwardRef(((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...a})}));m.displayName="TableCell";const u=a.forwardRef(((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",s),...a})}));u.displayName="TableCaption"},59404:function(e,t,s){"use strict";s.d(t,{p:function(){return n}});var r=s(57437),a=s(5925);function n(){return{toast:e=>{const{title:t,description:s,variant:n="default",duration:i=4e3}=e,l=(0,r.jsxs)("div",{className:"grid gap-1",children:[t&&(0,r.jsx)("div",{className:"text-sm font-semibold",children:t}),s&&(0,r.jsx)("div",{className:"text-sm opacity-90",children:s})]});"destructive"===n?a.toast.error(l,{duration:i}):a.toast.success(l,{duration:i})}}}},60345:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var r=s(50348),a=s(23986);function n(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,a.m)((0,r.W)(t))}}},function(e){e.O(0,[7674,6991,3354,155,2649,5920,4874,3881,6599,4643,775,7083,3787,6730,2971,2472,1744],(function(){return t=49081,e(e.s=t);var t}));var t=e.O();_N_E=t}]);