(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6964],{82785:function(t,e,s){Promise.resolve().then(s.bind(s,4684))},4684:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return x},dynamic:function(){return g}});var r=s(57437),i=s(61396),n=s.n(i),o=s(2265),a=s(24033),c=s(70165),u=s(64874),l=s(58100);var d=s(55764);function h(t,e,s){const r=(0,c.NL)();return(0,d.D)({mutationKey:["vm-action",t,e,null===s||void 0===s?void 0:s.role],mutationFn:()=>(0,l.cD)(t,e,{role:null===s||void 0===s?void 0:s.role}),onMutate:async()=>{},onSuccess:async()=>{await Promise.all([r.invalidateQueries({queryKey:["vm",t]}),r.invalidateQueries({queryKey:["vms"]})])}})}var v=s(59404),m=s(40150),f=s(3089),p=s(10609);const g="force-dynamic";function x(){var t;const e=(0,a.useParams)(),s="string"===typeof(null===e||void 0===e?void 0:e.id)?e.id:Array.isArray(null===e||void 0===e?void 0:e.id)?null===e||void 0===e||null===(t=e.id)||void 0===t?void 0:t[0]:"",{vm:i,isLoading:d,error:g}=function(t){const{data:e,isLoading:s,error:r}=(0,u.a)({queryKey:["vm",t],queryFn:()=>(0,l.OC)(t),enabled:Boolean(t)});var i;return{vm:null!==(i=null===e||void 0===e?void 0:e.data)&&void 0!==i?i:null,isLoading:s,error:r}}(s),{toast:x}=(0,v.p)(),y=(0,c.NL)(),[b,w]=(0,o.useState)("viewer");(0,o.useEffect)((()=>{try{const t=localStorage.getItem("coreRole");"viewer"!==t&&"operator"!==t||w(t)}catch(t){}}),[]);const S="operator"!==b,j=h(s,"start",{role:b}),R=h(s,"stop",{role:b}),N=h(s,"restart",{role:b}),C=h(s,"pause",{role:b}),k=h(s,"resume",{role:b});var E,O;return(0,o.useEffect)((()=>{j.isSuccess&&(x({title:"Start requested"}),y.invalidateQueries({queryKey:["vm",s]}),y.invalidateQueries({queryKey:["vms"]})),R.isSuccess&&(x({title:"Stop requested"}),y.invalidateQueries({queryKey:["vm",s]}),y.invalidateQueries({queryKey:["vms"]})),N.isSuccess&&(x({title:"Restart requested"}),y.invalidateQueries({queryKey:["vm",s]}),y.invalidateQueries({queryKey:["vms"]})),C.isSuccess&&(x({title:"Pause requested"}),y.invalidateQueries({queryKey:["vm",s]}),y.invalidateQueries({queryKey:["vms"]})),k.isSuccess&&(x({title:"Resume requested"}),y.invalidateQueries({queryKey:["vm",s]}),y.invalidateQueries({queryKey:["vms"]}))}),[j.isSuccess,R.isSuccess,N.isSuccess,C.isSuccess,k.isSuccess,s,x,y]),(0,o.useEffect)((()=>{var t,e,s,r,i,n,o,a,c,u;j.isError&&x({title:"Start failed",description:String(null!==(n=null===(t=j.error)||void 0===t?void 0:t.message)&&void 0!==n?n:j.error),variant:"destructive"}),R.isError&&x({title:"Stop failed",description:String(null!==(o=null===(e=R.error)||void 0===e?void 0:e.message)&&void 0!==o?o:R.error),variant:"destructive"}),N.isError&&x({title:"Restart failed",description:String(null!==(a=null===(s=N.error)||void 0===s?void 0:s.message)&&void 0!==a?a:N.error),variant:"destructive"}),C.isError&&x({title:"Pause failed",description:String(null!==(c=null===(r=C.error)||void 0===r?void 0:r.message)&&void 0!==c?c:C.error),variant:"destructive"}),k.isError&&x({title:"Resume failed",description:String(null!==(u=null===(i=k.error)||void 0===i?void 0:i.message)&&void 0!==u?u:k.error),variant:"destructive"})}),[j.isError,R.isError,N.isError,C.isError,k.isError,j.error,R.error,N.error,C.error,k.error,x]),(0,r.jsx)("div",{className:"container mx-auto p-6 space-y-6",children:(0,r.jsxs)(p.Zb,{children:[(0,r.jsxs)(p.Ol,{children:[(0,r.jsx)(p.ll,{children:"VM Detail"}),(0,r.jsx)(p.SZ,{children:(0,r.jsx)(n(),{href:"/core/vms",className:"underline",children:"Back to list"})})]}),(0,r.jsx)(p.aY,{children:d?(0,r.jsx)("div",{children:"Loading VM..."}):g?(0,r.jsxs)("div",{className:"text-red-500",children:["Failed to load VM: ",String(null!==(E=null===g||void 0===g?void 0:g.message)&&void 0!==E?E:g)]}):i?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"ID"}),(0,r.jsx)("div",{className:"font-mono text-xs break-all",children:i.id}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Name"}),(0,r.jsx)("div",{children:i.name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"State"}),(0,r.jsx)("div",{children:(0,r.jsx)(m.C,{children:i.state})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Node"}),(0,r.jsx)("div",{children:null!==(O=i.node_id)&&void 0!==O?O:"-"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Created"}),(0,r.jsx)("div",{children:i.created_at})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Updated"}),(0,r.jsx)("div",{children:i.updated_at})]})]}),"tags"in i&&i.tags?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:"Tags"}),(0,r.jsx)("ul",{className:"list-disc ml-6",children:Object.entries(i.tags).map((t=>{let[e,s]=t;return(0,r.jsxs)("li",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[e,":"]})," ",s]},e)}))})]}):null,(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(f.z,{size:"sm",variant:"secondary",onClick:()=>j.mutate(),disabled:S||j.isPending,children:"Start"}),(0,r.jsx)(f.z,{size:"sm",variant:"secondary",onClick:()=>R.mutate(),disabled:S||R.isPending,children:"Stop"}),(0,r.jsx)(f.z,{size:"sm",variant:"secondary",onClick:()=>N.mutate(),disabled:S||N.isPending,children:"Restart"}),(0,r.jsx)(f.z,{size:"sm",variant:"secondary",onClick:()=>C.mutate(),disabled:S||C.isPending,children:"Pause"}),(0,r.jsx)(f.z,{size:"sm",variant:"secondary",onClick:()=>k.mutate(),disabled:S||k.isPending,children:"Resume"}),S&&(0,r.jsx)("div",{className:"text-xs text-muted-foreground self-center",children:"Switch to operator on the list page to enable actions"})]})]}):(0,r.jsx)("div",{children:"VM not found."})})]})})}},40150:function(t,e,s){"use strict";s.d(e,{C:function(){return a}});var r=s(57437),i=(s(2265),s(96061)),n=s(60345);const o=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function a(t){let{className:e,variant:s,...i}=t;return(0,r.jsx)("div",{className:(0,n.cn)(o({variant:s}),e),...i})}},3089:function(t,e,s){"use strict";s.d(e,{z:function(){return u}});var r=s(57437),i=s(2265),n=s(67256),o=s(96061),a=s(60345);const c=(0,o.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm hover:shadow-md",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm hover:shadow-md",success:"bg-success text-success-foreground hover:bg-success/90 shadow-sm hover:shadow-md",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-sm hover:shadow-md",info:"bg-info text-info-foreground hover:bg-info/90 shadow-sm hover:shadow-md",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground hover:border-accent-foreground/20",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm",ghost:"hover:bg-accent hover:text-accent-foreground hover:scale-105",link:"text-primary underline-offset-4 hover:underline hover:text-primary/80",nova:"bg-gradient-to-r from-nova-500 to-nova-600 text-white hover:from-nova-600 hover:to-nova-700 shadow-md hover:shadow-lg"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=i.forwardRef(((t,e)=>{let{className:s,variant:i,size:o,asChild:u=!1,...l}=t;const d=u?n.g7:"button";return(0,r.jsx)(d,{className:(0,a.cn)(c({variant:i,size:o,className:s})),ref:e,...l})}));u.displayName="Button"},10609:function(t,e,s){"use strict";s.d(e,{Ol:function(){return a},SZ:function(){return u},Zb:function(){return o},aY:function(){return l},eW:function(){return d},ll:function(){return c}});var r=s(57437),i=s(2265),n=s(60345);const o=i.forwardRef(((t,e)=>{let{className:s,...i}=t;return(0,r.jsx)("div",{ref:e,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...i})}));o.displayName="Card";const a=i.forwardRef(((t,e)=>{let{className:s,...i}=t;return(0,r.jsx)("div",{ref:e,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...i})}));a.displayName="CardHeader";const c=i.forwardRef(((t,e)=>{let{className:s,...i}=t;return(0,r.jsx)("h3",{ref:e,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...i})}));c.displayName="CardTitle";const u=i.forwardRef(((t,e)=>{let{className:s,...i}=t;return(0,r.jsx)("p",{ref:e,className:(0,n.cn)("text-sm text-muted-foreground",s),...i})}));u.displayName="CardDescription";const l=i.forwardRef(((t,e)=>{let{className:s,...i}=t;return(0,r.jsx)("div",{ref:e,className:(0,n.cn)("p-6 pt-0",s),...i})}));l.displayName="CardContent";const d=i.forwardRef(((t,e)=>{let{className:s,...i}=t;return(0,r.jsx)("div",{ref:e,className:(0,n.cn)("flex items-center p-6 pt-0",s),...i})}));d.displayName="CardFooter"},59404:function(t,e,s){"use strict";s.d(e,{p:function(){return n}});var r=s(57437),i=s(5925);function n(){return{toast:t=>{const{title:e,description:s,variant:n="default",duration:o=4e3}=t,a=(0,r.jsxs)("div",{className:"grid gap-1",children:[e&&(0,r.jsx)("div",{className:"text-sm font-semibold",children:e}),s&&(0,r.jsx)("div",{className:"text-sm opacity-90",children:s})]});"destructive"===n?i.toast.error(a,{duration:o}):i.toast.success(a,{duration:o})}}}},33049:function(t,e,s){"use strict";s.d(e,{R1:function(){return a},sg:function(){return c},x1:function(){return i}});var r=s(59792);const i=new class{setToken(t){this.token=t,t?localStorage.setItem("novacron_token",t):t||localStorage.removeItem("novacron_token")}clearToken(){this.token=null,localStorage.removeItem("novacron_token")}async request(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s="".concat(this.baseURL).concat(t),r={"Content-Type":"application/json",...e.headers||{}};this.token&&(r.Authorization="Bearer ".concat(this.token));const i=await fetch(s,{...e,headers:r});if(!i.ok){const t=await i.text();throw new Error("API Error: ".concat(i.status," - ").concat(t))}return 204===i.status?{}:i.json()}async get(t){return this.request(t,{method:"GET"})}async post(t,e){return this.request(t,{method:"POST",body:e?JSON.stringify(e):null})}async put(t,e){return this.request(t,{method:"PUT",body:e?JSON.stringify(e):null})}async delete(t){return this.request(t,{method:"DELETE"})}connectWebSocket(t){try{const e="".concat(this.wsURL).concat(t),s=new WebSocket(e);return this.token&&s.addEventListener("open",(()=>{s.send(JSON.stringify({type:"auth",token:this.token}))})),s}catch(e){return console.error("Failed to create WebSocket connection:",e),null}}constructor(){this.token=null,this.baseURL=r.env.NEXT_PUBLIC_API_URL||"http://localhost:8090",this.wsURL=r.env.NEXT_PUBLIC_WS_URL||"ws://localhost:8091",this.token=localStorage.getItem("novacron_token")||null}},n=r.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:8090/api/v1";class o extends Error{constructor(t,e,s,r){super(s),this.status=t,this.code=e,this.url=r}}async function a(t,e,s){try{const i=function(t,e){const s=new URL(t,n),r=new URLSearchParams;if(e)for(const[i,n]of Object.entries(e))void 0!==n&&null!==n&&""!==n&&r.set(i,String(n));return s.search=r.toString(),s.toString()}(t,e);var r;const a=null!==(r=null===s||void 0===s?void 0:s.role)&&void 0!==r?r:"viewer",c=await fetch(i,{method:"GET",headers:{Accept:"application/json","X-Role":a},credentials:"include"});if(!c.ok)return{data:null,error:{code:"HTTP_".concat(c.status),message:c.statusText}};const u=await c.json(),l=function(t){const e=t.headers.get("X-Pagination");if(e)try{return JSON.parse(e)}catch(s){return}}(c);if(l&&(u.pagination=l),u.error)throw new o(c.status,u.error.code,u.error.message,i);return u}catch(i){return{data:null,error:{code:"FETCH_ERROR",message:i instanceof Error?i.message:"Unknown error"}}}}async function c(t,e,s){const r=new URL(t,n).toString();var i;const a=null!==(i=null===s||void 0===s?void 0:s.role)&&void 0!==i?i:"viewer",c=await fetch(r,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Role":a},body:void 0!==e?JSON.stringify(e):void 0,credentials:"include"}),u=await c.json();if(u.error)throw new o(c.status,u.error.code,u.error.message,r);return u}},58100:function(t,e,s){"use strict";s.d(e,{OC:function(){return n},cD:function(){return o},tq:function(){return i}});var r=s(33049);const i=t=>(0,r.R1)("/vms",t),n=t=>(0,r.R1)("/vms/".concat(t)),o=(t,e,s)=>(0,r.sg)("/vms/".concat(t,"/").concat(e),void 0,s)},60345:function(t,e,s){"use strict";s.d(e,{cn:function(){return n}});var r=s(50348),i=s(23986);function n(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return(0,i.m)((0,r.W)(e))}},24033:function(t,e,s){t.exports=s(50094)},58810:function(t,e,s){"use strict";s.d(e,{_:function(){return r}});const r=console},20172:function(t,e,s){"use strict";s.d(e,{R:function(){return c},m:function(){return a}});var r=s(58810),i=s(17156),n=s(11909),o=s(43238);class a extends n.F{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||r._,this.observers=[],this.state=t.state||c(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter((e=>e!==t)),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,e;return null!=(t=null==(e=this.retryer)?void 0:e.continue())?t:this.execute()}async execute(){const t=()=>{var t;return this.retryer=(0,o.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(t,e)=>{this.dispatch({type:"failed",failureCount:t,error:e})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!=(t=this.options.retry)?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},e="loading"===this.state.status;try{var s,r,i,n,a,c,u,l;if(!e){var d,h,v,m;this.dispatch({type:"loading",variables:this.options.variables}),await(null==(d=(h=this.mutationCache.config).onMutate)?void 0:d.call(h,this.state.variables,this));const t=await(null==(v=(m=this.options).onMutate)?void 0:v.call(m,this.state.variables));t!==this.state.context&&this.dispatch({type:"loading",context:t,variables:this.state.variables})}const o=await t();return await(null==(s=(r=this.mutationCache.config).onSuccess)?void 0:s.call(r,o,this.state.variables,this.state.context,this)),await(null==(i=(n=this.options).onSuccess)?void 0:i.call(n,o,this.state.variables,this.state.context)),await(null==(a=(c=this.mutationCache.config).onSettled)?void 0:a.call(c,o,null,this.state.variables,this.state.context,this)),await(null==(u=(l=this.options).onSettled)?void 0:u.call(l,o,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:o}),o}catch(j){try{var f,p,g,x,y,b,w,S;throw await(null==(f=(p=this.mutationCache.config).onError)?void 0:f.call(p,j,this.state.variables,this.state.context,this)),await(null==(g=(x=this.options).onError)?void 0:g.call(x,j,this.state.variables,this.state.context)),await(null==(y=(b=this.mutationCache.config).onSettled)?void 0:y.call(b,void 0,j,this.state.variables,this.state.context,this)),await(null==(w=(S=this.options).onSettled)?void 0:w.call(S,void 0,j,this.state.variables,this.state.context)),j}finally{this.dispatch({type:"error",error:j})}}}dispatch(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"loading":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!(0,o.Kw)(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...e,...t.state}}})(this.state),i.V.batch((()=>{this.observers.forEach((e=>{e.onMutationUpdate(t)})),this.mutationCache.notify({mutation:this,type:"updated",action:t})}))}}function c(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}},11909:function(t,e,s){"use strict";s.d(e,{F:function(){return i}});var r=s(46504);class i{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),(0,r.PN)(this.cacheTime)&&(this.gcTimeout=setTimeout((()=>{this.optionalRemove()}),this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,null!=t?t:r.sk?1/0:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}},55764:function(t,e,s){"use strict";s.d(e,{D:function(){return h}});var r=s(2265),i=s(46504),n=s(20172),o=s(17156),a=s(29492);class c extends a.l{constructor(t,e){super(),this.client=t,this.setOptions(e),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var e;const s=this.options;this.options=this.client.defaultMutationOptions(t),(0,i.VS)(s,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(e=this.currentMutation)||e.setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(null==(t=this.currentMutation)||t.removeObserver(this))}onMutationUpdate(t){this.updateResult();const e={listeners:!0};"success"===t.type?e.onSuccess=!0:"error"===t.type&&(e.onError=!0),this.notify(e)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:"undefined"!==typeof t?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:(0,n.R)(),e="loading"===t.status,s={...t,isLoading:e,isPending:e,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset};this.currentResult=s}notify(t){o.V.batch((()=>{var e,s,r,i;if(this.mutateOptions&&this.hasListeners())if(t.onSuccess)null==(e=(s=this.mutateOptions).onSuccess)||e.call(s,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(r=(i=this.mutateOptions).onSettled)||r.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context);else if(t.onError){var n,o,a,c;null==(n=(o=this.mutateOptions).onError)||n.call(o,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(a=(c=this.mutateOptions).onSettled)||a.call(c,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}t.listeners&&this.listeners.forEach((({listener:t})=>{t(this.currentResult)}))}))}}var u=s(45321),l=s(70165),d=s(57798);function h(t,e,s){const n=(0,i.lV)(t,e,s),a=(0,l.NL)({context:n.context}),[h]=r.useState((()=>new c(a,n)));r.useEffect((()=>{h.setOptions(n)}),[h,n]);const m=(0,u.$)(r.useCallback((t=>h.subscribe(o.V.batchCalls(t))),[h]),(()=>h.getCurrentResult()),(()=>h.getCurrentResult())),f=r.useCallback(((t,e)=>{h.mutate(t,e).catch(v)}),[h]);if(m.error&&(0,d.L)(h.options.useErrorBoundary,[m.error]))throw m.error;return{...m,mutate:f,mutateAsync:m.mutate}}function v(){}}},function(t){t.O(0,[2649,5920,4874,6892,2971,2472,1744],(function(){return e=82785,t(t.s=e);var e}));var e=t.O();_N_E=e}]);